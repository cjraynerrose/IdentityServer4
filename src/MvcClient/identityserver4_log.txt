2018-01-11 12:29:50.630 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-11 12:29:50.692 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-11 12:29:50.708 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-11 12:29:50.733 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-11 12:29:50.755 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 12:29:50.757 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-11 12:29:50.758 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 12:29:50.760 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-11 12:29:50.765 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-11 12:29:50.773 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-11 12:29:50.775 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-11 12:29:51.002 +00:00 [DBG] Hosting starting
2018-01-11 12:29:51.166 +00:00 [DBG] Hosting started
2018-01-11 12:29:51.166 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-11 12:29:51.167 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-11 12:29:51.725 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" started.
2018-01-11 12:29:51.725 +00:00 [DBG] Connection id "0HLAOTS1JE26P" started.
2018-01-11 12:29:51.766 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" received FIN.
2018-01-11 12:29:51.766 +00:00 [DBG] Connection id "0HLAOTS1JE26P" received FIN.
2018-01-11 12:29:51.768 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" disconnecting.
2018-01-11 12:29:51.771 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" sending FIN.
2018-01-11 12:29:51.772 +00:00 [DBG] Connection id "0HLAOTS1JE26P" disconnecting.
2018-01-11 12:29:51.774 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" stopped.
2018-01-11 12:29:51.780 +00:00 [DBG] Connection id "0HLAOTS1JE26P" sending FIN.
2018-01-11 12:29:51.785 +00:00 [DBG] Connection id "0HLAOTS1JE26P" stopped.
2018-01-11 12:29:54.106 +00:00 [DBG] Connection id "0HLAOTS1JE26R" started.
2018-01-11 12:29:54.224 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 12:29:54.364 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:29:54.377 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 12:29:54.507 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:29:54.558 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 12:29:54.576 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 12:29:54.585 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 12:29:54.593 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-11 12:29:55.678 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-11 12:29:57.397 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1709.1077ms.
2018-01-11 12:29:57.519 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-11 12:29:57.657 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 131.3568ms.
2018-01-11 12:29:57.664 +00:00 [DBG] The view 'Index' was found.
2018-01-11 12:29:57.666 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 12:29:57.716 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-11 12:29:57.878 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-11 12:29:58.617 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 736.3939ms.
2018-01-11 12:29:58.642 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:29:58.649 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:29:58.706 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:29:58.709 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:29:58.768 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4208.206ms
2018-01-11 12:29:58.830 +00:00 [DBG] Connection id "0HLAOTS1JE26R" completed keep alive response.
2018-01-11 12:29:58.839 +00:00 [INF] Request finished in 4620.7764ms 200 text/html; charset=utf-8
2018-01-11 12:30:07.155 +00:00 [DBG] Connection id "0HLAOTS1JE26R" received FIN.
2018-01-11 12:30:07.162 +00:00 [DBG] Connection id "0HLAOTS1JE26R" disconnecting.
2018-01-11 12:30:07.164 +00:00 [DBG] Connection id "0HLAOTS1JE26R" sending FIN.
2018-01-11 12:30:07.164 +00:00 [DBG] Connection id "0HLAOTS1JE26R" stopped.
2018-01-11 12:30:11.359 +00:00 [DBG] Connection id "0HLAOTS1JE26S" started.
2018-01-11 12:30:11.364 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-11 12:30:11.368 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:11.369 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-11 12:30:11.372 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:30:11.375 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-11 12:30:11.380 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:11.398 +00:00 [INF] Authorization failed for user: null.
2018-01-11 12:30:11.406 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 12:30:11.415 +00:00 [INF] Executing ChallengeResult with authentication schemes (["Cookies"]).
2018-01-11 12:30:11.429 +00:00 [INF] AuthenticationScheme: Cookies was challenged.
2018-01-11 12:30:11.433 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 56.4148ms
2018-01-11 12:30:11.437 +00:00 [DBG] Connection id "0HLAOTS1JE26S" completed keep alive response.
2018-01-11 12:30:11.438 +00:00 [INF] Request finished in 74.6819ms 302 
2018-01-11 12:30:11.445 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/Login?ReturnUrl=%2FHome%2FAdministrator  
2018-01-11 12:30:11.450 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:11.451 +00:00 [DBG] The request path /Account/Login does not match a supported file type
2018-01-11 12:30:11.452 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:30:11.456 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-11 12:30:11.458 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-11 12:30:11.459 +00:00 [DBG] Request did not match any routes.
2018-01-11 12:30:11.459 +00:00 [DBG] Connection id "0HLAOTS1JE26S" completed keep alive response.
2018-01-11 12:30:11.465 +00:00 [INF] Request finished in 19.9275ms 404 
2018-01-11 12:30:17.155 +00:00 [DBG] Connection id "0HLAOTS1JE26S" received FIN.
2018-01-11 12:30:17.157 +00:00 [DBG] Connection id "0HLAOTS1JE26S" disconnecting.
2018-01-11 12:30:17.158 +00:00 [DBG] Connection id "0HLAOTS1JE26S" sending FIN.
2018-01-11 12:30:17.159 +00:00 [DBG] Connection id "0HLAOTS1JE26S" stopped.
2018-01-11 12:30:29.548 +00:00 [DBG] Connection id "0HLAOTS1JE26T" started.
2018-01-11 12:30:29.553 +00:00 [DBG] Connection id "0HLAOTS1JE26U" started.
2018-01-11 12:30:29.556 +00:00 [DBG] Connection id "0HLAOTS1JE26V" started.
2018-01-11 12:30:29.557 +00:00 [DBG] Connection id "0HLAOTS1JE270" started.
2018-01-11 12:30:29.605 +00:00 [DBG] Connection id "0HLAOTS1JE271" started.
2018-01-11 12:30:29.609 +00:00 [DBG] Connection id "0HLAOTS1JE272" started.
2018-01-11 12:30:31.129 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 12:30:31.134 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:31.135 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 12:30:31.136 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:30:31.139 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 12:30:31.140 +00:00 [INF] Authorization failed for user: null.
2018-01-11 12:30:31.146 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 12:30:31.150 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-11 12:30:31.156 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-11 12:30:31.157 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-11 12:30:33.573 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 12:30:33.591 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 12:30:33.599 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-11 12:30:33.607 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2467.7802ms
2018-01-11 12:30:33.620 +00:00 [DBG] Connection id "0HLAOTS1JE26T" completed keep alive response.
2018-01-11 12:30:33.650 +00:00 [INF] Request finished in 2520.9765ms 302 
2018-01-11 12:30:37.158 +00:00 [DBG] Connection id "0HLAOTS1JE26V" received FIN.
2018-01-11 12:30:37.158 +00:00 [DBG] Connection id "0HLAOTS1JE26U" received FIN.
2018-01-11 12:30:37.183 +00:00 [DBG] Connection id "0HLAOTS1JE26V" disconnecting.
2018-01-11 12:30:37.184 +00:00 [DBG] Connection id "0HLAOTS1JE271" received FIN.
2018-01-11 12:30:37.205 +00:00 [DBG] Connection id "0HLAOTS1JE271" disconnecting.
2018-01-11 12:30:37.207 +00:00 [DBG] Connection id "0HLAOTS1JE272" received FIN.
2018-01-11 12:30:37.209 +00:00 [DBG] Connection id "0HLAOTS1JE272" disconnecting.
2018-01-11 12:30:37.210 +00:00 [DBG] Connection id "0HLAOTS1JE26V" sending FIN.
2018-01-11 12:30:37.212 +00:00 [DBG] Connection id "0HLAOTS1JE271" sending FIN.
2018-01-11 12:30:37.213 +00:00 [DBG] Connection id "0HLAOTS1JE272" sending FIN.
2018-01-11 12:30:37.216 +00:00 [DBG] Connection id "0HLAOTS1JE272" stopped.
2018-01-11 12:30:37.218 +00:00 [DBG] Connection id "0HLAOTS1JE26V" stopped.
2018-01-11 12:30:37.218 +00:00 [DBG] Connection id "0HLAOTS1JE271" stopped.
2018-01-11 12:30:37.231 +00:00 [DBG] Connection id "0HLAOTS1JE26U" disconnecting.
2018-01-11 12:30:37.232 +00:00 [DBG] Connection id "0HLAOTS1JE270" received FIN.
2018-01-11 12:30:37.236 +00:00 [DBG] Connection id "0HLAOTS1JE270" disconnecting.
2018-01-11 12:30:37.241 +00:00 [DBG] Connection id "0HLAOTS1JE26T" received FIN.
2018-01-11 12:30:37.254 +00:00 [DBG] Connection id "0HLAOTS1JE26T" disconnecting.
2018-01-11 12:30:37.263 +00:00 [DBG] Connection id "0HLAOTS1JE26U" sending FIN.
2018-01-11 12:30:37.263 +00:00 [DBG] Connection id "0HLAOTS1JE26U" stopped.
2018-01-11 12:30:37.265 +00:00 [DBG] Connection id "0HLAOTS1JE270" sending FIN.
2018-01-11 12:30:37.271 +00:00 [DBG] Connection id "0HLAOTS1JE270" stopped.
2018-01-11 12:30:37.273 +00:00 [DBG] Connection id "0HLAOTS1JE26T" sending FIN.
2018-01-11 12:30:37.277 +00:00 [DBG] Connection id "0HLAOTS1JE26T" stopped.
2018-01-11 12:31:20.682 +00:00 [DBG] Connection id "0HLAOTS1JE273" started.
2018-01-11 12:31:20.704 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-11 12:31:20.730 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-11 12:31:20.759 +00:00 [DBG] Connection id "0HLAOTS1JE273", Request id "0HLAOTS1JE273:00000001": started reading request body.
2018-01-11 12:31:20.766 +00:00 [DBG] Connection id "0HLAOTS1JE273", Request id "0HLAOTS1JE273:00000001": done reading request body.
2018-01-11 12:31:20.785 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 12:31:20.798 +00:00 [VRB] MessageReceived: '?code=41ab1db46ed6b3388fc65d8f32dba55671fb29c5fd63631e2d24562180eaef53&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU2NzM4ODAsImV4cCI6MTUxNTY3NDE4MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTI3MDYzMzU2NjM0NTMuT1RBNE1EQXdZak10TkdGa1ppMDBNVFpqTFRrellqTXROalUyWm1RNE1qRmlObU5oWTJNMlptTTVPVEV0TVdGbFpDMDBOV0kzTFdFNE1HWXRaV1kxTW1Ga1lqQmlOVFZtIiwiaWF0IjoxNTE1NjczODgwLCJjX2hhc2giOiJTTHVDdWRmSWM2X1laOUVJbXQ1RUhBIiwic2lkIjoiOGRlMTE0YzIxNjAwMzg1MjA2YmMwOGI4NGU2MTI0YzciLCJzdWIiOiJmYzE0Yzc0YS1jZGM4LTQ2NDAtYmU1ZC0yYjQyNWVlNjUwMzMiLCJhdXRoX3RpbWUiOjE1MTU2NzM4NzMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.pLqPSce7coNB5ghOWwC4rmYwjc2kzezHwpsEflfJVcWJWAoHAOJdvvhA9HsQ9n5a3mT6YdjgTEMnRnMTJ3vLAIgcdE_vPiWnpkIHyH-PhMBpNuNzSsn8Onn28F-UyRRVWjkfiBiLCFH0IvQsAgnfIu8J4SfVcpsjqq0bTvbRjQG4iUYeqMDHvCpy7I3bNgpJOJB-O9oBQO340u7u2QZl-nco-djg5PMNJWYixAxzZXWp7RG5Hn91KLlESHilIEvpbm1cwLLcYZaDR9pPA2KdBTXcYC8kYHbUBRjAycPcldO9XXi7mAOrFK1-PVX9hOTB8VXUYcukUHFFcQ8heqhu4w&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2BqPoc57UpELdKOld1Ob4MbnUi4r0mqbYgIkLzmrQCwznajBbpuV7fGUrSuKVKXRz_gJHABzWB7caozehHR8drTzOb7VSNgExCYRijWQiyWaiiPNrTHIXdGS8nd6TQlgonkt66g5DinWO7CPLI6X2AzDgHlvvWm9Yy5SlQnR_fYKE0YGHwqq6b9cCDhWqjzQIzjEbzQ-snReYtYTwUzHvzry9ehJ5MputCqxfMjxv6KZ4wija_lfh1LKORmqZ7Tw73G4VpSZ07-ymYpKE1Phv-370phjpkm2xOpdbO-UeaJEXIt6Aiuseb-V9KTKziKX0&session_state=Yw0YYt0bL_yiwjtbi--AgP5NoTv--GcNdWXLYXvSKGU.1d1546f12896833e3be9d830b7bb1e4d'.
2018-01-11 12:31:20.804 +00:00 [DBG] Updating configuration
2018-01-11 12:31:20.805 +00:00 [DBG] Received 'id_token'
2018-01-11 12:31:20.885 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 12:31:20.895 +00:00 [VRB] Authorization code received.
2018-01-11 12:31:20.898 +00:00 [DBG] Redeeming code for tokens.
2018-01-11 12:31:22.405 +00:00 [VRB] Token response received.
2018-01-11 12:31:22.408 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-11 12:31:23.095 +00:00 [VRB] User information received: {
  "sub": "fc14c74a-cdc8-4640-be5d-2b425ee65033",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-11 12:31:23.105 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:23.109 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-11 12:31:23.114 +00:00 [DBG] Connection id "0HLAOTS1JE273" completed keep alive response.
2018-01-11 12:31:23.118 +00:00 [INF] Request finished in 2413.4827ms 302 
2018-01-11 12:31:23.125 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 12:31:23.129 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:23.132 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:23.138 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 12:31:23.140 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:23.142 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 12:31:23.143 +00:00 [INF] Authorization was successful for user: fc14c74a-cdc8-4640-be5d-2b425ee65033.
2018-01-11 12:31:23.149 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 12:31:23.152 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 12:31:23.154 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-11 12:31:23.257 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-11 12:31:23.503 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 242.61690000000002ms.
2018-01-11 12:31:23.508 +00:00 [DBG] The view 'Secure' was found.
2018-01-11 12:31:23.510 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-11 12:31:23.546 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:23.588 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:23.600 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 12:31:23.608 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:23.614 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:23.617 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:23.622 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:23.631 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 488.064ms
2018-01-11 12:31:23.735 +00:00 [DBG] Connection id "0HLAOTS1JE273" completed keep alive response.
2018-01-11 12:31:23.755 +00:00 [INF] Request finished in 630.461ms 200 text/html; charset=utf-8
2018-01-11 12:31:27.065 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 12:31:27.084 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:27.089 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:27.109 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 12:31:27.113 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:27.115 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 12:31:27.116 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 12:31:27.126 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 12:31:27.130 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-11 12:31:27.132 +00:00 [DBG] The view 'Index' was found.
2018-01-11 12:31:27.134 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 12:31:27.141 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 12:31:27.143 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:27.145 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:27.147 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:27.148 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:27.150 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.550200000000004ms
2018-01-11 12:31:27.157 +00:00 [DBG] Connection id "0HLAOTS1JE273" completed keep alive response.
2018-01-11 12:31:27.177 +00:00 [DBG] Connection id "0HLAOTS1JE273" received FIN.
2018-01-11 12:31:27.181 +00:00 [INF] Request finished in 115.1949ms 200 text/html; charset=utf-8
2018-01-11 12:31:27.217 +00:00 [DBG] Connection id "0HLAOTS1JE273" disconnecting.
2018-01-11 12:31:27.224 +00:00 [DBG] Connection id "0HLAOTS1JE273" sending FIN.
2018-01-11 12:31:27.254 +00:00 [DBG] Connection id "0HLAOTS1JE273" stopped.
2018-01-11 12:31:28.079 +00:00 [DBG] Connection id "0HLAOTS1JE274" started.
2018-01-11 12:31:28.081 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-11 12:31:28.086 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:28.087 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:28.091 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-11 12:31:28.092 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:28.094 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-11 12:31:28.096 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:28.108 +00:00 [INF] Authorization failed for user: fc14c74a-cdc8-4640-be5d-2b425ee65033.
2018-01-11 12:31:28.113 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 12:31:28.118 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-11 12:31:28.126 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-11 12:31:28.131 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 35.3126ms
2018-01-11 12:31:28.142 +00:00 [DBG] Connection id "0HLAOTS1JE274" completed keep alive response.
2018-01-11 12:31:28.146 +00:00 [INF] Request finished in 64.5473ms 302 
2018-01-11 12:31:28.153 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-11 12:31:28.157 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:28.158 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:28.163 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-11 12:31:28.165 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:28.166 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 12:31:28.167 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 12:31:28.168 +00:00 [DBG] Request did not match any routes.
2018-01-11 12:31:28.169 +00:00 [DBG] Connection id "0HLAOTS1JE274" completed keep alive response.
2018-01-11 12:31:28.170 +00:00 [INF] Request finished in 16.7559ms 404 
2018-01-11 12:31:37.179 +00:00 [DBG] Connection id "0HLAOTS1JE274" received FIN.
2018-01-11 12:31:37.185 +00:00 [DBG] Connection id "0HLAOTS1JE274" disconnecting.
2018-01-11 12:31:37.186 +00:00 [DBG] Connection id "0HLAOTS1JE274" sending FIN.
2018-01-11 12:31:37.186 +00:00 [DBG] Connection id "0HLAOTS1JE274" stopped.
2018-01-11 14:11:52.390 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-11 14:11:52.511 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-11 14:11:52.574 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-11 14:11:52.766 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-11 14:11:52.841 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 14:11:52.844 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-11 14:11:52.846 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 14:11:52.850 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-11 14:11:52.860 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-11 14:11:52.866 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-11 14:11:52.869 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-11 14:11:56.317 +00:00 [DBG] Hosting starting
2018-01-11 14:11:56.838 +00:00 [DBG] Hosting started
2018-01-11 14:11:56.840 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-11 14:11:56.841 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-11 14:11:57.192 +00:00 [DBG] Connection id "0HLAOVL34DIN1" started.
2018-01-11 14:11:57.192 +00:00 [DBG] Connection id "0HLAOVL34DIN2" started.
2018-01-11 14:11:57.291 +00:00 [DBG] Connection id "0HLAOVL34DIN2" received FIN.
2018-01-11 14:11:57.320 +00:00 [DBG] Connection id "0HLAOVL34DIN1" received FIN.
2018-01-11 14:11:57.328 +00:00 [DBG] Connection id "0HLAOVL34DIN2" disconnecting.
2018-01-11 14:11:57.334 +00:00 [DBG] Connection id "0HLAOVL34DIN2" sending FIN.
2018-01-11 14:11:57.337 +00:00 [DBG] Connection id "0HLAOVL34DIN2" stopped.
2018-01-11 14:11:57.349 +00:00 [DBG] Connection id "0HLAOVL34DIN1" disconnecting.
2018-01-11 14:11:57.351 +00:00 [DBG] Connection id "0HLAOVL34DIN1" sending FIN.
2018-01-11 14:11:57.352 +00:00 [DBG] Connection id "0HLAOVL34DIN1" stopped.
2018-01-11 14:12:00.049 +00:00 [DBG] Connection id "0HLAOVL34DIN3" started.
2018-01-11 14:12:01.294 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 14:12:02.640 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 14:12:02.684 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 14:12:03.144 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:12:03.349 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 14:12:03.369 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 14:12:03.391 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 14:12:03.403 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-11 14:12:05.316 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-11 14:12:07.787 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2463.0475ms.
2018-01-11 14:12:07.931 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-11 14:12:08.073 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 140.226ms.
2018-01-11 14:12:08.108 +00:00 [DBG] The view 'Index' was found.
2018-01-11 14:12:08.113 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 14:12:08.215 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-11 14:12:08.444 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-11 14:12:09.549 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1089.554ms.
2018-01-11 14:12:09.574 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:12:09.580 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:12:09.625 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:12:09.628 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:12:09.736 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6385.6429000000007ms
2018-01-11 14:12:09.808 +00:00 [DBG] Connection id "0HLAOVL34DIN3" completed keep alive response.
2018-01-11 14:12:09.817 +00:00 [INF] Request finished in 8557.1151ms 200 text/html; charset=utf-8
2018-01-11 14:12:12.610 +00:00 [DBG] Connection id "0HLAOVL34DIN3" received FIN.
2018-01-11 14:12:12.612 +00:00 [DBG] Connection id "0HLAOVL34DIN3" disconnecting.
2018-01-11 14:12:12.613 +00:00 [DBG] Connection id "0HLAOVL34DIN3" stopped.
2018-01-11 14:12:12.613 +00:00 [DBG] Connection id "0HLAOVL34DIN3" sending FIN.
2018-01-11 14:12:19.923 +00:00 [DBG] Connection id "0HLAOVL34DIN4" started.
2018-01-11 14:12:19.964 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 14:12:20.063 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 14:12:20.077 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 14:12:20.079 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:12:20.085 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 14:12:20.113 +00:00 [INF] Authorization failed for user: null.
2018-01-11 14:12:20.131 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 14:12:20.146 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-11 14:12:20.160 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-11 14:12:20.162 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-11 14:12:31.489 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 14:12:31.507 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 14:12:31.510 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-11 14:12:31.522 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 11426.5394ms
2018-01-11 14:12:31.578 +00:00 [DBG] Connection id "0HLAOVL34DIN4" completed keep alive response.
2018-01-11 14:12:31.617 +00:00 [INF] Request finished in 11652.9908ms 302 
2018-01-11 14:12:32.612 +00:00 [DBG] Connection id "0HLAOVL34DIN4" received FIN.
2018-01-11 14:12:32.627 +00:00 [DBG] Connection id "0HLAOVL34DIN4" disconnecting.
2018-01-11 14:12:32.631 +00:00 [DBG] Connection id "0HLAOVL34DIN4" sending FIN.
2018-01-11 14:12:32.631 +00:00 [DBG] Connection id "0HLAOVL34DIN4" stopped.
2018-01-11 14:13:30.732 +00:00 [DBG] Connection id "0HLAOVL34DIN5" started.
2018-01-11 14:13:30.846 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-11 14:13:30.981 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-11 14:13:30.999 +00:00 [DBG] Connection id "0HLAOVL34DIN5", Request id "0HLAOVL34DIN5:00000001": started reading request body.
2018-01-11 14:13:31.004 +00:00 [DBG] Connection id "0HLAOVL34DIN5", Request id "0HLAOVL34DIN5:00000001": done reading request body.
2018-01-11 14:13:31.019 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 14:13:31.038 +00:00 [VRB] MessageReceived: '?code=ccfe5d22531b4fd6417e32ffc3790718574bc9ce923efa3fdadb0bd1b1e5a26c&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU2ODAwMDksImV4cCI6MTUxNTY4MDMwOSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTI3Njc1MTQ2ODI1NTMuT0dOa016Rm1ZVEF0TUdOaE5DMDBOV1l5TFRnMFpHRXRaREl3T0dWbE5qWTNZekV5TVRsaVptSXpOVFl0TlRabFl5MDBNR1poTFdFeFpXSXRZak0xTmpGbFkyRXdZV1UxIiwiaWF0IjoxNTE1NjgwMDA5LCJjX2hhc2giOiJhSzZEMWpvMVQ0WDdlQUF2X2Z3N29BIiwic2lkIjoiODdiNmQwYTVkMWE4Mjg1MTc5ZDY0Y2IwNDE0YjgxZGYiLCJzdWIiOiI0ODVmZGQ2MS1lNDJjLTQ2MDgtYjliNC03ZTc2YTk0MjkwYTIiLCJhdXRoX3RpbWUiOjE1MTU2Nzk5NzQsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.YTkTHwq4EzrI4lGhXBq_efae63k0Cb9w6R_M16b5rQ6fqgWHotttsdTD9bJ2qiCs0anMaUxUBe2LW75XXyB3BXy9AQkUXOsFmzvE_kuKEthnxL6BGmVZZH3i_SLmEcUjfY5-Jh65yyeb1zVeEmO1svGI2Wj3J-JbDI1VDCeeL--BlN6uygq7xC1HyEMpRsQFWw5CYdoIHFDjFxjK7AlVeLW7pwdZPDcZVPy3capFKRfrCISWnK8TTxwWKOgrujRERwAhwwIjHVYtVSvrHESvhb_VeRpsu3K5Paiy0rTZr6F0w08Byyc3HIaiNPWW-7pzf4yYIIcvA8EcvCtsbMaBJg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3mcRCWv94dFYLCs8tnMZw0UnsvWioRkw_mP41K1ZfCcgG2QLwatIP8y3h-WP6OkJsVewCbqoI4RrG3ZWt3-oOakfZd_y0WlLWPZG52lEXV876BXnFUu7h6cWgVwEqjwbfZJnMNDHJRSZYRmRq8YyFys_z45ollMvgwEqMSgFg3h9wDj3MxxSpzf8ja1Sc5rD-iSfncXtCR8h6NuoTfg0-9Z7H7LgcQjiXSoYTWcFLwWxh0pklqePtRc9EN1aPPChs4iQURhu0E_pF2khJ5Ltm04pYiBhK0HlvGGI22JY5sBP95MiBrmWX4rlJw2yEc0yM&session_state=0Ti0eCt7yVst0xhIrk1VnieeRekl6vTvT5ef4umBPgg.264a1662851f24d0b113b75d35132f3d'.
2018-01-11 14:13:31.045 +00:00 [DBG] Updating configuration
2018-01-11 14:13:31.046 +00:00 [DBG] Received 'id_token'
2018-01-11 14:13:31.181 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 14:13:31.189 +00:00 [VRB] Authorization code received.
2018-01-11 14:13:31.193 +00:00 [DBG] Redeeming code for tokens.
2018-01-11 14:13:36.320 +00:00 [VRB] Token response received.
2018-01-11 14:13:36.326 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-11 14:13:38.173 +00:00 [VRB] User information received: {
  "sub": "485fdd61-e42c-4608-b9b4-7e76a94290a2",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-11 14:13:38.183 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:38.188 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-11 14:13:38.193 +00:00 [DBG] Connection id "0HLAOVL34DIN5" completed keep alive response.
2018-01-11 14:13:38.194 +00:00 [INF] Request finished in 7348.8554ms 302 
2018-01-11 14:13:38.204 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 14:13:38.207 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:38.209 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:38.213 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 14:13:38.215 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:38.218 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 14:13:38.221 +00:00 [INF] Authorization was successful for user: 485fdd61-e42c-4608-b9b4-7e76a94290a2.
2018-01-11 14:13:38.225 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 14:13:38.230 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 14:13:38.232 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-11 14:13:38.621 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-11 14:13:39.056 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 422.57800000000003ms.
2018-01-11 14:13:39.061 +00:00 [DBG] The view 'Secure' was found.
2018-01-11 14:13:39.062 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-11 14:13:39.088 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:39.093 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:39.098 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 14:13:39.102 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:39.103 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:39.105 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:39.106 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:39.116 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 896.22440000000006ms
2018-01-11 14:13:39.253 +00:00 [DBG] Connection id "0HLAOVL34DIN5" completed keep alive response.
2018-01-11 14:13:39.329 +00:00 [INF] Request finished in 1125.0297ms 200 text/html; charset=utf-8
2018-01-11 14:13:42.657 +00:00 [DBG] Connection id "0HLAOVL34DIN5" received FIN.
2018-01-11 14:13:42.677 +00:00 [DBG] Connection id "0HLAOVL34DIN5" disconnecting.
2018-01-11 14:13:42.681 +00:00 [DBG] Connection id "0HLAOVL34DIN5" sending FIN.
2018-01-11 14:13:42.683 +00:00 [DBG] Connection id "0HLAOVL34DIN5" stopped.
2018-01-11 14:13:46.496 +00:00 [DBG] Connection id "0HLAOVL34DIN6" started.
2018-01-11 14:13:46.521 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 14:13:46.546 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:46.548 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:46.562 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 14:13:46.565 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:46.571 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 14:13:46.573 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 14:13:46.577 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 14:13:46.580 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-11 14:13:46.582 +00:00 [DBG] The view 'Index' was found.
2018-01-11 14:13:46.587 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 14:13:46.594 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 14:13:46.596 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:46.597 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:46.602 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:46.604 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:46.606 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.0477ms
2018-01-11 14:13:46.876 +00:00 [DBG] Connection id "0HLAOVL34DIN6" completed keep alive response.
2018-01-11 14:13:46.928 +00:00 [INF] Request finished in 406.6225ms 200 text/html; charset=utf-8
2018-01-11 14:13:47.597 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-11 14:13:47.659 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:47.702 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:47.746 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-11 14:13:47.749 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:47.761 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-11 14:13:47.805 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:47.829 +00:00 [INF] Authorization failed for user: 485fdd61-e42c-4608-b9b4-7e76a94290a2.
2018-01-11 14:13:47.838 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 14:13:47.863 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-11 14:13:47.892 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-11 14:13:47.905 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 100.1324ms
2018-01-11 14:13:48.022 +00:00 [DBG] Connection id "0HLAOVL34DIN6" completed keep alive response.
2018-01-11 14:13:48.029 +00:00 [INF] Request finished in 432.0576ms 302 
2018-01-11 14:13:48.061 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-11 14:13:48.068 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:48.071 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:48.076 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-11 14:13:48.077 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:48.082 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 14:13:48.087 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 14:13:48.090 +00:00 [DBG] Request did not match any routes.
2018-01-11 14:13:48.091 +00:00 [DBG] Connection id "0HLAOVL34DIN6" completed keep alive response.
2018-01-11 14:13:48.106 +00:00 [INF] Request finished in 44.7839ms 404 
2018-01-11 14:13:52.621 +00:00 [DBG] Connection id "0HLAOVL34DIN6" received FIN.
2018-01-11 14:13:52.625 +00:00 [DBG] Connection id "0HLAOVL34DIN6" disconnecting.
2018-01-11 14:13:52.626 +00:00 [DBG] Connection id "0HLAOVL34DIN6" sending FIN.
2018-01-11 14:13:52.626 +00:00 [DBG] Connection id "0HLAOVL34DIN6" stopped.
2018-01-12 07:41:18.187 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:41:18.302 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:41:18.337 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:41:18.371 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:41:18.431 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:41:18.437 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:41:18.440 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:41:18.442 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:41:18.449 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:41:18.456 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:41:18.458 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:41:18.885 +00:00 [DBG] Hosting starting
2018-01-12 07:41:19.126 +00:00 [DBG] Hosting started
2018-01-12 07:41:19.126 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:41:19.129 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:41:19.490 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" started.
2018-01-12 07:41:19.490 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" started.
2018-01-12 07:41:19.530 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" received FIN.
2018-01-12 07:41:19.530 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" received FIN.
2018-01-12 07:41:19.532 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" disconnecting.
2018-01-12 07:41:19.533 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" sending FIN.
2018-01-12 07:41:19.534 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" disconnecting.
2018-01-12 07:41:19.535 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" sending FIN.
2018-01-12 07:41:19.536 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" stopped.
2018-01-12 07:41:19.539 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" stopped.
2018-01-12 07:41:21.594 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" started.
2018-01-12 07:41:21.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:41:21.945 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:21.958 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:41:22.215 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:41:22.326 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:41:22.349 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:41:22.358 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:41:22.369 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:41:23.719 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:41:25.553 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1827.1718ms.
2018-01-12 07:41:25.644 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:41:25.764 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 117.70240000000001ms.
2018-01-12 07:41:25.773 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:41:25.775 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:41:25.864 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:41:25.973 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:41:26.725 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 751.0498ms.
2018-01-12 07:41:26.754 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:26.757 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:26.781 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:26.783 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:26.832 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4503.144ms
2018-01-12 07:41:26.864 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" started.
2018-01-12 07:41:26.867 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" started.
2018-01-12 07:41:26.870 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" started.
2018-01-12 07:41:26.870 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" started.
2018-01-12 07:41:26.870 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 07:41:26.878 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 07:41:26.878 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=Ynfdc1vuMNOWZfqTj4N3SPcebazoGXiIPgtfE-b2TO4  
2018-01-12 07:41:26.892 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" completed keep alive response.
2018-01-12 07:41:26.892 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:26.906 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:26.909 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" started.
2018-01-12 07:41:26.909 +00:00 [INF] Request finished in 5190.3615ms 200 text/html; charset=utf-8
2018-01-12 07:41:26.910 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:26.911 +00:00 [INF] The file /css/site.css was not modified
2018-01-12 07:41:26.917 +00:00 [INF] The file /js/site.js was not modified
2018-01-12 07:41:26.918 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-01-12 07:41:26.935 +00:00 [DBG] Handled. Status code: 304 File: /js/site.js
2018-01-12 07:41:26.941 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" completed keep alive response.
2018-01-12 07:41:26.948 +00:00 [INF] Request finished in 70.1947ms 304 application/javascript
2018-01-12 07:41:26.958 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/css/bootstrap.css
2018-01-12 07:41:26.969 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" completed keep alive response.
2018-01-12 07:41:26.989 +00:00 [INF] Request finished in 111.6229ms 304 text/css
2018-01-12 07:41:26.990 +00:00 [DBG] Handled. Status code: 304 File: /css/site.css
2018-01-12 07:41:27.013 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" completed keep alive response.
2018-01-12 07:41:27.021 +00:00 [INF] Request finished in 151.1322ms 304 text/css
2018-01-12 07:41:27.105 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 07:41:27.142 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 07:41:27.154 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:27.159 +00:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-01-12 07:41:27.192 +00:00 [DBG] Handled. Status code: 304 File: /lib/jquery/dist/jquery.js
2018-01-12 07:41:27.209 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" completed keep alive response.
2018-01-12 07:41:27.219 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:27.251 +00:00 [INF] Request finished in 79.4697ms 304 application/javascript
2018-01-12 07:41:27.252 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-01-12 07:41:27.288 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/js/bootstrap.js
2018-01-12 07:41:27.294 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" completed keep alive response.
2018-01-12 07:41:27.299 +00:00 [INF] Request finished in 193.8157ms 304 application/javascript
2018-01-12 07:41:30.194 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:41:30.200 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:30.202 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:41:30.203 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:41:30.207 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:41:30.223 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:41:30.238 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:41:30.250 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:41:30.271 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:41:30.274 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:41:32.567 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:41:32.572 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:41:32.574 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:41:32.577 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2368.811ms
2018-01-12 07:41:32.582 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" completed keep alive response.
2018-01-12 07:41:32.583 +00:00 [INF] Request finished in 2388.9504ms 302 
2018-01-12 07:41:34.719 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" received FIN.
2018-01-12 07:41:34.719 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" received FIN.
2018-01-12 07:41:34.724 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" disconnecting.
2018-01-12 07:41:34.727 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" received FIN.
2018-01-12 07:41:34.733 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" disconnecting.
2018-01-12 07:41:34.733 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" received FIN.
2018-01-12 07:41:34.734 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" disconnecting.
2018-01-12 07:41:34.739 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" sending FIN.
2018-01-12 07:41:34.739 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" stopped.
2018-01-12 07:41:34.741 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" sending FIN.
2018-01-12 07:41:34.743 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" stopped.
2018-01-12 07:41:34.752 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" sending FIN.
2018-01-12 07:41:34.754 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" stopped.
2018-01-12 07:41:34.761 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" disconnecting.
2018-01-12 07:41:34.763 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" received FIN.
2018-01-12 07:41:34.766 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" disconnecting.
2018-01-12 07:41:34.769 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" received FIN.
2018-01-12 07:41:34.771 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" disconnecting.
2018-01-12 07:41:34.771 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" sending FIN.
2018-01-12 07:41:34.783 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" stopped.
2018-01-12 07:41:34.791 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" sending FIN.
2018-01-12 07:41:34.792 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" stopped.
2018-01-12 07:41:34.802 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" sending FIN.
2018-01-12 07:41:34.802 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" stopped.
2018-01-12 07:41:56.224 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" started.
2018-01-12 07:41:56.235 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 07:41:56.248 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 07:41:56.268 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ", Request id "0HLAPHVFBMJQJ:00000001": started reading request body.
2018-01-12 07:41:56.279 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ", Request id "0HLAPHVFBMJQJ:00000001": done reading request body.
2018-01-12 07:41:56.307 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:41:56.324 +00:00 [VRB] MessageReceived: '?code=a96f01172fe6c8d01c074a12ef6511444678763263f82d4944e3bd5f8b654b39&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NDI5MTYsImV4cCI6MTUxNTc0MzIxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTMzOTY5MjU2MjY1NDguTVdFd01EUXpZakV0TlRjeU15MDBOemRoTFRoalptTXRNbVZqWWpNNU5tVTBaV1ZtTVdNd1lqTm1ZVGd0T0dRME9TMDBNekkwTFRrME56RXRObVU1TWpaaU1XVTFaVE0wIiwiaWF0IjoxNTE1NzQyOTE1LCJjX2hhc2giOiJ2TlhNUVlQaUFjdUNUYjc4SFNrbXpBIiwic2lkIjoiYzNhNjZmZGZiOGY0MDI4YzZiNzRkZDI5NDQzODYxNzAiLCJzdWIiOiJkZDlhMWIzNy0zNDQzLTQyN2QtOWY5Ny0wY2Y2ZWVkNzkyYzIiLCJhdXRoX3RpbWUiOjE1MTU3NDI5MDgsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.E2sAlFYGY0qaMfuh7HHpxgalNT5VR_c8TkM2-57DFH_XznraYHrbqnGfq0D_QSLZf8FZBDuJlZrCNtYwBpxtjK0aoaj7x4yZzPuauPZyGk5ILkZbEF_1Tr_ox_pbWG8FWKQtWebs928CsXrh58WVwh5UIYv-KXuot785quuHBvd4goyOXyWwAPwdfqnTFLqHW3vJyydWKTwqd1gZ92mPr9ivpNvpZ2DruNhOTA1mPdzLDM5fbUTEPl79uw7yyrCaN574RejoX557rYBJ0vOHmb25fca8l0lzorIy6YuCPmrj-TwIFX5fprTh8WjGFEhmahHC4pz7m3uNrGogHdqNVQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1Ul5GjXvIylJKy4C0f7IERCzKAF2fPvmkeGCW70mZG9qHX_AKyYSvab3h2H3h4hV2lv5KKOJBDsnPGTRm6Z_Gz9iDp0-JUE_4DCflRolKvtQtVGljnR0uTKqSB86cDPgFsFdGE6e1_a2RSnYEN05cEm5zBs2WacT_dT_R4n2GiTfg5jvX28sKfOXnKnHdnUPqTb7SAM2yLnEFeijca_j9uOJ5Bb7As0M8iHu8OH89vjA6DHzXc62RC0GbPXcr2k7rUN5txZGmblzB6TmbaCkT1pUPSiljmBE5z0Q8eqvNJjs0SMgt7lMI0xrnrhCrz7XY&session_state=vvYys0PoLJkusoAoNXYNNaRRtDRXnmRsVCSFd15Z0BE.be9e0bfea9c3c71903c2642816c6d3dc'.
2018-01-12 07:41:56.343 +00:00 [DBG] Updating configuration
2018-01-12 07:41:56.347 +00:00 [DBG] Received 'id_token'
2018-01-12 07:41:56.450 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:41:56.458 +00:00 [VRB] Authorization code received.
2018-01-12 07:41:56.460 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 07:41:58.052 +00:00 [VRB] Token response received.
2018-01-12 07:41:58.059 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 07:41:58.950 +00:00 [VRB] User information received: {
  "sub": "dd9a1b37-3443-427d-9f97-0cf6eed792c2",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 07:41:58.969 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:41:58.980 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 07:41:59.000 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" completed keep alive response.
2018-01-12 07:41:59.014 +00:00 [INF] Request finished in 2778.2204ms 302 
2018-01-12 07:41:59.040 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:41:59.053 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:41:59.059 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:41:59.092 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:41:59.095 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:41:59.097 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:41:59.100 +00:00 [INF] Authorization was successful for user: dd9a1b37-3443-427d-9f97-0cf6eed792c2.
2018-01-12 07:41:59.107 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:41:59.115 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:41:59.118 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 07:41:59.218 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 07:41:59.522 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 301.0808ms.
2018-01-12 07:41:59.527 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 07:41:59.530 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 07:41:59.564 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:41:59.607 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:41:59.642 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:41:59.646 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:59.652 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:59.656 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:59.658 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:59.662 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 563.70400000000006ms
2018-01-12 07:41:59.810 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" completed keep alive response.
2018-01-12 07:41:59.841 +00:00 [INF] Request finished in 801.7002ms 200 text/html; charset=utf-8
2018-01-12 07:42:04.722 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" received FIN.
2018-01-12 07:42:04.724 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" disconnecting.
2018-01-12 07:42:04.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" sending FIN.
2018-01-12 07:42:04.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" stopped.
2018-01-12 07:42:07.293 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" started.
2018-01-12 07:42:07.302 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 07:42:07.314 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:07.318 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:07.322 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 07:42:07.325 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:07.339 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 07:42:07.347 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:42:07.388 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:08.797 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:42:08.798 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 07:42:08.921 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 07:42:09.185 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 253.3692ms.
2018-01-12 07:42:09.193 +00:00 [DBG] The view 'json' was found.
2018-01-12 07:42:09.200 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 07:42:09.239 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:42:09.240 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:09.241 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:09.242 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:09.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:09.245 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1897.9883ms
2018-01-12 07:42:09.251 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" completed keep alive response.
2018-01-12 07:42:09.253 +00:00 [INF] Request finished in 1950.6638ms 200 text/html; charset=utf-8
2018-01-12 07:42:14.723 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" received FIN.
2018-01-12 07:42:14.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" disconnecting.
2018-01-12 07:42:14.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" sending FIN.
2018-01-12 07:42:14.726 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" stopped.
2018-01-12 07:42:28.168 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" started.
2018-01-12 07:42:28.173 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:42:28.177 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:28.181 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:28.186 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:42:28.187 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:28.188 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:42:28.191 +00:00 [INF] Authorization was successful for user: dd9a1b37-3443-427d-9f97-0cf6eed792c2.
2018-01-12 07:42:28.195 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:42:28.200 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:42:28.202 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 07:42:28.203 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 07:42:28.204 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 07:42:28.208 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:28.214 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:28.218 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:42:28.219 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:28.220 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:28.223 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:28.224 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:28.233 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 42.3308ms
2018-01-12 07:42:28.239 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" completed keep alive response.
2018-01-12 07:42:28.267 +00:00 [INF] Request finished in 94.4417ms 200 text/html; charset=utf-8
2018-01-12 07:42:29.528 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 07:42:29.535 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:29.537 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:29.542 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 07:42:29.543 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:29.551 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 07:42:29.553 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:42:30.338 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:42:30.341 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 07:42:30.345 +00:00 [DBG] The view 'json' was found.
2018-01-12 07:42:30.346 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 07:42:30.350 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:42:30.352 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:30.352 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:30.354 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:30.354 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:30.356 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 803.22200000000009ms
2018-01-12 07:42:30.359 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" completed keep alive response.
2018-01-12 07:42:30.365 +00:00 [INF] Request finished in 837.1974ms 200 text/html; charset=utf-8
2018-01-12 07:42:34.726 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" received FIN.
2018-01-12 07:42:34.728 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" disconnecting.
2018-01-12 07:42:34.729 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" sending FIN.
2018-01-12 07:42:34.729 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" stopped.
2018-01-12 07:42:37.910 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" started.
2018-01-12 07:42:37.915 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 07:42:37.926 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:37.936 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:37.940 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 07:42:37.941 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:37.947 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 07:42:37.948 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:37.969 +00:00 [INF] Authorization failed for user: dd9a1b37-3443-427d-9f97-0cf6eed792c2.
2018-01-12 07:42:37.972 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:42:37.980 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 07:42:37.994 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 07:42:37.998 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 50.0578ms
2018-01-12 07:42:38.001 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" completed keep alive response.
2018-01-12 07:42:38.003 +00:00 [INF] Request finished in 88.1212ms 302 
2018-01-12 07:42:38.010 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 07:42:38.015 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:38.018 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:38.021 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 07:42:38.022 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:38.026 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 07:42:38.030 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 07:42:38.032 +00:00 [DBG] Request did not match any routes.
2018-01-12 07:42:38.033 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" completed keep alive response.
2018-01-12 07:42:38.039 +00:00 [INF] Request finished in 28.5049ms 404 
2018-01-12 07:42:44.728 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" received FIN.
2018-01-12 07:42:44.730 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" disconnecting.
2018-01-12 07:42:44.731 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" sending FIN.
2018-01-12 07:42:44.731 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" stopped.
2018-01-12 07:46:03.351 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:46:03.398 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:46:03.408 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:46:03.429 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:46:03.445 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:46:03.446 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:46:03.447 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:46:03.448 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:46:03.451 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:46:03.456 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:46:03.458 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:46:03.758 +00:00 [DBG] Hosting starting
2018-01-12 07:46:03.922 +00:00 [DBG] Hosting started
2018-01-12 07:46:03.922 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:46:03.923 +00:00 [DBG] Connection id "0HLAPI2446BK8" started.
2018-01-12 07:46:03.924 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:46:03.971 +00:00 [DBG] Connection id "0HLAPI2446BK8" received FIN.
2018-01-12 07:46:03.973 +00:00 [DBG] Connection id "0HLAPI2446BK8" disconnecting.
2018-01-12 07:46:03.975 +00:00 [DBG] Connection id "0HLAPI2446BK8" sending FIN.
2018-01-12 07:46:03.981 +00:00 [DBG] Connection id "0HLAPI2446BK8" stopped.
2018-01-12 07:46:05.248 +00:00 [DBG] Connection id "0HLAPI2446BK9" started.
2018-01-12 07:46:05.313 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:46:05.412 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:46:05.430 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:46:05.540 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:46:05.585 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:46:05.605 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:46:05.620 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:46:05.629 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:46:06.768 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:46:08.473 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1701.2720000000002ms.
2018-01-12 07:46:08.572 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:46:08.658 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 85.1251ms.
2018-01-12 07:46:08.669 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:46:08.672 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:46:08.781 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:46:08.932 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:46:09.539 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 605.7953ms.
2018-01-12 07:46:09.560 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:46:09.563 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:46:09.588 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:46:09.590 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:46:09.667 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4079.6557000000003ms
2018-01-12 07:46:09.683 +00:00 [DBG] Connection id "0HLAPI2446BK9" completed keep alive response.
2018-01-12 07:46:09.691 +00:00 [INF] Request finished in 4382.7386ms 200 text/html; charset=utf-8
2018-01-12 07:46:11.525 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:46:11.531 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:46:11.534 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:46:11.535 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:46:11.539 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:46:11.549 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:46:11.558 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:46:11.567 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:46:11.581 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:46:11.583 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:46:13.388 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:46:13.394 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:46:13.396 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:46:13.400 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1859.4041000000002ms
2018-01-12 07:46:13.406 +00:00 [DBG] Connection id "0HLAPI2446BK9" completed keep alive response.
2018-01-12 07:46:13.416 +00:00 [INF] Request finished in 1890.716ms 302 
2018-01-12 07:49:53.569 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:49:53.632 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:49:53.648 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:49:53.670 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:49:53.712 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:49:53.713 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:49:53.715 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:49:53.716 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:49:53.722 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:49:53.729 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:49:53.731 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:49:54.135 +00:00 [DBG] Hosting starting
2018-01-12 07:49:54.296 +00:00 [DBG] Hosting started
2018-01-12 07:49:54.297 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:49:54.298 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:49:54.356 +00:00 [DBG] Connection id "0HLAPI48PR0HT" started.
2018-01-12 07:49:54.394 +00:00 [DBG] Connection id "0HLAPI48PR0HT" received FIN.
2018-01-12 07:49:54.396 +00:00 [DBG] Connection id "0HLAPI48PR0HT" disconnecting.
2018-01-12 07:49:54.398 +00:00 [DBG] Connection id "0HLAPI48PR0HT" sending FIN.
2018-01-12 07:49:54.402 +00:00 [DBG] Connection id "0HLAPI48PR0HT" stopped.
2018-01-12 07:49:55.723 +00:00 [DBG] Connection id "0HLAPI48PR0HU" started.
2018-01-12 07:49:55.842 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:49:55.975 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:49:55.997 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:49:56.132 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:49:56.185 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:49:56.207 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:49:56.214 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:49:56.228 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:49:57.489 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:49:59.380 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1883.4495000000002ms.
2018-01-12 07:49:59.447 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:49:59.519 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 70.7129ms.
2018-01-12 07:49:59.526 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:49:59.527 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:49:59.575 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:49:59.682 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:50:00.264 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 579.45310000000006ms.
2018-01-12 07:50:00.284 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:00.287 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:00.308 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:00.310 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:00.352 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4161.629ms
2018-01-12 07:50:00.380 +00:00 [DBG] Connection id "0HLAPI48PR0HU" completed keep alive response.
2018-01-12 07:50:00.386 +00:00 [INF] Request finished in 4550.5496ms 200 text/html; charset=utf-8
2018-01-12 07:50:01.902 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:50:01.909 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:50:01.910 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:50:01.912 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:50:01.915 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:50:01.927 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:50:01.935 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:50:01.944 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:50:01.953 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:50:01.955 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:50:03.572 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:50:03.579 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:50:03.581 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:50:03.583 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1668.0007ms
2018-01-12 07:50:03.590 +00:00 [DBG] Connection id "0HLAPI48PR0HU" completed keep alive response.
2018-01-12 07:50:03.594 +00:00 [INF] Request finished in 1690.1057ms 302 
2018-01-12 07:50:39.382 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:50:39.433 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:50:39.448 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:50:39.480 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:50:39.504 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:50:39.506 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:50:39.508 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:50:39.510 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:50:39.517 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:50:39.538 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:50:39.541 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:50:39.940 +00:00 [DBG] Hosting starting
2018-01-12 07:50:40.627 +00:00 [DBG] Hosting started
2018-01-12 07:50:40.628 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:50:40.630 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:50:40.821 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" started.
2018-01-12 07:50:40.861 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" received FIN.
2018-01-12 07:50:40.870 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" disconnecting.
2018-01-12 07:50:40.872 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" sending FIN.
2018-01-12 07:50:40.878 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" stopped.
2018-01-12 07:50:42.273 +00:00 [DBG] Connection id "0HLAPI4MKVH8M" started.
2018-01-12 07:50:42.380 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:50:42.527 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:50:42.543 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:50:42.697 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:50:42.742 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:50:42.760 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:50:42.775 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:50:42.790 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:50:44.177 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:50:45.760 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1577.815ms.
2018-01-12 07:50:45.887 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:50:45.976 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 86.2672ms.
2018-01-12 07:50:45.983 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:50:45.984 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:50:46.063 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:50:46.173 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:50:46.977 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 802.2082ms.
2018-01-12 07:50:46.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:46.995 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:47.025 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:47.027 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:47.094 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4350.9348ms
2018-01-12 07:50:47.135 +00:00 [DBG] Connection id "0HLAPI4MKVH8M" completed keep alive response.
2018-01-12 07:50:47.143 +00:00 [INF] Request finished in 4771.3058ms 200 text/html; charset=utf-8
2018-01-12 07:50:49.236 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:50:49.241 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:50:49.243 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:50:49.245 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:50:49.248 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:50:49.259 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:50:49.267 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:50:49.275 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:50:49.285 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:50:49.287 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:50:50.991 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:50:50.998 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:50:51.001 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:50:51.005 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1754.8146000000002ms
2018-01-12 07:50:51.013 +00:00 [DBG] Connection id "0HLAPI4MKVH8M" completed keep alive response.
2018-01-12 07:50:51.026 +00:00 [INF] Request finished in 1789.4899ms 302 
2018-01-12 07:53:30.710 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:53:30.766 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:53:30.783 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:53:30.816 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:53:30.842 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:53:30.844 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:53:30.845 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:53:30.847 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:53:30.850 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:53:30.857 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:53:30.859 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:53:31.155 +00:00 [DBG] Hosting starting
2018-01-12 07:53:31.282 +00:00 [DBG] Hosting started
2018-01-12 07:53:31.283 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:53:31.285 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:53:31.613 +00:00 [DBG] Connection id "0HLAPI69HOJMK" started.
2018-01-12 07:53:31.613 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" started.
2018-01-12 07:53:31.656 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" received FIN.
2018-01-12 07:53:31.656 +00:00 [DBG] Connection id "0HLAPI69HOJMK" received FIN.
2018-01-12 07:53:31.658 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" disconnecting.
2018-01-12 07:53:31.660 +00:00 [DBG] Connection id "0HLAPI69HOJMK" disconnecting.
2018-01-12 07:53:31.660 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" sending FIN.
2018-01-12 07:53:31.661 +00:00 [DBG] Connection id "0HLAPI69HOJMK" sending FIN.
2018-01-12 07:53:31.666 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" stopped.
2018-01-12 07:53:31.666 +00:00 [DBG] Connection id "0HLAPI69HOJMK" stopped.
2018-01-12 07:53:32.978 +00:00 [DBG] Connection id "0HLAPI69HOJML" started.
2018-01-12 07:53:33.141 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:53:33.246 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:53:33.262 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:53:33.413 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:53:33.465 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:53:33.481 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:53:33.491 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:53:33.498 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:53:35.013 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:53:36.552 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1532.0946000000001ms.
2018-01-12 07:53:36.704 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:53:36.767 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 61.8462ms.
2018-01-12 07:53:36.780 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:53:36.781 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:53:36.841 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:53:36.967 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:53:37.564 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 593.69400000000007ms.
2018-01-12 07:53:37.588 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:53:37.591 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:53:37.629 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:53:37.631 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:53:37.701 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4234.5729ms
2018-01-12 07:53:37.717 +00:00 [DBG] Connection id "0HLAPI69HOJML" completed keep alive response.
2018-01-12 07:53:37.732 +00:00 [INF] Request finished in 4596.0209ms 200 text/html; charset=utf-8
2018-01-12 07:53:44.815 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:53:44.827 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:53:44.839 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:53:44.845 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:53:44.850 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:53:44.861 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:53:44.870 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:53:44.890 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:53:44.899 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:53:44.900 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:53:46.337 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:53:46.345 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:53:46.348 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:53:46.353 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1501.6649ms
2018-01-12 07:53:46.358 +00:00 [DBG] Connection id "0HLAPI69HOJML" completed keep alive response.
2018-01-12 07:53:46.364 +00:00 [INF] Request finished in 1548.6478ms 302 
2018-01-12 07:53:51.853 +00:00 [DBG] Connection id "0HLAPI69HOJML" received FIN.
2018-01-12 07:53:51.855 +00:00 [DBG] Connection id "0HLAPI69HOJML" disconnecting.
2018-01-12 07:53:51.856 +00:00 [DBG] Connection id "0HLAPI69HOJML" sending FIN.
2018-01-12 07:53:51.856 +00:00 [DBG] Connection id "0HLAPI69HOJML" stopped.
2018-01-12 08:01:06.567 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:01:06.611 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:01:06.626 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:01:06.646 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:01:06.663 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:01:06.664 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:01:06.665 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:01:06.667 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:01:06.670 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:01:06.675 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:01:06.677 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:01:06.928 +00:00 [DBG] Hosting starting
2018-01-12 08:01:07.069 +00:00 [DBG] Hosting started
2018-01-12 08:01:07.070 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:01:07.071 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:01:07.168 +00:00 [DBG] Connection id "0HLAPIAHA91B2" started.
2018-01-12 08:01:07.168 +00:00 [DBG] Connection id "0HLAPIAHA91B1" started.
2018-01-12 08:01:07.205 +00:00 [DBG] Connection id "0HLAPIAHA91B2" received FIN.
2018-01-12 08:01:07.205 +00:00 [DBG] Connection id "0HLAPIAHA91B1" received FIN.
2018-01-12 08:01:07.207 +00:00 [DBG] Connection id "0HLAPIAHA91B2" disconnecting.
2018-01-12 08:01:07.208 +00:00 [DBG] Connection id "0HLAPIAHA91B2" sending FIN.
2018-01-12 08:01:07.211 +00:00 [DBG] Connection id "0HLAPIAHA91B1" disconnecting.
2018-01-12 08:01:07.211 +00:00 [DBG] Connection id "0HLAPIAHA91B2" stopped.
2018-01-12 08:01:07.213 +00:00 [DBG] Connection id "0HLAPIAHA91B1" sending FIN.
2018-01-12 08:01:07.218 +00:00 [DBG] Connection id "0HLAPIAHA91B1" stopped.
2018-01-12 08:01:08.480 +00:00 [DBG] Connection id "0HLAPIAHA91B3" started.
2018-01-12 08:01:08.559 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:01:08.677 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:08.692 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:01:08.788 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:08.830 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:01:08.845 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:01:08.852 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:01:08.859 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:01:10.087 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:01:12.173 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2077.5253000000002ms.
2018-01-12 08:01:12.304 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:01:12.390 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 84.4479ms.
2018-01-12 08:01:12.398 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:01:12.404 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:01:12.471 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:01:12.654 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:01:13.428 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 771.86560000000009ms.
2018-01-12 08:01:13.458 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:01:13.461 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:01:13.490 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:01:13.491 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:01:13.553 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4721.2531ms
2018-01-12 08:01:13.576 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:13.593 +00:00 [INF] Request finished in 5045.2948ms 200 text/html; charset=utf-8
2018-01-12 08:01:23.170 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 08:01:23.177 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:23.180 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 08:01:23.181 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:23.189 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 08:01:23.192 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:23.210 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:01:23.219 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:01:23.229 +00:00 [INF] Executing ChallengeResult with authentication schemes (["Cookies"]).
2018-01-12 08:01:23.248 +00:00 [INF] AuthenticationScheme: Cookies was challenged.
2018-01-12 08:01:23.253 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 63.454ms
2018-01-12 08:01:23.258 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:23.262 +00:00 [INF] Request finished in 91.132ms 302 
2018-01-12 08:01:23.271 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/Login?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 08:01:23.274 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:23.275 +00:00 [DBG] The request path /Account/Login does not match a supported file type
2018-01-12 08:01:23.276 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:23.279 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-12 08:01:23.280 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-12 08:01:23.282 +00:00 [DBG] Request did not match any routes.
2018-01-12 08:01:23.282 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:23.287 +00:00 [INF] Request finished in 15.5427ms 404 
2018-01-12 08:01:25.822 +00:00 [DBG] Connection id "0HLAPIAHA91B4" started.
2018-01-12 08:01:25.822 +00:00 [DBG] Connection id "0HLAPIAHA91B5" started.
2018-01-12 08:01:25.829 +00:00 [DBG] Connection id "0HLAPIAHA91B6" started.
2018-01-12 08:01:25.844 +00:00 [DBG] Connection id "0HLAPIAHA91B7" started.
2018-01-12 08:01:25.847 +00:00 [DBG] Connection id "0HLAPIAHA91B8" started.
2018-01-12 08:01:26.969 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:01:26.974 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:26.976 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:01:26.979 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:26.986 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:01:26.989 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:01:26.993 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:01:26.999 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:01:27.008 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:01:27.010 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:01:28.493 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:01:28.499 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:01:28.502 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:01:28.505 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1516.972ms
2018-01-12 08:01:28.508 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:28.511 +00:00 [INF] Request finished in 1541.393ms 302 
2018-01-12 08:02:04.151 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:02:04.197 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:02:04.209 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:02:04.230 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:02:04.253 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:02:04.254 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:02:04.255 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:02:04.256 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:02:04.261 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:02:04.268 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:02:04.270 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:02:04.549 +00:00 [DBG] Hosting starting
2018-01-12 08:02:04.819 +00:00 [DBG] Hosting started
2018-01-12 08:02:04.824 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:02:04.833 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:02:04.922 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" started.
2018-01-12 08:02:04.927 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" started.
2018-01-12 08:02:05.061 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" reset.
2018-01-12 08:02:05.061 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" reset.
2018-01-12 08:02:05.068 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" disconnecting.
2018-01-12 08:02:05.093 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" sending FIN.
2018-01-12 08:02:05.128 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" stopped.
2018-01-12 08:02:05.237 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" disconnecting.
2018-01-12 08:02:05.269 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" sending FIN.
2018-01-12 08:02:05.278 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" stopped.
2018-01-12 08:02:06.539 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" started.
2018-01-12 08:02:06.618 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:02:06.724 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:02:06.737 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:02:06.838 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:02:06.888 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:02:06.906 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:02:06.913 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:02:06.922 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:02:07.903 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:02:09.394 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1486.5886ms.
2018-01-12 08:02:09.530 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:02:09.605 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 73.6269ms.
2018-01-12 08:02:09.617 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:02:09.618 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:02:09.670 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:02:09.847 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:02:10.545 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 692.6635ms.
2018-01-12 08:02:10.561 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:02:10.563 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:02:10.611 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:02:10.626 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:02:10.687 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 3797.0616ms
2018-01-12 08:02:10.712 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" completed keep alive response.
2018-01-12 08:02:10.718 +00:00 [INF] Request finished in 4107.0393ms 200 text/html; charset=utf-8
2018-01-12 08:02:12.537 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:02:12.541 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:02:12.544 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:02:12.545 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:02:12.549 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:02:12.557 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:02:12.568 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:02:12.576 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:02:12.587 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:02:12.588 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:02:13.146 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:02:13.154 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:02:13.157 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:02:13.161 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 611.7974ms
2018-01-12 08:02:13.168 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" completed keep alive response.
2018-01-12 08:02:13.171 +00:00 [INF] Request finished in 634.441ms 302 
2018-01-12 08:02:30.402 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" received FIN.
2018-01-12 08:02:30.411 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" disconnecting.
2018-01-12 08:02:30.412 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" sending FIN.
2018-01-12 08:02:30.412 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" stopped.
2018-01-12 08:39:23.185 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:39:23.263 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:39:23.284 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:39:23.304 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:39:23.331 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:39:23.332 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:39:23.333 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:39:23.335 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:39:23.340 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:39:23.350 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:39:23.353 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:39:23.713 +00:00 [DBG] Hosting starting
2018-01-12 08:39:24.025 +00:00 [DBG] Hosting started
2018-01-12 08:39:24.026 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:39:24.027 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:39:24.188 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" started.
2018-01-12 08:39:24.188 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" started.
2018-01-12 08:39:24.227 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" received FIN.
2018-01-12 08:39:24.227 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" received FIN.
2018-01-12 08:39:24.229 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" disconnecting.
2018-01-12 08:39:24.230 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" sending FIN.
2018-01-12 08:39:24.233 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" disconnecting.
2018-01-12 08:39:24.234 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" sending FIN.
2018-01-12 08:39:24.236 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" stopped.
2018-01-12 08:39:24.236 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" stopped.
2018-01-12 08:39:26.081 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" started.
2018-01-12 08:39:26.251 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:39:26.422 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:39:26.450 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:39:26.612 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:39:26.708 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:39:26.736 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:39:26.749 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:39:26.765 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:39:28.259 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:39:30.013 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1748.6261000000002ms.
2018-01-12 08:39:30.090 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:39:30.186 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 94.6055ms.
2018-01-12 08:39:30.197 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:39:30.199 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:39:30.270 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:39:30.423 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:39:31.196 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 771.3671ms.
2018-01-12 08:39:31.216 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:39:31.219 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:39:31.241 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:39:31.242 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:39:31.303 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4589.4262ms
2018-01-12 08:39:31.409 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" completed keep alive response.
2018-01-12 08:39:31.432 +00:00 [INF] Request finished in 5188.0021ms 200 text/html; charset=utf-8
2018-01-12 08:39:36.282 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:39:36.287 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:39:36.291 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:39:36.293 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:39:36.301 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:39:36.319 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:39:36.329 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:39:36.342 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:39:36.358 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:39:36.360 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:39:38.543 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:39:38.597 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:39:38.601 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:39:38.613 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2309.973ms
2018-01-12 08:39:38.633 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" completed keep alive response.
2018-01-12 08:39:38.644 +00:00 [INF] Request finished in 2361.7371ms 302 
2018-01-12 08:39:39.469 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" received FIN.
2018-01-12 08:39:39.478 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" disconnecting.
2018-01-12 08:39:39.479 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" sending FIN.
2018-01-12 08:39:39.479 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" stopped.
2018-01-12 08:51:09.190 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:51:09.272 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:51:09.287 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:51:09.317 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:51:09.337 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:51:09.338 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:51:09.340 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:51:09.341 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:51:09.346 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:51:09.354 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:51:09.356 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:51:09.622 +00:00 [DBG] Hosting starting
2018-01-12 08:51:10.014 +00:00 [DBG] Hosting started
2018-01-12 08:51:10.014 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:51:10.016 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:51:10.094 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" started.
2018-01-12 08:51:10.132 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" received FIN.
2018-01-12 08:51:10.137 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" disconnecting.
2018-01-12 08:51:10.138 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" sending FIN.
2018-01-12 08:51:10.143 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" stopped.
2018-01-12 08:51:11.655 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" started.
2018-01-12 08:51:11.811 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:51:11.930 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:51:11.942 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:51:12.044 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:12.093 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:51:12.115 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:12.124 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:12.132 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:51:13.260 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:51:14.679 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1414.7244ms.
2018-01-12 08:51:14.766 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:51:14.910 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 142.7801ms.
2018-01-12 08:51:14.929 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:51:14.934 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:51:14.996 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:51:15.090 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:51:15.692 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 599.76690000000008ms.
2018-01-12 08:51:15.707 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:15.709 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:15.728 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:15.730 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:15.788 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 3693.1544000000004ms
2018-01-12 08:51:15.812 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" completed keep alive response.
2018-01-12 08:51:15.817 +00:00 [INF] Request finished in 4015.3483ms 200 text/html; charset=utf-8
2018-01-12 08:51:19.882 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:51:19.893 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:51:19.896 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:51:19.898 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:19.903 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:51:19.924 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:51:19.934 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:51:19.943 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:51:19.954 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:51:19.955 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:51:21.694 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:51:21.700 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:51:21.703 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:51:21.707 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1799.549ms
2018-01-12 08:51:21.711 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" completed keep alive response.
2018-01-12 08:51:21.713 +00:00 [INF] Request finished in 1830.9331ms 302 
2018-01-12 08:51:25.275 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" received FIN.
2018-01-12 08:51:25.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" disconnecting.
2018-01-12 08:51:25.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" sending FIN.
2018-01-12 08:51:25.295 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" stopped.
2018-01-12 08:51:41.600 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" started.
2018-01-12 08:51:41.609 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 08:51:41.615 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 08:51:41.627 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1", Request id "0HLAPJ6G8D5L1:00000001": started reading request body.
2018-01-12 08:51:41.631 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1", Request id "0HLAPJ6G8D5L1:00000001": done reading request body.
2018-01-12 08:51:41.645 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:51:41.648 +00:00 [VRB] MessageReceived: '?code=d3605147d7afdea9941a755278ddee915be53e490c7fa83f5a936f9a2659e67b&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NDcxMDEsImV4cCI6MTUxNTc0NzQwMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0Mzg4MTY5MDc2NzAuWXpKa1pUSXlZVGN0TURrMFpDMDBOV1JsTFdJME9HTXRaVEkxTVRBMU5UVTVPREl6TVRZMFpUUXpPREl0TkdKbU15MDBOekEwTFdGaU5tVXROemN5TVRBd09ESTJPR00xIiwiaWF0IjoxNTE1NzQ3MTAxLCJjX2hhc2giOiJqVWZadkN5ckppaWhXQUVSRFp1dWJnIiwic2lkIjoiNDM2NTVkYmIwZDJjMDVlMTczMmZmZmRjMjJhYmM4MWIiLCJzdWIiOiIzNGE5OGE1YS04Zjc0LTQ4YzUtYmI5Zi0yYzRjYTg1NGRhMDUiLCJhdXRoX3RpbWUiOjE1MTU3NDcwOTMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.CcdBWjlRCymILDVkBpkX8oicLCSLZoBAQhS9n2yN8fAoUoMjDSJ4vtQHMtoFHA14IVhGPxXtvgyPQ9dow7Fin5JaegcLjvME8vi_nFk8IAqZys3PjynIzHiZtbPlE9o9Sps_VaUj21u1cCRPkOL5nblgsvb_SFroTzQ95MUvL0hsuMCxnhlD3xZhe0dNrtjBke7mH1YM8IIW7J0LaXJsVCxjoxH0Gj8UMwNkSSauBFjiDPlqwLTq9Pvjfd5jVLQpHu39Os33WAaxEb8YkZF_aOW0quGSiajdmrD6WdQeFxgi6xebOAtsQd8AujIsym6SV7cuPtR6T7naS4pZ8gvfpQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO33eE5l_bWoKP7d4JuiNWQE5vcGw1Z7zqLftMIdMddLzT8fCrUy-Ruw-Sq064VaX9NFg81eiODWWekfn6p60vdWJqWteqyl3Kuwl_9_PE89MVZQ0Nnl-zkXuKE3tuXFI6XaqUABvW-KYU_LuSsJv3sPneWC2CQxbpQuZzWKa5gkZ8vee-cPc9Q5YMu6ossrJnInkopPFcI9YA3mPYFaW7yPJbC2QiH_cIgEZrwitW5_LGU9zY8CUTwHwNHHFodMiQG8AKKMha0BPFQNwbhL55RjZFiu-9SHV9mxrr0cH980b2LKk4Ppz7Ny8yuDrKYfXWo&session_state=nccmoUCvXQQNZPecCykIAAGg0wC05_DWr2u-W3Zu7Gs.6dc2f06163bbcf252365ea41a0144836'.
2018-01-12 08:51:41.655 +00:00 [DBG] Updating configuration
2018-01-12 08:51:41.656 +00:00 [DBG] Received 'id_token'
2018-01-12 08:51:41.716 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:51:41.718 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:51:41.723 +00:00 [VRB] Authorization code received.
2018-01-12 08:51:41.725 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 08:51:42.629 +00:00 [VRB] Token response received.
2018-01-12 08:51:42.637 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 08:51:43.188 +00:00 [VRB] User information received: {
  "sub": "34a98a5a-8f74-48c5-bb9f-2c4ca854da05",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 08:51:43.203 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:43.206 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 08:51:43.214 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" completed keep alive response.
2018-01-12 08:51:43.223 +00:00 [INF] Request finished in 1613.8946ms 302 
2018-01-12 08:51:43.232 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:51:43.239 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:43.243 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:43.248 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:51:43.249 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:43.252 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:51:43.254 +00:00 [INF] Authorization was successful for user: 34a98a5a-8f74-48c5-bb9f-2c4ca854da05.
2018-01-12 08:51:43.258 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:43.263 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:43.265 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 08:51:43.345 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 08:51:43.573 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 227.1664ms.
2018-01-12 08:51:43.577 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 08:51:43.578 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 08:51:43.594 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:43.598 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:43.604 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:51:43.606 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:43.607 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:43.608 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:43.610 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:43.613 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 360.619ms
2018-01-12 08:51:43.641 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" completed keep alive response.
2018-01-12 08:51:43.658 +00:00 [INF] Request finished in 426.3826ms 200 text/html; charset=utf-8
2018-01-12 08:51:45.278 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" received FIN.
2018-01-12 08:51:45.280 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" disconnecting.
2018-01-12 08:51:45.281 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" sending FIN.
2018-01-12 08:51:45.281 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" stopped.
2018-01-12 08:51:47.860 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" started.
2018-01-12 08:51:47.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 08:51:47.867 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:47.871 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:47.876 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 08:51:47.877 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:47.890 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 08:51:47.891 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:47.925 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:48.946 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:48.949 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 08:51:49.016 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 08:51:49.161 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 142.6237ms.
2018-01-12 08:51:49.166 +00:00 [DBG] The view 'json' was found.
2018-01-12 08:51:49.167 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 08:51:49.215 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:51:49.217 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:49.219 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:49.220 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:49.221 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:49.222 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1331.4876000000002ms
2018-01-12 08:51:49.228 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" completed keep alive response.
2018-01-12 08:51:49.229 +00:00 [INF] Request finished in 1366.2813ms 200 text/html; charset=utf-8
2018-01-12 08:51:55.280 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" received FIN.
2018-01-12 08:51:55.281 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" disconnecting.
2018-01-12 08:51:55.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" sending FIN.
2018-01-12 08:51:55.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" stopped.
2018-01-12 08:51:58.189 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" started.
2018-01-12 08:51:58.195 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:51:58.199 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:58.204 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:58.209 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:51:58.210 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:58.211 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:51:58.212 +00:00 [INF] Authorization was successful for user: 34a98a5a-8f74-48c5-bb9f-2c4ca854da05.
2018-01-12 08:51:58.222 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:58.225 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:58.226 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 08:51:58.227 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 08:51:58.228 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 08:51:58.233 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:58.237 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:58.241 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:51:58.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:58.244 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:58.246 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:58.249 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:58.254 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 41.2072ms
2018-01-12 08:51:58.290 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" completed keep alive response.
2018-01-12 08:51:58.297 +00:00 [INF] Request finished in 102.5787ms 200 text/html; charset=utf-8
2018-01-12 08:51:59.557 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 08:51:59.563 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:59.565 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:59.569 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 08:51:59.571 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:59.584 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 08:51:59.587 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:52:00.376 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:52:00.382 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 08:52:00.387 +00:00 [DBG] The view 'json' was found.
2018-01-12 08:52:00.390 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 08:52:00.395 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:52:00.398 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:52:00.407 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:52:00.410 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:52:00.413 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:52:00.422 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 834.9813ms
2018-01-12 08:52:00.475 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" completed keep alive response.
2018-01-12 08:52:00.477 +00:00 [INF] Request finished in 919.256ms 200 text/html; charset=utf-8
2018-01-12 08:52:04.847 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" received FIN.
2018-01-12 08:52:04.848 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" disconnecting.
2018-01-12 08:52:04.849 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" sending FIN.
2018-01-12 08:52:04.850 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" stopped.
2018-01-12 08:53:07.505 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:53:07.591 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:53:07.606 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:53:07.631 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:53:07.655 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:53:07.657 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:53:07.659 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:53:07.660 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:53:07.665 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:53:07.675 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:53:07.678 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:53:08.114 +00:00 [DBG] Hosting starting
2018-01-12 08:53:08.287 +00:00 [DBG] Hosting started
2018-01-12 08:53:08.288 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:53:08.289 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:53:08.635 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" started.
2018-01-12 08:53:08.690 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" received FIN.
2018-01-12 08:53:08.692 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" disconnecting.
2018-01-12 08:53:08.693 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" sending FIN.
2018-01-12 08:53:08.698 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" stopped.
2018-01-12 08:53:10.379 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" started.
2018-01-12 08:53:10.443 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:53:10.614 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:53:10.631 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:53:10.806 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:53:10.879 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:53:10.906 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:53:10.922 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:53:10.937 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:53:12.466 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:53:13.925 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1453.317ms.
2018-01-12 08:53:13.993 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:53:14.052 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 57.555800000000005ms.
2018-01-12 08:53:14.059 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:53:14.060 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:53:14.110 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:53:14.213 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:53:14.853 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 638.1497ms.
2018-01-12 08:53:14.867 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:53:14.870 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:53:14.891 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:53:14.892 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:53:14.945 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4060.3879ms
2018-01-12 08:53:15.093 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" completed keep alive response.
2018-01-12 08:53:15.106 +00:00 [INF] Request finished in 4667.4041ms 200 text/html; charset=utf-8
2018-01-12 08:53:23.873 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" received FIN.
2018-01-12 08:53:23.905 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" disconnecting.
2018-01-12 08:53:23.906 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" sending FIN.
2018-01-12 08:53:23.906 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" stopped.
2018-01-12 08:53:36.449 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" started.
2018-01-12 08:53:36.453 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:53:36.457 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:53:36.459 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:53:36.460 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:53:36.465 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:53:36.476 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:53:36.487 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:53:36.498 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:53:36.514 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:53:36.516 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:53:38.207 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:53:38.219 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:53:38.222 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:53:38.225 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1757.9895000000001ms
2018-01-12 08:53:38.229 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" completed keep alive response.
2018-01-12 08:53:38.230 +00:00 [INF] Request finished in 1777.4356ms 302 
2018-01-12 08:53:43.876 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" received FIN.
2018-01-12 08:53:43.877 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" disconnecting.
2018-01-12 08:53:43.878 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" sending FIN.
2018-01-12 08:53:43.880 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" stopped.
2018-01-12 09:11:30.797 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:11:30.837 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:11:30.847 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:11:30.868 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:11:30.885 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:11:30.886 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:11:30.887 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:11:30.888 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:11:30.892 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:11:30.898 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:11:30.900 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:11:31.137 +00:00 [DBG] Hosting starting
2018-01-12 09:11:31.303 +00:00 [DBG] Hosting started
2018-01-12 09:11:31.303 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:11:31.304 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:11:31.665 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" started.
2018-01-12 09:11:31.665 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" started.
2018-01-12 09:11:31.701 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" received FIN.
2018-01-12 09:11:31.701 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" received FIN.
2018-01-12 09:11:31.703 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" disconnecting.
2018-01-12 09:11:31.704 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" sending FIN.
2018-01-12 09:11:31.706 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" disconnecting.
2018-01-12 09:11:31.707 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" sending FIN.
2018-01-12 09:11:31.709 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" stopped.
2018-01-12 09:11:31.710 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" stopped.
2018-01-12 09:11:33.021 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" started.
2018-01-12 09:11:33.117 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:11:33.231 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:11:33.245 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:11:33.350 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:11:33.429 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:11:33.447 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:11:33.456 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:11:33.466 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:11:34.615 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:11:36.216 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1592.0861ms.
2018-01-12 09:11:36.511 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:11:36.794 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 262.69980000000004ms.
2018-01-12 09:11:36.814 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:11:36.818 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:11:36.883 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:11:37.075 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:11:37.801 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 723.8744ms.
2018-01-12 09:11:37.829 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:11:37.833 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:11:37.855 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:11:37.856 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:11:37.904 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4472.8805ms
2018-01-12 09:11:37.941 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" completed keep alive response.
2018-01-12 09:11:37.944 +00:00 [INF] Request finished in 4834.1043ms 200 text/html; charset=utf-8
2018-01-12 09:11:46.663 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:11:46.667 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:11:46.668 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:11:46.670 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:11:46.673 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:11:46.684 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:11:46.692 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:11:46.700 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:11:46.709 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:11:46.710 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:11:48.812 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:11:48.820 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:11:48.824 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:11:48.834 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2159.8355ms
2018-01-12 09:11:48.852 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" completed keep alive response.
2018-01-12 09:11:48.866 +00:00 [INF] Request finished in 2202.9336ms 302 
2018-01-12 09:11:56.874 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" received FIN.
2018-01-12 09:11:56.885 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" disconnecting.
2018-01-12 09:11:56.885 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" sending FIN.
2018-01-12 09:11:56.888 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" stopped.
2018-01-12 09:12:38.491 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:12:38.566 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:12:38.586 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:12:38.615 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:12:38.640 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:12:38.642 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:12:38.644 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:12:38.647 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:12:38.652 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:12:38.659 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:12:38.661 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:12:39.417 +00:00 [DBG] Hosting starting
2018-01-12 09:12:39.606 +00:00 [DBG] Hosting started
2018-01-12 09:12:39.606 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:12:39.608 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:12:39.962 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" started.
2018-01-12 09:12:39.968 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" started.
2018-01-12 09:12:40.040 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" received FIN.
2018-01-12 09:12:40.040 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" received FIN.
2018-01-12 09:12:40.057 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" disconnecting.
2018-01-12 09:12:40.058 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" disconnecting.
2018-01-12 09:12:40.060 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" sending FIN.
2018-01-12 09:12:40.090 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" sending FIN.
2018-01-12 09:12:40.090 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" stopped.
2018-01-12 09:12:40.101 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" stopped.
2018-01-12 09:12:42.498 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" started.
2018-01-12 09:12:42.682 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:12:42.825 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:12:42.857 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:12:43.075 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:12:43.140 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:12:43.160 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:12:43.172 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:12:43.199 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:12:44.781 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:12:46.901 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2113.2829ms.
2018-01-12 09:12:47.033 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:12:47.132 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 97.2836ms.
2018-01-12 09:12:47.143 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:12:47.153 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:12:47.303 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:12:47.498 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:12:48.373 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 871.54450000000008ms.
2018-01-12 09:12:48.398 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:12:48.402 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:12:48.427 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:12:48.431 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:12:48.519 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5376.7357ms
2018-01-12 09:12:48.584 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" completed keep alive response.
2018-01-12 09:12:48.654 +00:00 [INF] Request finished in 5979.6731ms 200 text/html; charset=utf-8
2018-01-12 09:12:52.617 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:12:52.622 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:12:52.624 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:12:52.625 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:12:52.630 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:12:52.640 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:12:52.649 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:12:52.657 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:12:52.666 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:12:52.670 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:12:54.650 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:12:54.658 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:12:54.665 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:12:54.670 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2038.2413000000001ms
2018-01-12 09:12:54.682 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" completed keep alive response.
2018-01-12 09:12:54.686 +00:00 [INF] Request finished in 2067.8283ms 302 
2018-01-12 09:12:55.320 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" received FIN.
2018-01-12 09:12:55.332 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" disconnecting.
2018-01-12 09:12:55.337 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" sending FIN.
2018-01-12 09:12:55.337 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" stopped.
2018-01-12 09:13:18.575 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" started.
2018-01-12 09:13:18.592 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 09:13:18.606 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 09:13:18.622 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C", Request id "0HLAPJIGLHQ2C:00000001": started reading request body.
2018-01-12 09:13:18.628 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C", Request id "0HLAPJIGLHQ2C:00000001": done reading request body.
2018-01-12 09:13:18.651 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:13:18.665 +00:00 [VRB] MessageReceived: '?code=f9271c798491b1e7ff96a158dea89d1d8efe5fba87e0f612ea8e832615fb50ee&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NDgzOTgsImV4cCI6MTUxNTc0ODY5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0NTE3NDY0MDY3ODkuT0RJMk5UZzRNell0TnpZd1lTMDBObUU1TFRrME16UXROREEzTmpVNFltVmxOVEl5T1dOaE5tUm1PRGt0TXpJNU5pMDBOelF5TFRsbFpUUXRaVFZpTlRnNFlXUXlNREpoIiwiaWF0IjoxNTE1NzQ4Mzk4LCJjX2hhc2giOiJWYkNFck14Z0pNY1VUcHdEMUp2eTRnIiwic2lkIjoiZjllNmU0ZmQwZGJkMThlY2RmNGVkMzgzNTE4NjZiN2YiLCJzdWIiOiI3OTI4NmNkZC04OWFhLTQ2MDEtOWRkZS1hZTM4YTNiZDYyYzUiLCJhdXRoX3RpbWUiOjE1MTU3NDgzOTcsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.grWVoSZtQYMZJ0Qp7iOXfWC5KelHA9pvDLUbmKKsvLyp3fetutJsBZFE4N9Q3rdCN43Ym5ZMb97OrucQ1qx75nrq1fqjF9m6JvAqfCU_PlYNSXCWYAQn1TpxwCKmHkCC-ydPxuUmajq9dKfTsR015LQ4x9cY_ntCuz3U1IkN0dxcBaws4qFpYBABuGnCJscpBIfunP3Rbr_OhC0R9cDyc68g9HIC2K25Zpbwb5ImwzuR05qlmHDgCJsbj4fdWriuxmel2K0zc-kAV8PMRaKYW4vjp0HudJ_BGCl_xsocBgnI47TQqK5v1GAqzBQegNV9ZzvbZrmrmCNFDdpeX7O8vA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2FmOmvO-1uO9_dgDixdEIItL6A1J1bNx0KvxhOTOloiADBTyYRJGPWSo60cFVYZLiURfzx_BMizHb1bWNgvAbhQ3XEtY23vB64oUIKlp3xm4DNO5yXDrXe6nNp9itUj0TjfZ0mSivbJMuFWo3p-xMbZEBftymGcbEkGZEeSC_tE5YORHPb7HgYF3P5tNKFvWOEOQmi1KLLs8m3ikS_7wqawL79WHNWe4MmrOuPCraK7QVYcou3lW1iq-ShsCKpS7jpjEDVnzbVAAwa-W0bshqLMYOdrD9dmSAh0CgqdGp7TJINXfjzZ8wdmagfBb_UHhI&session_state=SX2olbtNufxNpVvSI-mr-DAtWc64epIyjWAgDLNjDoQ.ac62ca3c2a8c9028f22ed497df2a6c91'.
2018-01-12 09:13:18.672 +00:00 [DBG] Updating configuration
2018-01-12 09:13:18.677 +00:00 [DBG] Received 'id_token'
2018-01-12 09:13:18.783 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:13:18.787 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:13:18.793 +00:00 [VRB] Authorization code received.
2018-01-12 09:13:18.798 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 09:13:21.009 +00:00 [VRB] Token response received.
2018-01-12 09:13:21.016 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 09:13:21.926 +00:00 [VRB] User information received: {
  "sub": "79286cdd-89aa-4601-9dde-ae38a3bd62c5",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 09:13:21.954 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:21.976 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 09:13:21.985 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" completed keep alive response.
2018-01-12 09:13:22.001 +00:00 [INF] Request finished in 3408.839ms 302 
2018-01-12 09:13:22.011 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:13:22.017 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:22.021 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:22.026 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:13:22.028 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:13:22.029 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:13:22.033 +00:00 [INF] Authorization was successful for user: 79286cdd-89aa-4601-9dde-ae38a3bd62c5.
2018-01-12 09:13:22.038 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:13:22.045 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:13:22.047 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 09:13:22.165 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 09:13:22.599 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 431.66670000000005ms.
2018-01-12 09:13:22.605 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 09:13:22.606 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 09:13:22.639 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:22.645 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:22.649 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 09:13:22.651 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:22.652 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:22.654 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:22.655 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:22.659 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 626.5342ms
2018-01-12 09:13:22.671 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" completed keep alive response.
2018-01-12 09:13:22.674 +00:00 [INF] Request finished in 662.6681ms 200 text/html; charset=utf-8
2018-01-12 09:13:25.323 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" received FIN.
2018-01-12 09:13:25.326 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" disconnecting.
2018-01-12 09:13:25.330 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" sending FIN.
2018-01-12 09:13:25.331 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" stopped.
2018-01-12 09:13:28.256 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" started.
2018-01-12 09:13:28.259 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 09:13:28.272 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:28.279 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:28.285 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 09:13:28.286 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:13:28.298 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 09:13:28.302 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:13:28.366 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:29.931 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:13:29.933 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 09:13:30.026 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 09:13:30.306 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 276.47020000000003ms.
2018-01-12 09:13:30.320 +00:00 [DBG] The view 'json' was found.
2018-01-12 09:13:30.332 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 09:13:30.435 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 09:13:30.437 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:30.438 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:30.439 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:30.442 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:30.449 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2147.5902ms
2018-01-12 09:13:30.460 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" completed keep alive response.
2018-01-12 09:13:30.470 +00:00 [INF] Request finished in 2210.7839ms 200 text/html; charset=utf-8
2018-01-12 09:13:35.324 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" received FIN.
2018-01-12 09:13:35.326 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" disconnecting.
2018-01-12 09:13:35.327 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" sending FIN.
2018-01-12 09:13:35.327 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" stopped.
2018-01-12 09:13:41.300 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" started.
2018-01-12 09:13:41.300 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" started.
2018-01-12 09:13:41.381 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" started.
2018-01-12 09:13:41.381 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" started.
2018-01-12 09:13:41.388 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" started.
2018-01-12 09:13:41.400 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" started.
2018-01-12 09:13:44.602 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 09:13:44.607 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:44.610 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:44.617 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 09:13:44.618 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:13:44.625 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 09:13:44.626 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:13:45.338 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" received FIN.
2018-01-12 09:13:45.338 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" received FIN.
2018-01-12 09:13:45.348 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" disconnecting.
2018-01-12 09:13:45.349 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" disconnecting.
2018-01-12 09:13:45.350 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" received FIN.
2018-01-12 09:13:45.352 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" disconnecting.
2018-01-12 09:13:45.354 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" received FIN.
2018-01-12 09:13:45.356 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" disconnecting.
2018-01-12 09:13:45.357 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" sending FIN.
2018-01-12 09:13:45.358 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" sending FIN.
2018-01-12 09:13:45.363 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" sending FIN.
2018-01-12 09:13:45.372 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" stopped.
2018-01-12 09:13:45.373 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" stopped.
2018-01-12 09:13:45.373 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" stopped.
2018-01-12 09:13:45.386 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" received FIN.
2018-01-12 09:13:45.389 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" disconnecting.
2018-01-12 09:13:45.390 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" sending FIN.
2018-01-12 09:13:45.392 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" sending FIN.
2018-01-12 09:13:45.398 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" stopped.
2018-01-12 09:13:45.413 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" stopped.
2018-01-12 09:13:45.503 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:13:45.507 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 09:13:45.509 +00:00 [DBG] The view 'json' was found.
2018-01-12 09:13:45.510 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 09:13:45.517 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 09:13:45.518 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:45.520 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:45.522 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:45.523 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:45.524 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 898.30810000000008ms
2018-01-12 09:13:45.538 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" completed keep alive response.
2018-01-12 09:13:45.566 +00:00 [INF] Request finished in 958.052ms 200 text/html; charset=utf-8
2018-01-12 09:13:51.225 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" received FIN.
2018-01-12 09:13:51.237 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" disconnecting.
2018-01-12 09:13:51.238 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" sending FIN.
2018-01-12 09:13:51.238 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" stopped.
2018-01-12 09:21:04.613 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:21:04.703 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:21:04.732 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:21:04.782 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:21:04.829 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:21:04.833 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:21:04.835 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:21:04.837 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:21:04.845 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:21:04.850 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:21:04.852 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:21:05.248 +00:00 [DBG] Hosting starting
2018-01-12 09:21:05.414 +00:00 [DBG] Hosting started
2018-01-12 09:21:05.415 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:21:05.417 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:21:05.720 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" started.
2018-01-12 09:21:05.720 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" started.
2018-01-12 09:21:05.764 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" received FIN.
2018-01-12 09:21:05.764 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" received FIN.
2018-01-12 09:21:05.768 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" disconnecting.
2018-01-12 09:21:05.768 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" disconnecting.
2018-01-12 09:21:05.770 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" sending FIN.
2018-01-12 09:21:05.779 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" stopped.
2018-01-12 09:21:05.786 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" sending FIN.
2018-01-12 09:21:05.786 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" stopped.
2018-01-12 09:21:07.210 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" started.
2018-01-12 09:21:07.536 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:21:07.770 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:21:07.790 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:21:07.925 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:21:07.971 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:21:07.990 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:21:07.998 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:21:08.009 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:21:09.334 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:21:11.207 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1864.6018000000001ms.
2018-01-12 09:21:11.309 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:21:11.383 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 72.6504ms.
2018-01-12 09:21:11.392 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:21:11.393 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:21:11.457 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:21:11.610 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:21:12.493 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 881.058ms.
2018-01-12 09:21:12.526 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:21:12.532 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:21:12.560 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:21:12.562 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:21:12.613 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4638.8798000000006ms
2018-01-12 09:21:12.645 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" completed keep alive response.
2018-01-12 09:21:12.653 +00:00 [INF] Request finished in 5121.5602ms 200 text/html; charset=utf-8
2018-01-12 09:21:14.308 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:21:14.314 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:21:14.316 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:21:14.318 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:21:14.325 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:21:14.340 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:21:14.359 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:21:14.376 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:21:14.403 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:21:14.408 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:21:16.469 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:21:16.482 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:21:16.485 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:21:16.493 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2166.9386ms
2018-01-12 09:21:16.498 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" completed keep alive response.
2018-01-12 09:21:16.515 +00:00 [INF] Request finished in 2207.2258ms 302 
2018-01-12 09:21:20.944 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" received FIN.
2018-01-12 09:21:20.947 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" disconnecting.
2018-01-12 09:21:20.948 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" sending FIN.
2018-01-12 09:21:20.948 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" stopped.
2018-01-12 09:24:40.342 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:24:40.391 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:24:40.404 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:24:40.423 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:24:40.441 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:24:40.442 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:24:40.443 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:24:40.445 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:24:40.451 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:24:40.459 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:24:40.461 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:24:41.298 +00:00 [DBG] Hosting starting
2018-01-12 09:24:41.820 +00:00 [DBG] Hosting started
2018-01-12 09:24:41.824 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:24:41.825 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:24:41.890 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" started.
2018-01-12 09:24:41.945 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" received FIN.
2018-01-12 09:24:41.951 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" disconnecting.
2018-01-12 09:24:41.957 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" sending FIN.
2018-01-12 09:24:42.001 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" stopped.
2018-01-12 09:24:44.678 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" started.
2018-01-12 09:24:44.814 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:24:45.021 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:24:45.060 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:24:45.815 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:24:45.993 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:24:46.013 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:24:46.025 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:24:46.036 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:24:47.758 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:24:49.900 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2134.1411000000003ms.
2018-01-12 09:24:50.043 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:24:50.162 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 115.0982ms.
2018-01-12 09:24:50.179 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:24:50.181 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:24:50.248 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:24:50.466 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:24:51.521 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1050.3999000000001ms.
2018-01-12 09:24:51.555 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:24:51.562 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:24:51.627 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:24:51.633 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:24:51.738 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5742.6568000000007ms
2018-01-12 09:24:51.790 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" completed keep alive response.
2018-01-12 09:24:51.797 +00:00 [INF] Request finished in 6989.5349ms 200 text/html; charset=utf-8
2018-01-12 09:24:57.357 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" received FIN.
2018-01-12 09:24:57.359 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" disconnecting.
2018-01-12 09:24:57.360 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" sending FIN.
2018-01-12 09:24:57.360 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" stopped.
2018-01-12 09:25:07.731 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" started.
2018-01-12 09:25:07.734 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:25:07.739 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:25:07.741 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:25:07.743 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:25:07.746 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:25:07.756 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:25:07.764 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:25:07.772 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:25:07.781 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:25:07.782 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:25:09.890 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:25:09.905 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:25:09.914 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:25:09.926 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2178.4553ms
2018-01-12 09:25:09.940 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" completed keep alive response.
2018-01-12 09:25:09.951 +00:00 [INF] Request finished in 2217.3305ms 302 
2018-01-12 09:25:17.359 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" received FIN.
2018-01-12 09:25:17.362 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" disconnecting.
2018-01-12 09:25:17.363 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" sending FIN.
2018-01-12 09:25:17.363 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" stopped.
2018-01-12 10:14:23.414 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:14:23.460 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:14:23.471 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:14:23.488 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:14:23.505 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:14:23.506 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:14:23.507 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:14:23.508 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:14:23.512 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:14:23.516 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:14:23.518 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:14:24.289 +00:00 [DBG] Hosting starting
2018-01-12 10:14:24.881 +00:00 [DBG] Hosting started
2018-01-12 10:14:24.882 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:14:24.884 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:14:24.999 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" started.
2018-01-12 10:14:25.060 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" received FIN.
2018-01-12 10:14:25.063 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" disconnecting.
2018-01-12 10:14:25.066 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" sending FIN.
2018-01-12 10:14:25.078 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" stopped.
2018-01-12 10:14:27.604 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" started.
2018-01-12 10:14:27.702 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:14:27.846 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:14:27.866 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:14:28.023 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:14:28.125 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:14:28.161 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:14:28.182 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:14:28.199 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:14:29.748 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:14:32.817 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3062.1274000000003ms.
2018-01-12 10:14:32.896 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:14:32.966 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 68.9486ms.
2018-01-12 10:14:32.980 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:14:32.981 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:14:33.086 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:14:33.216 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:14:34.044 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 825.1472ms.
2018-01-12 10:14:34.079 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:14:34.084 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:14:34.115 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:14:34.117 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:14:34.171 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6039.3631000000005ms
2018-01-12 10:14:34.197 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" completed keep alive response.
2018-01-12 10:14:34.208 +00:00 [INF] Request finished in 6512.5113ms 200 text/html; charset=utf-8
2018-01-12 10:14:40.476 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" received FIN.
2018-01-12 10:14:40.478 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" disconnecting.
2018-01-12 10:14:40.479 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" sending FIN.
2018-01-12 10:14:40.480 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" stopped.
2018-01-12 10:14:59.260 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" started.
2018-01-12 10:14:59.274 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:14:59.279 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:14:59.285 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:14:59.288 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:14:59.293 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:14:59.309 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:14:59.318 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:14:59.328 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:14:59.341 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:14:59.343 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:15:01.971 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:15:01.978 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:15:01.980 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:15:01.986 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2691.8397ms
2018-01-12 10:15:01.991 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" completed keep alive response.
2018-01-12 10:15:02.004 +00:00 [INF] Request finished in 2730.0406ms 302 
2018-01-12 10:15:10.480 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" received FIN.
2018-01-12 10:15:10.482 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" disconnecting.
2018-01-12 10:15:10.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" sending FIN.
2018-01-12 10:15:10.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" stopped.
2018-01-12 10:15:15.764 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" started.
2018-01-12 10:15:15.775 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 10:15:15.817 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:15:15.841 +00:00 [DBG] Connection id "0HLAPKL0RGSB6", Request id "0HLAPKL0RGSB6:00000001": started reading request body.
2018-01-12 10:15:15.846 +00:00 [DBG] Connection id "0HLAPKL0RGSB6", Request id "0HLAPKL0RGSB6:00000001": done reading request body.
2018-01-12 10:15:15.865 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:15:15.872 +00:00 [VRB] MessageReceived: '?code=a068f30cde44d2a065003c2aee53186aff671e8f322f64ee11c9f49306618656&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTIxMTUsImV4cCI6MTUxNTc1MjQxNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0ODkwMTk2MjE1ODkuTkRVMlpEbGxORGd0TnpreE5TMDBNRGhsTFdGbVlXSXRZMlZtTWpOaVpESmpPVFJtWmpZellqQmpNamd0WkdVd01TMDBZamN5TFRreE9EQXRNV1U1T1dFeFlXVmlPV0ZpIiwiaWF0IjoxNTE1NzUyMTE1LCJjX2hhc2giOiJBbDI0dkQxT3I5dVJXaEZmMFFieUFnIiwic2lkIjoiMzlmMjY1YzliZDUyZmUwZGJhMjU4NmQxYzNiN2M1ZTkiLCJzdWIiOiI4NTdkOTdlYS01NWRlLTRmZjMtYWRlNy1hM2U1ZWNhMGYxZDMiLCJhdXRoX3RpbWUiOjE1MTU3NTIxMTQsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.KnK0nVGHn38cZktrzkjFy6pa3vS5e4zT1dxIvK5fiRHLoyjNP1DlYHKTTwlajeG9n6bJxlmCkmea0IX4VBE4Vq1T3zmtssA0-f0LxTkJSMYKTB4PXohfJCCffKKte8DRXjhS8hpM3T1B0n4sfw3_SaWimOVzDOj7Xk86ZR7UgeGElJy9pIztmx3txJ9sCoOJXDExmm2F_JdWqMyn0KdHhvnNHeOjx5Jrb9N01kSnKMfV05kWzhnkob2O2j9dkMiuWDSaDdlEMuDsibdZwzahuQDmWg--jN0mNdDBF5xU_oRVzs11NDCJJ2A1lkODlsZOzkYxk6hH7blCaRAyn5xJUA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0BlQYIGrCOABJ8_dLZ-bikyZNzT4pbXf_Agms52QYNdgBRGndBB_34df_gtLsc1A6K2hrrhmhFVt8-KwDz_drKqIgFbVmLiLyeBSXsc46hbPJskEOLinxj4HKchmmb2po6cLdDgu3rM1Fs4NE7j6jznepT0vvW8Usx89v_GpK_b2zI623UVEDlOrbL0PfAmF_PSaEQ7QHr5IOjD0aOh9OzgrfnsUnrxHVB7DZMFH1Ts-p4V9XtmAAKuQ_-fi21yF3YT2teTH9L-_J0WV7s4oLYYF1BSmg8sdrCmZQzfpFm7IehjlE8Xx_Q5778AId7WYU&session_state=RoImYt8PS82sOEkmbUUFMKWENloKa5Gny6Nju0Fp29g.76f972b212aa47c14ea22e0bccadc086'.
2018-01-12 10:15:15.877 +00:00 [DBG] Updating configuration
2018-01-12 10:15:15.879 +00:00 [DBG] Received 'id_token'
2018-01-12 10:15:15.982 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:15:16.011 +00:00 [VRB] Authorization code received.
2018-01-12 10:15:16.015 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:15:18.072 +00:00 [VRB] Token response received.
2018-01-12 10:15:18.078 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:15:18.886 +00:00 [VRB] User information received: {
  "sub": "857d97ea-55de-4ff3-ade7-a3e5eca0f1d3",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:15:18.895 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:18.898 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:15:18.903 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" completed keep alive response.
2018-01-12 10:15:18.904 +00:00 [INF] Request finished in 3128.9674ms 302 
2018-01-12 10:15:18.910 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:15:18.913 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:18.915 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:18.920 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:15:18.921 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:18.922 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:15:18.924 +00:00 [INF] Authorization was successful for user: 857d97ea-55de-4ff3-ade7-a3e5eca0f1d3.
2018-01-12 10:15:18.928 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:18.931 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:18.933 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:15:19.043 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:15:19.425 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 370.5538ms.
2018-01-12 10:15:19.431 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:15:19.433 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:15:19.476 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:19.497 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:19.521 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:19.525 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:19.527 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:19.530 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:19.531 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:19.538 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 615.3223ms
2018-01-12 10:15:19.766 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" completed keep alive response.
2018-01-12 10:15:19.782 +00:00 [INF] Request finished in 872.0269ms 200 text/html; charset=utf-8
2018-01-12 10:15:20.481 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" received FIN.
2018-01-12 10:15:20.483 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" disconnecting.
2018-01-12 10:15:20.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" sending FIN.
2018-01-12 10:15:20.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" stopped.
2018-01-12 10:15:29.642 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" started.
2018-01-12 10:15:29.647 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:15:29.654 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:29.656 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:29.660 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:15:29.661 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:29.673 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:15:29.674 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:29.719 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:30.936 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:30.939 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:15:31.080 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:15:31.363 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 270.4046ms.
2018-01-12 10:15:31.375 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:15:31.376 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:15:31.442 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:31.443 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:31.444 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:31.445 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:31.447 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:31.448 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1774.5237000000002ms
2018-01-12 10:15:31.460 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" completed keep alive response.
2018-01-12 10:15:31.461 +00:00 [INF] Request finished in 1814.3091ms 200 text/html; charset=utf-8
2018-01-12 10:15:40.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" received FIN.
2018-01-12 10:15:40.487 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" disconnecting.
2018-01-12 10:15:40.488 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" sending FIN.
2018-01-12 10:15:40.488 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" stopped.
2018-01-12 10:15:40.780 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" started.
2018-01-12 10:15:40.805 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:15:40.811 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:40.814 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:40.818 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:15:40.820 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:40.821 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:15:40.822 +00:00 [INF] Authorization was successful for user: 857d97ea-55de-4ff3-ade7-a3e5eca0f1d3.
2018-01-12 10:15:40.825 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:40.830 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:40.832 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 10:15:40.833 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:15:40.835 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:15:40.842 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:40.845 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:40.848 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:40.850 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:40.851 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:40.853 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:40.854 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:40.855 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 33.1417ms
2018-01-12 10:15:40.862 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" completed keep alive response.
2018-01-12 10:15:40.863 +00:00 [INF] Request finished in 57.7123ms 200 text/html; charset=utf-8
2018-01-12 10:15:41.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 10:15:41.871 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:41.873 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:41.878 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 10:15:41.879 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:41.889 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 10:15:41.890 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:42.510 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:42.512 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 10:15:42.514 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:15:42.515 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:15:42.522 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:42.523 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:42.525 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:42.526 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:42.527 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:42.529 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 639.0512ms
2018-01-12 10:15:42.541 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" completed keep alive response.
2018-01-12 10:15:42.545 +00:00 [INF] Request finished in 682.1668ms 200 text/html; charset=utf-8
2018-01-12 10:15:50.294 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:15:50.302 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:50.305 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:50.310 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:15:50.311 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:50.313 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:15:50.314 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:50.321 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:50.322 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:15:50.323 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:15:50.325 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:15:50.328 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:50.329 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:50.332 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:50.333 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:50.334 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:50.336 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 22.3106ms
2018-01-12 10:15:50.344 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" completed keep alive response.
2018-01-12 10:15:50.346 +00:00 [INF] Request finished in 51.0876ms 200 text/html; charset=utf-8
2018-01-12 10:15:50.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" received FIN.
2018-01-12 10:15:50.486 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" disconnecting.
2018-01-12 10:15:50.487 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" sending FIN.
2018-01-12 10:15:50.487 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" stopped.
2018-01-12 10:15:51.720 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" started.
2018-01-12 10:15:51.726 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:15:51.735 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:51.742 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:51.755 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:15:51.756 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:51.760 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:15:51.762 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:51.785 +00:00 [INF] Authorization failed for user: 857d97ea-55de-4ff3-ade7-a3e5eca0f1d3.
2018-01-12 10:15:51.803 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:15:51.813 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:15:51.836 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:15:51.854 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 92.2325ms
2018-01-12 10:15:51.862 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" completed keep alive response.
2018-01-12 10:15:51.864 +00:00 [INF] Request finished in 138.3829ms 302 
2018-01-12 10:15:51.873 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:15:51.877 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:51.879 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:51.884 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:15:51.887 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:51.890 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:15:51.892 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:15:51.893 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:15:51.894 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" completed keep alive response.
2018-01-12 10:15:51.904 +00:00 [INF] Request finished in 30.8487ms 404 
2018-01-12 10:16:00.485 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" received FIN.
2018-01-12 10:16:00.489 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" disconnecting.
2018-01-12 10:16:00.490 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" sending FIN.
2018-01-12 10:16:00.490 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" stopped.
2018-01-12 10:20:58.866 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:20:58.947 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:20:58.971 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:20:59.030 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:20:59.063 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:20:59.065 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:20:59.067 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:20:59.068 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:20:59.073 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:20:59.082 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:20:59.089 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:20:59.870 +00:00 [DBG] Hosting starting
2018-01-12 10:21:00.306 +00:00 [DBG] Hosting started
2018-01-12 10:21:00.307 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:21:00.308 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:21:00.607 +00:00 [DBG] Connection id "0HLAPKOMOB29P" started.
2018-01-12 10:21:00.705 +00:00 [DBG] Connection id "0HLAPKOMOB29P" received FIN.
2018-01-12 10:21:00.715 +00:00 [DBG] Connection id "0HLAPKOMOB29P" disconnecting.
2018-01-12 10:21:00.718 +00:00 [DBG] Connection id "0HLAPKOMOB29P" sending FIN.
2018-01-12 10:21:00.744 +00:00 [DBG] Connection id "0HLAPKOMOB29P" stopped.
2018-01-12 10:21:02.073 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" started.
2018-01-12 10:21:02.164 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:21:02.280 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:21:02.297 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:21:02.410 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:21:02.460 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:21:02.478 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:21:02.485 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:21:02.492 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:21:04.172 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:21:06.414 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2233.5201ms.
2018-01-12 10:21:06.536 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:21:06.662 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 123.3314ms.
2018-01-12 10:21:06.671 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:21:06.672 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:21:06.742 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:21:06.972 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:21:07.801 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 815.73830000000009ms.
2018-01-12 10:21:07.826 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:21:07.835 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:21:07.878 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:21:07.897 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:21:07.984 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5521.6485ms
2018-01-12 10:21:08.007 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" completed keep alive response.
2018-01-12 10:21:08.020 +00:00 [INF] Request finished in 5862.3762ms 200 text/html; charset=utf-8
2018-01-12 10:21:15.871 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" received FIN.
2018-01-12 10:21:15.873 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" disconnecting.
2018-01-12 10:21:15.874 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" sending FIN.
2018-01-12 10:21:15.874 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" stopped.
2018-01-12 10:22:11.450 +00:00 [DBG] Connection id "0HLAPKOMOB29R" started.
2018-01-12 10:22:11.461 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:22:11.469 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:22:11.474 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:22:11.480 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:22:11.490 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:22:11.518 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:22:11.531 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:22:11.543 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:22:11.556 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:22:11.557 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:22:13.725 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:22:13.732 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:22:13.735 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:22:13.738 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2236.1749ms
2018-01-12 10:22:13.744 +00:00 [DBG] Connection id "0HLAPKOMOB29R" completed keep alive response.
2018-01-12 10:22:13.745 +00:00 [INF] Request finished in 2284.3817ms 302 
2018-01-12 10:22:15.889 +00:00 [DBG] Connection id "0HLAPKOMOB29R" received FIN.
2018-01-12 10:22:15.899 +00:00 [DBG] Connection id "0HLAPKOMOB29R" disconnecting.
2018-01-12 10:22:15.900 +00:00 [DBG] Connection id "0HLAPKOMOB29R" stopped.
2018-01-12 10:22:15.900 +00:00 [DBG] Connection id "0HLAPKOMOB29R" sending FIN.
2018-01-12 10:22:25.087 +00:00 [DBG] Connection id "0HLAPKOMOB29S" started.
2018-01-12 10:22:25.095 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 10:22:25.103 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:22:25.115 +00:00 [DBG] Connection id "0HLAPKOMOB29S", Request id "0HLAPKOMOB29S:00000001": started reading request body.
2018-01-12 10:22:25.121 +00:00 [DBG] Connection id "0HLAPKOMOB29S", Request id "0HLAPKOMOB29S:00000001": done reading request body.
2018-01-12 10:22:25.136 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:22:25.140 +00:00 [VRB] MessageReceived: '?code=31615c0ff1e44ad25ed2cd3cd1935d6bc9f131d4f441945aec1773cf826179ac&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTI1NDQsImV4cCI6MTUxNTc1Mjg0NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0OTMzMzcyMTE1ODMuTmpoaU9XTTVaakF0WkdFd015MDBOelE1TFRsalpESXRZMlkzWlRWaFl6YzNZekV5WWpjNE5HVmtabVF0WXpneE1TMDBZalUxTFdGak9HRXRaakV3WWpSa05HUTRPVEF5IiwiaWF0IjoxNTE1NzUyNTQ0LCJjX2hhc2giOiJKMk1kb2hUemlGajBwVjdkMjJYOU13Iiwic2lkIjoiZmVlYzY1YTlmOTFkYTFjMWExMjk2OGFhMTNlOTdhM2QiLCJzdWIiOiI3NGIzY2VmNC02MTBhLTQxYjYtYmMzMS01ZDk2ODA3NmExMWEiLCJhdXRoX3RpbWUiOjE1MTU3NTI1NDMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.Vfg0yxz_fNa-_3o8gzDJQUXB5JPGq_aMKwt-Ux750ohMeipJ2UDfFvCc4pyNLENL4qBHNHnFxXv0ZQIQ6WuvGcQwHZ6GSXOwYev83uy2J6YoNiaSHmYuKklevWBkH2VA8W2uL3uBzlLfMs8OejWjaSxAvjHPg3GQ2qVDQI-EQ-_21DKCZGsYehNuNbHvzvJdmsqA8F-xcgGEoGEvRcNfK3yVGJBO46VgM3U_lZYRxe6bG_jAkbGWntssPKcLi-BxQj9Bu1AGq9mhkMTI862oE0bs6mhr2YxXUDD5658wXr5FU6EwjBr_rvcD1S1B_CpE9EPMfaz-0iHpW9P7r6A_4w&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO09xyoOjW9-xP-_k2dwX-4ecrxqHaS7ayuTJfX-vxTk3jqZotYYfe0W_h_d3us9Kc6NQe8sUeWL930LoRjvqd9crj3zeMierYmC3nmlrZ21dzEZOdbt_gKmGFrZ38mZj0wlmnBFloNhNQwjxTlj4HwpdzqKfPy4Uzz2DcxehGcJo5Lw1vlaJF6JCLzc3MkQUqpz6J_xia-6Kw84p3X-od8eDCysQJ75YcM1yeRqKVQ2ymsD3L__1ZaOVWVA9Xq08UvYhcLMKX9lIHHKQ9caz228TwIao1F3ca87f5RWKWUaq-qhvXEyR69jm485ybL4rxs&session_state=nAM-FQOIjmGiz09cwJ93jqe_oPAaXLjzaXEibV7vpRY.f99326d44a6e93f5e02ebc3242acd06b'.
2018-01-12 10:22:25.145 +00:00 [DBG] Updating configuration
2018-01-12 10:22:25.146 +00:00 [DBG] Received 'id_token'
2018-01-12 10:22:25.228 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:22:25.233 +00:00 [VRB] Authorization code received.
2018-01-12 10:22:25.235 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:22:27.340 +00:00 [VRB] Token response received.
2018-01-12 10:22:27.346 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:22:28.114 +00:00 [VRB] User information received: {
  "sub": "74b3cef4-610a-41b6-bc31-5d968076a11a",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:22:28.124 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:22:28.129 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:22:28.135 +00:00 [DBG] Connection id "0HLAPKOMOB29S" completed keep alive response.
2018-01-12 10:22:28.137 +00:00 [INF] Request finished in 3042.9033ms 302 
2018-01-12 10:22:28.146 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:22:28.148 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:22:28.151 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:22:28.160 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:22:28.162 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:22:28.164 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:22:28.167 +00:00 [INF] Authorization was successful for user: 74b3cef4-610a-41b6-bc31-5d968076a11a.
2018-01-12 10:22:28.171 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:22:28.179 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:22:28.182 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:22:28.400 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:22:28.677 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 275.1008ms.
2018-01-12 10:22:28.682 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:22:28.684 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:22:28.706 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:22:28.712 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:22:28.718 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:22:28.719 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:22:28.721 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:22:28.722 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:22:28.724 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:22:28.730 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 563.91410000000008ms
2018-01-12 10:22:28.779 +00:00 [DBG] Connection id "0HLAPKOMOB29S" completed keep alive response.
2018-01-12 10:22:28.790 +00:00 [INF] Request finished in 644.0877ms 200 text/html; charset=utf-8
2018-01-12 10:22:35.891 +00:00 [DBG] Connection id "0HLAPKOMOB29S" received FIN.
2018-01-12 10:22:35.897 +00:00 [DBG] Connection id "0HLAPKOMOB29S" disconnecting.
2018-01-12 10:22:35.898 +00:00 [DBG] Connection id "0HLAPKOMOB29S" sending FIN.
2018-01-12 10:22:35.898 +00:00 [DBG] Connection id "0HLAPKOMOB29S" stopped.
2018-01-12 10:28:16.415 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:28:16.501 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:28:16.523 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:28:16.566 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:28:16.594 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:28:16.596 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:28:16.599 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:28:16.608 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:28:16.616 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:28:16.626 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:28:16.629 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:28:17.567 +00:00 [DBG] Hosting starting
2018-01-12 10:28:18.005 +00:00 [DBG] Hosting started
2018-01-12 10:28:18.006 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:28:18.010 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:28:18.099 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" started.
2018-01-12 10:28:18.199 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" received FIN.
2018-01-12 10:28:18.218 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" disconnecting.
2018-01-12 10:28:18.224 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" sending FIN.
2018-01-12 10:28:18.229 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" stopped.
2018-01-12 10:28:20.516 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" started.
2018-01-12 10:28:20.673 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:28:20.910 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:28:20.945 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:28:21.310 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:28:21.418 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:28:21.453 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:28:21.467 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:28:21.482 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:28:24.260 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:28:27.690 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3415.6846ms.
2018-01-12 10:28:27.845 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:28:28.038 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 188.1283ms.
2018-01-12 10:28:28.051 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:28:28.053 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:28:28.157 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:28:28.494 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:28:29.777 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1259.8451ms.
2018-01-12 10:28:29.813 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:28:29.821 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:28:29.891 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:28:29.908 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:28:30.056 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8628.5501ms
2018-01-12 10:28:30.083 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" completed keep alive response.
2018-01-12 10:28:30.105 +00:00 [INF] Request finished in 9444.7472ms 200 text/html; charset=utf-8
2018-01-12 10:28:38.493 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" received FIN.
2018-01-12 10:28:38.495 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" disconnecting.
2018-01-12 10:28:38.496 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" sending FIN.
2018-01-12 10:28:38.497 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" stopped.
2018-01-12 10:30:22.669 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" started.
2018-01-12 10:30:22.674 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:30:22.678 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:30:22.695 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:30:22.714 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:30:22.719 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:30:22.735 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:30:22.745 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:30:22.755 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:30:22.768 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:30:22.770 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:30:23.777 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:30:23.799 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:30:23.814 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:30:23.828 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1107.4095ms
2018-01-12 10:30:23.843 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" completed keep alive response.
2018-01-12 10:30:23.865 +00:00 [INF] Request finished in 1191.1558ms 302 
2018-01-12 10:30:28.508 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" received FIN.
2018-01-12 10:30:28.528 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" disconnecting.
2018-01-12 10:30:28.529 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" sending FIN.
2018-01-12 10:30:28.529 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" stopped.
2018-01-12 10:31:05.377 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" started.
2018-01-12 10:31:05.387 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 10:31:05.395 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:31:05.414 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ", Request id "0HLAPKSP4HOLJ:00000001": started reading request body.
2018-01-12 10:31:05.425 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ", Request id "0HLAPKSP4HOLJ:00000001": done reading request body.
2018-01-12 10:31:05.473 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:31:05.488 +00:00 [VRB] MessageReceived: '?code=d5a155d65c8acdd899a34918ff22cf8c306f194d5ed070b8edb1715918f33a95&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTMwNjUsImV4cCI6MTUxNTc1MzM2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0OTgyMzc2NzQwNTEuTXpCalpESTVObUl0TnpsbE5pMDBZbU5tTFdJek9XWXRNbVJpTjJObU5UTTJPRGMxWkRFeFlUa3pNREF0TldOak55MDBOMlUxTFdJek16a3RZMkl5T1RZeFlqVTFZalV4IiwiaWF0IjoxNTE1NzUzMDY0LCJjX2hhc2giOiJzTG1NekQyNmIwYm5zUVU1ZVhTM0lBIiwic2lkIjoiOWNkMzY5MTdkYmI3MDg4YTJjNmE1YmQzNzE2NmQwYzkiLCJzdWIiOiJiOTU2N2QwYS1kYzJiLTRjYjAtYjFhOC1lZTlmNGU4YWIwNDEiLCJhdXRoX3RpbWUiOjE1MTU3NTMwNjMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.hbgBJtLrOJFYmhXlGEgI9w8y6ErJkXOYw9kfndLDcPRepYPmTms4mn8Cf6p6qpK8IFMssy2kssYnKOcKu9iqutdSQhkWTfk1amYt1CfYSmi0j2nF0fhPsFncduHFPG6CNPx2AZxzjh36OIF1GVfneBTvjYDSy2nDbjmH4D5t4W1Kr-C8cj1TJNcEpD8WID4EKBA1ctjOzbcW3WcWcB6JHXZ02zWorj6IDx5Vs5dveqaxVhOgOsy8KWldiaSjJBdVHk2kz6fIIPeq8SY3ZJbUERGTUMHqRmsbUk0NmRtjMH9uE36RrHISCrVK1Hj2475GVhp7_23V76z28nVlzAceqA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1dB6eQ1S0jyPHNE3coXIZWsSO6HotJ_IrJHloUTxwP6kIyIsK86HI0OtakIyTpYp0x0tYiTLlUySRqRuqahBLkdIC9QrO-ZnqrE4lo4HLMMjG7xpq_PIhE4bD0KxD_Ducs3N3BNKRk8N9KGkicgSWf2nNboG2EfVLxs6Se-mo_AigV9uJeOq8CmAbtvOjNGIC1NIjIrWfK2kfqW4xOBmJnyt27np60bAD2mJiDQhf0M44yoePg63E_Iwd0L3VeDCRk_rrGOmU5pngTyPEwX8lqiHS9Nv3xT-XIucV2vjZ4DEsDMNqBrnvqozZF1bWP4AY&session_state=si0rxepF5kd5JgBJXOXjkqPtDfp6AyYwct5xH3JwSyE.9f9d8c5927ec5fd3273bb1593b142050'.
2018-01-12 10:31:05.510 +00:00 [DBG] Updating configuration
2018-01-12 10:31:05.512 +00:00 [DBG] Received 'id_token'
2018-01-12 10:31:05.636 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:31:05.653 +00:00 [VRB] Authorization code received.
2018-01-12 10:31:05.656 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:31:08.737 +00:00 [VRB] Token response received.
2018-01-12 10:31:08.752 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:31:09.834 +00:00 [VRB] User information received: {
  "sub": "b9567d0a-dc2b-4cb0-b1a8-ee9f4e8ab041",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:31:09.850 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:09.856 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:31:09.863 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" completed keep alive response.
2018-01-12 10:31:09.869 +00:00 [INF] Request finished in 4481.5007ms 302 
2018-01-12 10:31:09.881 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:31:09.889 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:09.893 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:09.898 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:31:09.901 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:09.903 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:31:09.905 +00:00 [INF] Authorization was successful for user: b9567d0a-dc2b-4cb0-b1a8-ee9f4e8ab041.
2018-01-12 10:31:09.913 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:31:09.920 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:31:09.922 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:31:10.331 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:31:10.670 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 330.75460000000004ms.
2018-01-12 10:31:10.675 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:31:10.677 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:31:10.705 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:10.711 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:10.715 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:31:10.722 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:10.724 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:10.728 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:10.736 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:10.741 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 837.4954ms
2018-01-12 10:31:10.810 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" completed keep alive response.
2018-01-12 10:31:10.821 +00:00 [INF] Request finished in 940.1977ms 200 text/html; charset=utf-8
2018-01-12 10:31:18.514 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" received FIN.
2018-01-12 10:31:18.518 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" disconnecting.
2018-01-12 10:31:18.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" sending FIN.
2018-01-12 10:31:18.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" stopped.
2018-01-12 10:31:31.352 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" started.
2018-01-12 10:31:31.354 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:31:31.358 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:31.360 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:31.364 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:31:31.367 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:31.381 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:31:31.383 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:31:31.452 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:33.796 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:31:33.826 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:31:33.972 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:31:34.223 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 249.4559ms.
2018-01-12 10:31:34.229 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:31:34.230 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:31:34.290 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:31:34.293 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:34.295 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:34.296 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:34.297 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:34.299 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2915.6188ms
2018-01-12 10:31:34.325 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" completed keep alive response.
2018-01-12 10:31:34.331 +00:00 [INF] Request finished in 2976.9636ms 200 text/html; charset=utf-8
2018-01-12 10:31:38.516 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" received FIN.
2018-01-12 10:31:38.518 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" disconnecting.
2018-01-12 10:31:38.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" sending FIN.
2018-01-12 10:31:38.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" stopped.
2018-01-12 10:31:42.211 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" started.
2018-01-12 10:31:42.219 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:31:42.224 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:42.229 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:42.237 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:31:42.240 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:42.241 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:31:42.243 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:31:42.248 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:31:42.255 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:31:42.259 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:31:42.261 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:31:42.275 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:31:42.279 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:42.280 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:42.283 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:42.286 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:42.290 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 46.697700000000005ms
2018-01-12 10:31:42.309 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" completed keep alive response.
2018-01-12 10:31:42.324 +00:00 [INF] Request finished in 104.9691ms 200 text/html; charset=utf-8
2018-01-12 10:31:43.028 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:31:43.039 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:43.041 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:43.047 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:31:43.057 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:43.062 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:31:43.066 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:43.089 +00:00 [INF] Authorization failed for user: b9567d0a-dc2b-4cb0-b1a8-ee9f4e8ab041.
2018-01-12 10:31:43.119 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:31:43.132 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:31:43.165 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:31:43.189 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 124.7518ms
2018-01-12 10:31:43.195 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" completed keep alive response.
2018-01-12 10:31:43.198 +00:00 [INF] Request finished in 170.0941ms 302 
2018-01-12 10:31:43.209 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:31:43.213 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:43.219 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:43.224 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:31:43.226 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:43.231 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:31:43.240 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:31:43.242 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:31:43.253 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" completed keep alive response.
2018-01-12 10:31:43.257 +00:00 [INF] Request finished in 48.8591ms 404 
2018-01-12 10:31:48.516 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" received FIN.
2018-01-12 10:31:48.522 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" disconnecting.
2018-01-12 10:31:48.523 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" sending FIN.
2018-01-12 10:31:48.523 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" stopped.
2018-01-12 10:33:08.047 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:33:08.141 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:33:08.172 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:33:08.211 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:33:08.254 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:33:08.256 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:33:08.259 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:33:08.261 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:33:08.268 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:33:08.277 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:33:08.282 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:33:08.976 +00:00 [DBG] Hosting starting
2018-01-12 10:33:09.313 +00:00 [DBG] Hosting started
2018-01-12 10:33:09.319 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:33:09.321 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:33:09.435 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" started.
2018-01-12 10:33:09.435 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" started.
2018-01-12 10:33:09.495 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" received FIN.
2018-01-12 10:33:09.495 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" received FIN.
2018-01-12 10:33:09.501 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" disconnecting.
2018-01-12 10:33:09.502 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" disconnecting.
2018-01-12 10:33:09.504 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" sending FIN.
2018-01-12 10:33:09.508 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" stopped.
2018-01-12 10:33:09.516 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" sending FIN.
2018-01-12 10:33:09.517 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" stopped.
2018-01-12 10:33:11.824 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" started.
2018-01-12 10:33:12.244 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:33:12.505 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:33:12.534 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:33:12.757 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:33:12.879 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:33:12.905 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:33:12.917 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:33:12.932 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:33:14.495 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:33:16.786 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2279.4889000000003ms.
2018-01-12 10:33:16.895 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:33:16.987 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 90.027ms.
2018-01-12 10:33:16.997 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:33:17.001 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:33:17.077 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:33:17.456 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:33:18.431 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 962.5091ms.
2018-01-12 10:33:18.451 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:33:18.454 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:33:18.479 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:33:18.484 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:33:18.563 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5680.4127ms
2018-01-12 10:33:18.638 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" completed keep alive response.
2018-01-12 10:33:18.644 +00:00 [INF] Request finished in 6410.1788ms 200 text/html; charset=utf-8
2018-01-12 10:33:24.777 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" received FIN.
2018-01-12 10:33:24.780 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" disconnecting.
2018-01-12 10:33:24.784 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" sending FIN.
2018-01-12 10:33:24.784 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" stopped.
2018-01-12 10:34:17.788 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" started.
2018-01-12 10:34:17.791 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:34:17.796 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:34:17.818 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:34:17.835 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:34:17.839 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:34:17.855 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:34:17.870 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:34:17.884 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:34:17.900 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:34:17.902 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:34:18.914 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:34:18.923 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:34:18.929 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:34:18.935 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1093.9016000000001ms
2018-01-12 10:34:18.961 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" completed keep alive response.
2018-01-12 10:34:18.968 +00:00 [INF] Request finished in 1177.2337ms 302 
2018-01-12 10:34:24.784 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" received FIN.
2018-01-12 10:34:24.786 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" disconnecting.
2018-01-12 10:34:24.787 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" sending FIN.
2018-01-12 10:34:24.787 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" stopped.
2018-01-12 10:37:19.185 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:37:19.258 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:37:19.284 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:37:19.320 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:37:19.361 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:37:19.364 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:37:19.367 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:37:19.369 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:37:19.376 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:37:19.388 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:37:19.391 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:37:19.879 +00:00 [DBG] Hosting starting
2018-01-12 10:37:20.140 +00:00 [DBG] Hosting started
2018-01-12 10:37:20.142 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:37:20.143 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:37:20.495 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" started.
2018-01-12 10:37:20.570 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" received FIN.
2018-01-12 10:37:20.586 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" disconnecting.
2018-01-12 10:37:20.590 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" sending FIN.
2018-01-12 10:37:20.601 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" stopped.
2018-01-12 10:37:22.148 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" started.
2018-01-12 10:37:22.631 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:37:22.864 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:37:22.916 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:37:23.241 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:37:23.361 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:37:23.407 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:37:23.429 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:37:23.447 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:37:25.934 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:37:30.295 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 4351.2583ms.
2018-01-12 10:37:30.474 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:37:30.804 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 235.33110000000002ms.
2018-01-12 10:37:30.825 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:37:30.833 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:37:30.941 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:37:31.455 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:37:33.023 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1565.6364ms.
2018-01-12 10:37:33.058 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:37:33.064 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:37:33.099 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:37:33.106 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:37:33.226 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 9841.529ms
2018-01-12 10:37:33.335 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" completed keep alive response.
2018-01-12 10:37:33.347 +00:00 [INF] Request finished in 10745.6993ms 200 text/html; charset=utf-8
2018-01-12 10:37:35.833 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" received FIN.
2018-01-12 10:37:35.836 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" disconnecting.
2018-01-12 10:37:35.838 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" sending FIN.
2018-01-12 10:37:35.838 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" stopped.
2018-01-12 10:37:36.832 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" started.
2018-01-12 10:37:36.837 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:37:36.863 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:37:36.874 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:37:36.882 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:37:36.889 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:37:36.918 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:37:36.948 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:37:36.964 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:37:36.984 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:37:36.987 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:37:42.111 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:37:42.124 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:37:42.131 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:37:42.136 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 5235.1429ms
2018-01-12 10:37:42.142 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" completed keep alive response.
2018-01-12 10:37:42.147 +00:00 [INF] Request finished in 5310.4638ms 302 
2018-01-12 10:37:45.834 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" received FIN.
2018-01-12 10:37:45.840 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" disconnecting.
2018-01-12 10:37:45.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" sending FIN.
2018-01-12 10:37:45.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" stopped.
2018-01-12 10:37:57.541 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" started.
2018-01-12 10:37:57.603 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2426
2018-01-12 10:37:57.671 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:37:57.698 +00:00 [DBG] Connection id "0HLAPL1QP8N1E", Request id "0HLAPL1QP8N1E:00000001": started reading request body.
2018-01-12 10:37:57.715 +00:00 [DBG] Connection id "0HLAPL1QP8N1E", Request id "0HLAPL1QP8N1E:00000001": done reading request body.
2018-01-12 10:37:57.735 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:37:57.743 +00:00 [VRB] MessageReceived: '?code=2c8ef67b876086f66fa4aff97370ed51a79fd5385dfe9d79375d45e0853be6fc&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM0NzcsImV4cCI6MTUxNTc1Mzc3NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MDI2MjA5NzU5NTMuT1RJMU5HWmlaakV0TVdSaE5TMDBPREF6TFRneVlUVXRabVZpTWpabVkyRmxObVkzTURjeU5qZGpaV1F0TlRVNE1pMDBaVGN5TFRsaU5UTXRObVZpWW1Jek1EVTBZVEl6IiwiaWF0IjoxNTE1NzUzNDc3LCJhdF9oYXNoIjoiMXJYMnNHYmNaRWRQeUlOdEJYV3BVUSIsImNfaGFzaCI6ImxJUzd5X01qdEdXa0FweTFWZlZTaHciLCJzaWQiOiIxNzkwZjBjNDgzN2JhNGIwMWEzMzY3MTI3Zjk2YmQxYiIsInN1YiI6IjEzMGIxMmVjLWI0ODAtNGNkMC05NTI1LTUxZTAxODhlY2M1ZSIsImF1dGhfdGltZSI6MTUxNTc1MzQ3NSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.fX-rZIaz8olu-R3wSjbWx1MQmBjkGRb1z9ymZaOVnaCpyY-t_HWK2eB9ezJx_dhc_54ICar9uCBU2_r7fwtSEoCSHmEUhz9G2p9NGrXTqhJibeDkZEQDGFtHFK6GXD-TOffF48e-hzKp055xNbNY_denfLS2551ppj_jZTGG0IqbNPHWxkdvtsTWhdR_ppPiqzvqhl3nYtb3CoerKXIYpxsMKZ-UdDB7TXIIXK_gsFWN5QxIWvWX4xU3fJ5kJ6GBQwaabo9b8O7l7QfkP8ZGdokWWy_L1ZSGsJfV9NqZkWfQh94dohiqI7EmPWRTjSi0PvJzeHdtswQRm2noKU0CfA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM0NzcsImV4cCI6MTUxNTc1NzA3NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjEzMGIxMmVjLWI0ODAtNGNkMC05NTI1LTUxZTAxODhlY2M1ZSIsImF1dGhfdGltZSI6MTUxNTc1MzQ3NSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.dfOGjPdU8QdHHqzVYfkCpGfvW8oYZuoQVu5K1cHJMkAP6Qr5UFCBHqIpUVPZ3rxbP9uvq4wyaIJ0HlXNu-HWFeRD4iIF7syuOxhShShVUSg_4RY0XBvHvLuQEbvMXLmeXX4nZuQSDMolYPlSxSqqpKaUg9J_NZ9RkL9Ui53_4_OjRY8ZIkILHK0M_q0eWKKyu8l0p_JvI1fWbQa28M1GAeUSUuJIf5SsUMbyICvxGH7M9FJ5IphFrFen-JCOYwbGzoqJ1KYJlh0FogDl_V_tCbxEdcCRKUcEDF77KUyn01uYNCE_6_Em5gtzHlid1sAEXU3HwH5XvyHf4Rx_EsJsWg&token_type=Bearer&expires_in=3600&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO242b6vx6b5BSb9Dk6WYn3R40HtfYagcne74cy8YAEsfFN4leIhjTmh2H7j9vEvMLcpMAOLyUREDg2OVqhQrsmizcMvfLAzyiIxVPs_cZq1U-w5cYznQRgjK-189eSt2A2RE9GLvqkDRhtgaoYRO2a9Uw3LkauuR3EIDs2ifv30z9odma6BCQkPxCJR9YL-8392jO7-fzMlzRwJHtalO8r-h6rohaCv3SJDrJrC4E1HySFo85qvgudj_LXXJ81fG3DMLf98x9jsPeqlGIWxr35BJzvaY4CJ9DwGQ-05tiumKCo_rKFXlcnaSHBZMUB_heI&session_state=fNVxPlafn2UydB7NEs3SgkFCMyB5tmyXIitkuy6umkw.cf603229992dd2a8fba1a67ddf6ea4ba'.
2018-01-12 10:37:57.757 +00:00 [DBG] Updating configuration
2018-01-12 10:37:57.763 +00:00 [DBG] Received 'id_token'
2018-01-12 10:37:57.870 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:37:57.883 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:37:57.898 +00:00 [VRB] Authorization code received.
2018-01-12 10:37:57.905 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:38:01.356 +00:00 [VRB] Token response received.
2018-01-12 10:38:01.367 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:38:02.908 +00:00 [VRB] User information received: {
  "sub": "130b12ec-b480-4cd0-9525-51e0188ecc5e",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:38:02.934 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:02.942 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:38:02.964 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" completed keep alive response.
2018-01-12 10:38:02.974 +00:00 [INF] Request finished in 5371.487ms 302 
2018-01-12 10:38:02.987 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:38:02.996 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:03.004 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:03.015 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:38:03.017 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:03.019 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:38:03.022 +00:00 [INF] Authorization was successful for user: 130b12ec-b480-4cd0-9525-51e0188ecc5e.
2018-01-12 10:38:03.031 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:03.037 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:03.038 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:38:03.356 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:38:03.725 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 366.2149ms.
2018-01-12 10:38:03.737 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:38:03.754 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:38:03.790 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:03.802 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:03.808 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:03.810 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:03.814 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:03.816 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:03.817 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:03.822 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 801.15870000000007ms
2018-01-12 10:38:03.837 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" completed keep alive response.
2018-01-12 10:38:03.859 +00:00 [INF] Request finished in 871.5302ms 200 text/html; charset=utf-8
2018-01-12 10:38:05.836 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" received FIN.
2018-01-12 10:38:05.839 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" disconnecting.
2018-01-12 10:38:05.840 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" sending FIN.
2018-01-12 10:38:05.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" stopped.
2018-01-12 10:38:09.481 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" started.
2018-01-12 10:38:09.484 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:38:09.489 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:09.491 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:09.494 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:38:09.496 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:09.503 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:38:09.504 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:09.522 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:11.325 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:11.344 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:38:11.482 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:38:11.825 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 340.19010000000003ms.
2018-01-12 10:38:11.833 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:38:11.835 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:38:11.909 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:11.911 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:11.913 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:11.915 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:11.917 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:11.918 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2414.0815000000002ms
2018-01-12 10:38:11.973 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" completed keep alive response.
2018-01-12 10:38:12.020 +00:00 [INF] Request finished in 2535.3777ms 200 text/html; charset=utf-8
2018-01-12 10:38:15.836 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" received FIN.
2018-01-12 10:38:15.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" disconnecting.
2018-01-12 10:38:15.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" sending FIN.
2018-01-12 10:38:15.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" stopped.
2018-01-12 10:38:19.572 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" started.
2018-01-12 10:38:19.582 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:38:19.589 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:19.592 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:19.599 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:38:19.601 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:19.603 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:38:19.605 +00:00 [INF] Authorization was successful for user: 130b12ec-b480-4cd0-9525-51e0188ecc5e.
2018-01-12 10:38:19.611 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:19.615 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:19.617 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 10:38:19.618 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:38:19.620 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:38:19.625 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:19.630 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:19.634 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:19.635 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:19.636 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:19.637 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:19.640 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:19.641 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 36.5689ms
2018-01-12 10:38:19.651 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" completed keep alive response.
2018-01-12 10:38:19.653 +00:00 [INF] Request finished in 69.7607ms 200 text/html; charset=utf-8
2018-01-12 10:38:21.351 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 10:38:21.358 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:21.361 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:21.366 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 10:38:21.367 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:21.376 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 10:38:21.379 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:23.558 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:23.572 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 10:38:23.574 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:38:23.583 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:38:23.590 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:23.591 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:23.594 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:23.595 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:23.597 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:23.600 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 2221.3754ms
2018-01-12 10:38:23.609 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" completed keep alive response.
2018-01-12 10:38:23.689 +00:00 [INF] Request finished in 2337.3632ms 200 text/html; charset=utf-8
2018-01-12 10:38:25.838 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" received FIN.
2018-01-12 10:38:25.840 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" disconnecting.
2018-01-12 10:38:25.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" sending FIN.
2018-01-12 10:38:25.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" stopped.
2018-01-12 10:38:30.853 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" started.
2018-01-12 10:38:30.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:38:30.870 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:30.872 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:30.882 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:38:30.884 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:30.890 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:38:30.891 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:30.922 +00:00 [INF] Authorization failed for user: 130b12ec-b480-4cd0-9525-51e0188ecc5e.
2018-01-12 10:38:30.925 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:38:30.932 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:38:30.946 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:38:30.949 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 58.1098ms
2018-01-12 10:38:30.952 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" completed keep alive response.
2018-01-12 10:38:30.954 +00:00 [INF] Request finished in 91.0718ms 302 
2018-01-12 10:38:30.960 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:38:30.966 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:30.969 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:30.972 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:38:30.974 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:30.978 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:38:30.981 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:38:30.982 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:38:30.982 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" completed keep alive response.
2018-01-12 10:38:30.984 +00:00 [INF] Request finished in 23.3058ms 404 
2018-01-12 10:38:35.839 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" received FIN.
2018-01-12 10:38:35.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" disconnecting.
2018-01-12 10:38:35.844 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" sending FIN.
2018-01-12 10:38:35.845 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" stopped.
2018-01-12 10:40:07.497 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:40:07.592 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:40:07.620 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:40:07.679 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:40:07.788 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:40:07.799 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:40:07.803 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:40:07.807 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:40:07.816 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:40:07.834 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:40:07.838 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:40:08.446 +00:00 [DBG] Hosting starting
2018-01-12 10:40:08.896 +00:00 [DBG] Hosting started
2018-01-12 10:40:08.897 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:40:08.899 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:40:09.243 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" started.
2018-01-12 10:40:09.300 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" received FIN.
2018-01-12 10:40:09.304 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" disconnecting.
2018-01-12 10:40:09.306 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" sending FIN.
2018-01-12 10:40:09.313 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" stopped.
2018-01-12 10:40:12.775 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" started.
2018-01-12 10:40:12.995 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:40:13.256 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:40:13.285 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:40:13.518 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:40:13.623 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:40:13.650 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:40:13.663 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:40:13.688 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:40:15.483 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:40:17.782 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2290.7897000000003ms.
2018-01-12 10:40:17.928 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:40:18.016 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 86.203ms.
2018-01-12 10:40:18.028 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:40:18.029 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:40:18.107 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:40:18.297 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:40:19.293 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 992.12520000000006ms.
2018-01-12 10:40:19.315 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:40:19.319 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:40:19.345 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:40:19.347 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:40:19.412 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5786.1611ms
2018-01-12 10:40:19.503 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" completed keep alive response.
2018-01-12 10:40:19.514 +00:00 [INF] Request finished in 6541.6125ms 200 text/html; charset=utf-8
2018-01-12 10:40:20.802 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:40:20.816 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:40:20.829 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:40:20.832 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:40:20.840 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:40:20.864 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:40:20.887 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:40:20.907 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:40:20.920 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:40:20.921 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:40:24.357 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:40:24.369 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:40:24.390 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:40:24.419 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3570.6244ms
2018-01-12 10:40:24.439 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" completed keep alive response.
2018-01-12 10:40:24.449 +00:00 [INF] Request finished in 3646.814ms 302 
2018-01-12 10:40:24.602 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" received FIN.
2018-01-12 10:40:24.606 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" disconnecting.
2018-01-12 10:40:24.607 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" sending FIN.
2018-01-12 10:40:24.607 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" stopped.
2018-01-12 10:43:44.344 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:43:44.428 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:43:44.449 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:43:44.492 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:43:44.528 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:43:44.530 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:43:44.532 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:43:44.535 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:43:44.541 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:43:44.550 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:43:44.552 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:43:44.968 +00:00 [DBG] Hosting starting
2018-01-12 10:43:45.211 +00:00 [DBG] Hosting started
2018-01-12 10:43:45.212 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:43:45.214 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:43:45.507 +00:00 [DBG] Connection id "0HLAPL5DH13D5" started.
2018-01-12 10:43:45.554 +00:00 [DBG] Connection id "0HLAPL5DH13D5" received FIN.
2018-01-12 10:43:45.557 +00:00 [DBG] Connection id "0HLAPL5DH13D5" disconnecting.
2018-01-12 10:43:45.559 +00:00 [DBG] Connection id "0HLAPL5DH13D5" sending FIN.
2018-01-12 10:43:45.563 +00:00 [DBG] Connection id "0HLAPL5DH13D5" stopped.
2018-01-12 10:43:47.174 +00:00 [DBG] Connection id "0HLAPL5DH13D6" started.
2018-01-12 10:43:47.404 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:43:47.582 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:43:47.641 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:43:47.892 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:43:48.036 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:43:48.064 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:43:48.075 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:43:48.088 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:43:49.771 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:43:51.929 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2151.3208ms.
2018-01-12 10:43:52.060 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:43:52.173 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 110.7437ms.
2018-01-12 10:43:52.185 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:43:52.187 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:43:52.270 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:43:52.448 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:43:53.598 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1145.9072ms.
2018-01-12 10:43:53.628 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:43:53.632 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:43:53.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:43:53.673 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:43:53.782 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5739.812ms
2018-01-12 10:43:53.850 +00:00 [DBG] Connection id "0HLAPL5DH13D6" completed keep alive response.
2018-01-12 10:43:53.861 +00:00 [INF] Request finished in 6465.2268ms 200 text/html; charset=utf-8
2018-01-12 10:43:59.004 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:43:59.009 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:43:59.011 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:43:59.012 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:43:59.015 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:43:59.029 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:43:59.040 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:43:59.050 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:43:59.071 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:43:59.075 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:44:02.170 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:44:02.181 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:44:02.185 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:44:02.198 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3180.3567000000003ms
2018-01-12 10:44:02.205 +00:00 [DBG] Connection id "0HLAPL5DH13D6" completed keep alive response.
2018-01-12 10:44:02.207 +00:00 [INF] Request finished in 3203.9044ms 302 
2018-01-12 10:44:10.763 +00:00 [DBG] Connection id "0HLAPL5DH13D6" received FIN.
2018-01-12 10:44:10.770 +00:00 [DBG] Connection id "0HLAPL5DH13D6" disconnecting.
2018-01-12 10:44:10.776 +00:00 [DBG] Connection id "0HLAPL5DH13D6" sending FIN.
2018-01-12 10:44:10.781 +00:00 [DBG] Connection id "0HLAPL5DH13D6" stopped.
2018-01-12 10:45:01.432 +00:00 [DBG] Connection id "0HLAPL5DH13D7" started.
2018-01-12 10:45:01.453 +00:00 [DBG] Connection id "0HLAPL5DH13D8" started.
2018-01-12 10:45:01.453 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:45:01.462 +00:00 [DBG] Connection id "0HLAPL5DH13D9" started.
2018-01-12 10:45:01.466 +00:00 [DBG] Connection id "0HLAPL5DH13DA" started.
2018-01-12 10:45:01.517 +00:00 [DBG] Connection id "0HLAPL5DH13DB" started.
2018-01-12 10:45:01.528 +00:00 [DBG] Connection id "0HLAPL5DH13DC" started.
2018-01-12 10:45:01.535 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:45:01.543 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:45:01.545 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:01.548 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:45:01.551 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:45:01.564 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:45:01.571 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:45:01.575 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:45:01.578 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:45:01.586 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:45:01.592 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:01.594 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:01.596 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:01.600 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:01.605 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 55.282500000000006ms
2018-01-12 10:45:01.637 +00:00 [DBG] Connection id "0HLAPL5DH13D7" completed keep alive response.
2018-01-12 10:45:01.666 +00:00 [INF] Request finished in 212.6335ms 200 text/html; charset=utf-8
2018-01-12 10:45:02.867 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:45:02.878 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:45:02.880 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:45:02.881 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:02.883 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:45:02.890 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:45:02.918 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:45:02.935 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:45:02.943 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:45:02.947 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:45:02.950 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:02.953 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:45:02.956 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:45:02.964 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 75.0488ms
2018-01-12 10:45:02.997 +00:00 [DBG] Connection id "0HLAPL5DH13D7" completed keep alive response.
2018-01-12 10:45:03.003 +00:00 [INF] Request finished in 136.2273ms 302 
2018-01-12 10:45:10.773 +00:00 [DBG] Connection id "0HLAPL5DH13D9" received FIN.
2018-01-12 10:45:10.773 +00:00 [DBG] Connection id "0HLAPL5DH13D8" received FIN.
2018-01-12 10:45:10.777 +00:00 [DBG] Connection id "0HLAPL5DH13D9" disconnecting.
2018-01-12 10:45:10.778 +00:00 [DBG] Connection id "0HLAPL5DH13DB" received FIN.
2018-01-12 10:45:10.780 +00:00 [DBG] Connection id "0HLAPL5DH13DB" disconnecting.
2018-01-12 10:45:10.781 +00:00 [DBG] Connection id "0HLAPL5DH13DC" received FIN.
2018-01-12 10:45:10.782 +00:00 [DBG] Connection id "0HLAPL5DH13DC" disconnecting.
2018-01-12 10:45:10.783 +00:00 [DBG] Connection id "0HLAPL5DH13D9" sending FIN.
2018-01-12 10:45:10.785 +00:00 [DBG] Connection id "0HLAPL5DH13DB" sending FIN.
2018-01-12 10:45:10.785 +00:00 [DBG] Connection id "0HLAPL5DH13D9" stopped.
2018-01-12 10:45:10.786 +00:00 [DBG] Connection id "0HLAPL5DH13DB" stopped.
2018-01-12 10:45:10.792 +00:00 [DBG] Connection id "0HLAPL5DH13DC" sending FIN.
2018-01-12 10:45:10.793 +00:00 [DBG] Connection id "0HLAPL5DH13DC" stopped.
2018-01-12 10:45:10.802 +00:00 [DBG] Connection id "0HLAPL5DH13D8" disconnecting.
2018-01-12 10:45:10.803 +00:00 [DBG] Connection id "0HLAPL5DH13DA" received FIN.
2018-01-12 10:45:10.812 +00:00 [DBG] Connection id "0HLAPL5DH13DA" disconnecting.
2018-01-12 10:45:10.813 +00:00 [DBG] Connection id "0HLAPL5DH13D7" received FIN.
2018-01-12 10:45:10.815 +00:00 [DBG] Connection id "0HLAPL5DH13D7" disconnecting.
2018-01-12 10:45:10.816 +00:00 [DBG] Connection id "0HLAPL5DH13D8" sending FIN.
2018-01-12 10:45:10.817 +00:00 [DBG] Connection id "0HLAPL5DH13D8" stopped.
2018-01-12 10:45:10.820 +00:00 [DBG] Connection id "0HLAPL5DH13DA" sending FIN.
2018-01-12 10:45:10.820 +00:00 [DBG] Connection id "0HLAPL5DH13DA" stopped.
2018-01-12 10:45:10.825 +00:00 [DBG] Connection id "0HLAPL5DH13D7" sending FIN.
2018-01-12 10:45:10.826 +00:00 [DBG] Connection id "0HLAPL5DH13D7" stopped.
2018-01-12 10:45:16.313 +00:00 [DBG] Connection id "0HLAPL5DH13DD" started.
2018-01-12 10:45:16.329 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 10:45:16.356 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:45:16.376 +00:00 [DBG] Connection id "0HLAPL5DH13DD", Request id "0HLAPL5DH13DD:00000001": started reading request body.
2018-01-12 10:45:16.392 +00:00 [DBG] Connection id "0HLAPL5DH13DD", Request id "0HLAPL5DH13DD:00000001": done reading request body.
2018-01-12 10:45:16.431 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:45:16.512 +00:00 [VRB] MessageReceived: '?code=3e8a64e7a4e4c9da92ceb31da8d5510ea2863436a51de8e8bb7cbcc4f26f6666&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM5MTYsImV4cCI6MTUxNTc1NDIxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MDcwMjk1MDA0NDIuTmpsaE9HVTBNRE10WWpWbU1DMDBaRFl5TFRrNE5HWXRaVFJsTm1SaVl6ZzFOakJrTldGa09UUTRZbVl0TVdNeVpDMDBPVEU1TFdJeU56SXROMlV5TkdJNU9UY3daR014IiwiaWF0IjoxNTE1NzUzOTE2LCJhdF9oYXNoIjoiWWRVYUJ4bEdoaUdycEFkaEg1STZiUSIsImNfaGFzaCI6IjN1MV9BNVV0LUNoSENqMVVka0FvbGciLCJzaWQiOiJlY2UzYTBiMDczMGU3ZjAyNzlmMGY2OGE4MGYwNWZmMiIsInN1YiI6IjcxZGJlZjY5LTMyYTEtNDk0My1hMGIwLWRhYzY0Yzg0MjgzZiIsImF1dGhfdGltZSI6MTUxNTc1MzkxNCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.hDJ_PTnAeWMeUZPgIoQy_PZlH5Rli4-sjmS5hoJwCCGg3XdRx6eTHz9XAjf4IzuyvkqBkLJYwOFtKtRZA_WbalYczdebZXgiAJ6y-9jYjCS9v9MtZqjs2zVFKba9AAn7yAAO3JIc4hqltbYBlqzEB2iywcnIWzuoUmYQuUfCoCRGybwk--ehlFnT7oYq_QxCdW6qBf5jYEh1lP-Elgbgu2huR9F6hAIzMyi_ExKrcB8qCdPpKBDA6sGbjGyTNniopDeuMJXFDzzgILnhepQqxeuXrRI9rO-r23b4YPhltsg3kZ0OMWgM-4feBLbUU1J3g-OBycVoLUk6yWSTmavjSQ&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM5MTYsImV4cCI6MTUxNTc1NzUxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjcxZGJlZjY5LTMyYTEtNDk0My1hMGIwLWRhYzY0Yzg0MjgzZiIsImF1dGhfdGltZSI6MTUxNTc1MzkxNCwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.HCwwiGTO5LN9hcpvt_PeZ03kK-PM1CH90MkzDNpjigey3qB1T94ZeFLxKSC3otIXlk8_gApMP_UvelwXqF1YuCZsYjSqHb4OR-2XU_HzwQEr2feNrVQso1pu4CPvDiO4l1RKTrWtUXdIEPMEiHd58qC8cl07rZ0T69e6pDbTcvhoqC0-OXL3CMb-kEHjkvO0AfLg5Hr6IFeFllDOHXkiYB9n0Ee0lVLFaxxelNnROpgnufWI-2hiIBt54rbj8jpVm22KjXy9a3WJPTc4JBsL9aavFzkvkB7Qbb2QCIdPvRAr_Rd3tl0NSvXDIvXz2JgVHtXmn_QIevUOaXSRQoo_6w&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2krJGho_wX3cnzOrs_8e2ZnODsyHEQHxjlwTz5HxXoASfo8Oqohm-CNfPz1-oCnAU0FVqXGBDe2XkOkMr_7aJIOzG-o0vciYeVcUZB89Jjh9CYEGr0PF-DhONrQUfz72Y6fIUIOD4s4H02mN2hFmW4WVTZQ64WC3s3Af0a6lp8HwlY4KiNR8R7f5lb576AwUP-1yKRR597dQLTgyj8W4lf5cFrSGojyo5f4jdabH-q76vS2hYfEFUf8zCsOxWYf-deUgF8J31Po_sjeW_yLhTH9MeAqbHwyh4-jnPzhrODxRxNwXsNDcHA_gdgTylZSpQ&session_state=SnTJF_DVmly-_vlNiY7Nwn6A1AR1FfDIoX2WH3JffAc.79daae24decf713640d8da68ab213cce'.
2018-01-12 10:45:16.557 +00:00 [DBG] Updating configuration
2018-01-12 10:45:16.559 +00:00 [DBG] Received 'id_token'
2018-01-12 10:45:16.647 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.650 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.652 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.654 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.669 +00:00 [VRB] Authorization code received.
2018-01-12 10:45:16.672 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:45:19.188 +00:00 [VRB] Token response received.
2018-01-12 10:45:19.196 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:45:20.323 +00:00 [VRB] User information received: {
  "sub": "71dbef69-32a1-4943-a0b0-dac64c84283f",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:45:20.361 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:20.368 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:45:20.375 +00:00 [DBG] Connection id "0HLAPL5DH13DD" completed keep alive response.
2018-01-12 10:45:20.377 +00:00 [INF] Request finished in 4047.4643ms 302 
2018-01-12 10:45:20.385 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:45:20.390 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:20.395 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:20.399 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:45:20.400 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:20.401 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:45:20.406 +00:00 [INF] Authorization was successful for user: 71dbef69-32a1-4943-a0b0-dac64c84283f.
2018-01-12 10:45:20.411 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:45:20.417 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:45:20.418 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:45:20.568 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:45:20.935 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 363.5393ms.
2018-01-12 10:45:20.945 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:45:20.947 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:45:20.969 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:20.990 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:20.996 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:45:20.998 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:20.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:21.002 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:21.007 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:21.012 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 606.4382ms
2018-01-12 10:45:21.079 +00:00 [DBG] Connection id "0HLAPL5DH13DD" completed keep alive response.
2018-01-12 10:45:21.094 +00:00 [INF] Request finished in 709.6171ms 200 text/html; charset=utf-8
2018-01-12 10:45:30.792 +00:00 [DBG] Connection id "0HLAPL5DH13DD" received FIN.
2018-01-12 10:45:30.803 +00:00 [DBG] Connection id "0HLAPL5DH13DD" disconnecting.
2018-01-12 10:45:30.806 +00:00 [DBG] Connection id "0HLAPL5DH13DD" sending FIN.
2018-01-12 10:45:30.807 +00:00 [DBG] Connection id "0HLAPL5DH13DD" stopped.
2018-01-12 10:45:38.138 +00:00 [DBG] Connection id "0HLAPL5DH13DE" started.
2018-01-12 10:45:38.143 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:45:38.146 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:38.148 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:38.152 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:45:38.153 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:38.158 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:45:38.159 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:38.174 +00:00 [INF] Authorization failed for user: 71dbef69-32a1-4943-a0b0-dac64c84283f.
2018-01-12 10:45:38.177 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:45:38.183 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:45:38.198 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:45:38.202 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 43.7125ms
2018-01-12 10:45:38.208 +00:00 [DBG] Connection id "0HLAPL5DH13DE" completed keep alive response.
2018-01-12 10:45:38.209 +00:00 [INF] Request finished in 66.3864ms 302 
2018-01-12 10:45:38.216 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:45:38.220 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:38.223 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:38.228 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:45:38.230 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:38.235 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:45:38.240 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:45:38.242 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:45:38.246 +00:00 [DBG] Connection id "0HLAPL5DH13DE" completed keep alive response.
2018-01-12 10:45:38.249 +00:00 [INF] Request finished in 33.3569ms 404 
2018-01-12 10:45:40.789 +00:00 [DBG] Connection id "0HLAPL5DH13DE" received FIN.
2018-01-12 10:45:40.791 +00:00 [DBG] Connection id "0HLAPL5DH13DE" disconnecting.
2018-01-12 10:45:40.792 +00:00 [DBG] Connection id "0HLAPL5DH13DE" sending FIN.
2018-01-12 10:45:40.792 +00:00 [DBG] Connection id "0HLAPL5DH13DE" stopped.
2018-01-12 10:57:51.543 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:57:51.655 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:57:51.682 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:57:51.717 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:57:51.770 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:57:51.784 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:57:51.788 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:57:51.791 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:57:51.803 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:57:51.820 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:57:51.838 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:57:53.150 +00:00 [DBG] Hosting starting
2018-01-12 10:57:53.421 +00:00 [DBG] Hosting started
2018-01-12 10:57:53.422 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:57:53.423 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:57:53.863 +00:00 [DBG] Connection id "0HLAPLDABIAT0" started.
2018-01-12 10:57:53.928 +00:00 [DBG] Connection id "0HLAPLDABIAT0" received FIN.
2018-01-12 10:57:53.930 +00:00 [DBG] Connection id "0HLAPLDABIAT0" disconnecting.
2018-01-12 10:57:53.933 +00:00 [DBG] Connection id "0HLAPLDABIAT0" sending FIN.
2018-01-12 10:57:53.938 +00:00 [DBG] Connection id "0HLAPLDABIAT0" stopped.
2018-01-12 10:57:56.249 +00:00 [DBG] Connection id "0HLAPLDABIAT1" started.
2018-01-12 10:57:56.689 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:57:56.882 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:57:56.920 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:57:57.225 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:57:57.278 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:57:57.304 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:57:57.322 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:57:57.333 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:57:59.322 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:58:01.879 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2526.9709000000003ms.
2018-01-12 10:58:02.050 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:58:02.188 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 119.56660000000001ms.
2018-01-12 10:58:02.204 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:58:02.206 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:58:02.265 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:58:02.467 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:58:03.655 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1184.2099ms.
2018-01-12 10:58:03.689 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:58:03.696 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:58:03.742 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:58:03.777 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:58:03.917 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6637.7205ms
2018-01-12 10:58:03.949 +00:00 [DBG] Connection id "0HLAPLDABIAT1" completed keep alive response.
2018-01-12 10:58:03.956 +00:00 [INF] Request finished in 7277.6429ms 200 text/html; charset=utf-8
2018-01-12 10:58:09.281 +00:00 [DBG] Connection id "0HLAPLDABIAT1" received FIN.
2018-01-12 10:58:09.283 +00:00 [DBG] Connection id "0HLAPLDABIAT1" disconnecting.
2018-01-12 10:58:09.284 +00:00 [DBG] Connection id "0HLAPLDABIAT1" sending FIN.
2018-01-12 10:58:09.284 +00:00 [DBG] Connection id "0HLAPLDABIAT1" stopped.
2018-01-12 10:58:55.606 +00:00 [DBG] Connection id "0HLAPLDABIAT2" started.
2018-01-12 10:58:55.610 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:58:55.615 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:58:55.624 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:58:55.625 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:58:55.633 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:58:55.649 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:58:55.668 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:58:55.682 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:58:55.699 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:58:55.701 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:58:57.511 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:58:57.532 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:58:57.549 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:58:57.574 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1939.833ms
2018-01-12 10:58:57.595 +00:00 [DBG] Connection id "0HLAPLDABIAT2" completed keep alive response.
2018-01-12 10:58:57.619 +00:00 [INF] Request finished in 2009.1489ms 302 
2018-01-12 10:58:59.322 +00:00 [DBG] Connection id "0HLAPLDABIAT2" received FIN.
2018-01-12 10:58:59.330 +00:00 [DBG] Connection id "0HLAPLDABIAT2" disconnecting.
2018-01-12 10:58:59.331 +00:00 [DBG] Connection id "0HLAPLDABIAT2" sending FIN.
2018-01-12 10:58:59.332 +00:00 [DBG] Connection id "0HLAPLDABIAT2" stopped.
2018-01-12 10:59:15.474 +00:00 [DBG] Connection id "0HLAPLDABIAT3" started.
2018-01-12 10:59:15.488 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 10:59:15.504 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:59:15.546 +00:00 [DBG] Connection id "0HLAPLDABIAT3", Request id "0HLAPLDABIAT3:00000001": started reading request body.
2018-01-12 10:59:15.570 +00:00 [DBG] Connection id "0HLAPLDABIAT3", Request id "0HLAPLDABIAT3:00000001": done reading request body.
2018-01-12 10:59:15.604 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:59:15.615 +00:00 [VRB] MessageReceived: '?code=3e8f300cd5712cc494ca734f9df2972b6debf2e5b2976d8e06a22d8dfd885a1c&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTQ3NTUsImV4cCI6MTUxNTc1NTA1NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MTUzNzUwMTc4MzMuTURrMU9ESXlOek10TTJNNE1pMDBZbVkwTFdGaU9ERXROVFUzWTJFME56TXdOVEV4WWpRelkyVTJZbVV0WXpNek55MDBPV1ExTFRobE5qTXROVFUwWW1Wa016ZzBOalZoIiwiaWF0IjoxNTE1NzU0NzU1LCJhdF9oYXNoIjoibzlJZ05BYTRUdWtoWFJhRmRJTmdhdyIsImNfaGFzaCI6Im5LaGpWSkQ2Zm15RUxvWWlYMUVycVEiLCJzaWQiOiIzYzUyMTFkMmRkNWNhYmVlOTFlYTRjMWFlMGRiMjc5NSIsInN1YiI6ImZiNDZhZTY3LTA1MzMtNDIwZi05ZDdlLWE4ZjA4Yjg4MDdiYiIsImF1dGhfdGltZSI6MTUxNTc1NDc1MiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.m-SspjqW-xMGwMfnJRGAHhMX4D5onan4EpI2GsE2QLVXcfgXzrATv3-HL4Ogk49aXow94cYPzu4JHZwRho4G01hBW1gzbQnFKlMwU0yypUzJ54G0xEdQsZ7IoZ-qQhIye_oGikehUCxMicb4_cSuvuvT6HaJwKzbCMyBiwNPNx4HvnIoEKN6dagRlgRhnR5H_UepwouCjF4ZqgGf4JoNvtedI4qs7jWv_x097qoIypN1qu_RdAi5hjYhD6g_ujMrGrn9vrLrR1YnOFDPd5CrOimsqyM1jvQwxRzH3FYF5KiyB6ziT-Uwkmrwoiwf-JRe3v51pvD-dIkYqpirZe3ovA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTQ3NTUsImV4cCI6MTUxNTc1ODM1NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6ImZiNDZhZTY3LTA1MzMtNDIwZi05ZDdlLWE4ZjA4Yjg4MDdiYiIsImF1dGhfdGltZSI6MTUxNTc1NDc1MiwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.CvulgZV7BdKV0b1gdYY8pqMTiOe15HSFUnwPUUReufq9QtgvzAfYvBh0uFKeiWWrtU58ppThu5MOSL3in7fCtoJesdP_x_ikpX-u8PNDLsMl0nsai4CqcdK-rh1ufDu7iWEW3T_ZXYUOqDVEJ1ZojjN1LTEY2C20iqslau_3UsNq9j9FlsORDIwGWsO6yEzfY1D89RNg_wdgbSblpaKbvb7-TrVN3dlUCO3K-8m48IsCRxFgePPogHnhPw9gtTLWnPQFUF5V_GyrFr3FhvYNkNATBqYgYUrUTWPmhqM_Ffs3kJBETrG0j5JVYz-pVAYuCF2XKK078OEo_ULQuTYMOA&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0D0iMnECjXww7-HFgrBA3frtNlRa-L1bnRdA_BfIwyUtvESuFRzT8XWayn_bJC80yRPEn5zun6sC6-2z8wnmRAqYwnHflJWp5-TLtb0JVwPCD8DVM7HfWXYbyJh-SyaDEYSYLVaA5WhweRsBul1A7ei6P-DWEjevQgLBr3_f_QzQmTQaQRx6h46eg6cOJJEO_pG7NKOSyo-Fw0r_4XlMYucHNNsZ1PlaD2n9OOE2utPe-Xdb_XRrHTPDi6Ab3MuP1-CMXTPHN9vhTYApqVW-MvwzU-nuv_hdDvtJMiHdbIfrKy-FmKlUROuKFksi7KUZI&session_state=1dk8vEiddpTpDc9wz65eeQ2OK3LLh7YZG1eL_MTesoM.fa02b68bce7dd8e0ad1f8cfa136f3026'.
2018-01-12 10:59:15.635 +00:00 [DBG] Updating configuration
2018-01-12 10:59:15.636 +00:00 [DBG] Received 'id_token'
2018-01-12 10:59:15.741 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:59:15.751 +00:00 [VRB] Authorization code received.
2018-01-12 10:59:15.755 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:59:19.214 +00:00 [VRB] Token response received.
2018-01-12 10:59:19.218 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:59:20.169 +00:00 [VRB] User information received: {
  "sub": "fb46ae67-0533-420f-9d7e-a8f08b8807bb",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:59:20.200 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:20.218 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:59:20.255 +00:00 [DBG] Connection id "0HLAPLDABIAT3" completed keep alive response.
2018-01-12 10:59:20.266 +00:00 [INF] Request finished in 4778.6573ms 302 
2018-01-12 10:59:20.283 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:59:20.314 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:20.321 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:20.327 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:59:20.328 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:20.329 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:59:20.331 +00:00 [INF] Authorization was successful for user: fb46ae67-0533-420f-9d7e-a8f08b8807bb.
2018-01-12 10:59:20.336 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:20.343 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:20.345 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:59:20.466 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:59:20.843 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 375.23330000000004ms.
2018-01-12 10:59:20.853 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:59:20.863 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:59:20.898 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:20.904 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:20.911 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:20.913 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:20.915 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:20.917 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:20.918 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:20.925 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 594.3139ms
2018-01-12 10:59:20.933 +00:00 [DBG] Connection id "0HLAPLDABIAT3" completed keep alive response.
2018-01-12 10:59:20.935 +00:00 [INF] Request finished in 652.4828ms 200 text/html; charset=utf-8
2018-01-12 10:59:29.323 +00:00 [DBG] Connection id "0HLAPLDABIAT3" received FIN.
2018-01-12 10:59:29.326 +00:00 [DBG] Connection id "0HLAPLDABIAT3" disconnecting.
2018-01-12 10:59:29.326 +00:00 [DBG] Connection id "0HLAPLDABIAT3" sending FIN.
2018-01-12 10:59:29.326 +00:00 [DBG] Connection id "0HLAPLDABIAT3" stopped.
2018-01-12 10:59:29.633 +00:00 [DBG] Connection id "0HLAPLDABIAT4" started.
2018-01-12 10:59:29.635 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:59:29.642 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:29.644 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:29.648 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:59:29.650 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:29.663 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:59:29.664 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:29.719 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:31.197 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:31.201 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:59:31.298 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:59:31.559 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 259.4071ms.
2018-01-12 10:59:31.564 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:59:31.565 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:59:31.664 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:31.669 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:31.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:31.672 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:31.674 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:31.677 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2013.1602ms
2018-01-12 10:59:31.797 +00:00 [DBG] Connection id "0HLAPLDABIAT4" completed keep alive response.
2018-01-12 10:59:31.829 +00:00 [INF] Request finished in 2194.2008ms 200 text/html; charset=utf-8
2018-01-12 10:59:39.325 +00:00 [DBG] Connection id "0HLAPLDABIAT4" received FIN.
2018-01-12 10:59:39.326 +00:00 [DBG] Connection id "0HLAPLDABIAT4" disconnecting.
2018-01-12 10:59:39.327 +00:00 [DBG] Connection id "0HLAPLDABIAT4" sending FIN.
2018-01-12 10:59:39.327 +00:00 [DBG] Connection id "0HLAPLDABIAT4" stopped.
2018-01-12 10:59:52.500 +00:00 [DBG] Connection id "0HLAPLDABIAT5" started.
2018-01-12 10:59:52.510 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:59:52.523 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:52.527 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:52.532 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:59:52.534 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:52.536 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:59:52.543 +00:00 [INF] Authorization was successful for user: fb46ae67-0533-420f-9d7e-a8f08b8807bb.
2018-01-12 10:59:52.547 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:52.551 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:52.552 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 10:59:52.553 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:59:52.555 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:59:52.563 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:52.566 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:52.571 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:52.576 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:52.579 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:52.580 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:52.582 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:52.586 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 42.9193ms
2018-01-12 10:59:52.597 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 10:59:52.611 +00:00 [INF] Request finished in 101.2651ms 200 text/html; charset=utf-8
2018-01-12 10:59:53.636 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 10:59:53.642 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:53.643 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:53.646 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 10:59:53.648 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:53.653 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 10:59:53.654 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:54.881 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:54.883 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 10:59:54.887 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:59:54.889 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:59:54.902 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:54.903 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:54.905 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:54.908 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:54.912 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:54.914 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 1259.9644ms
2018-01-12 10:59:55.002 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 10:59:55.012 +00:00 [INF] Request finished in 1375.3908ms 200 text/html; charset=utf-8
2018-01-12 10:59:59.324 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:59:59.331 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:59.338 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:59.346 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:59:59.348 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:59.351 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:59:59.352 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:59.361 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:59.363 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:59:59.365 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:59:59.367 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:59:59.372 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:59.374 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:59.377 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:59.387 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:59.401 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:59.404 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 52.2075ms
2018-01-12 10:59:59.464 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 10:59:59.468 +00:00 [INF] Request finished in 144.3085ms 200 text/html; charset=utf-8
2018-01-12 11:00:00.353 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 11:00:00.360 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:00:00.362 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:00:00.368 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 11:00:00.369 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:00:00.372 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 11:00:00.382 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 8.4232ms
2018-01-12 11:00:00.389 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: No authentication handler is configured to authenticate for the scheme: Cookies, Token
   at Microsoft.AspNetCore.Authentication.AuthenticationService.<AuthenticateAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.<AuthenticateAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.<OnAuthorizationAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-01-12 11:00:00.780 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 11:00:00.786 +00:00 [INF] Request finished in 432.7578ms 500 text/html; charset=utf-8
2018-01-12 11:00:09.326 +00:00 [DBG] Connection id "0HLAPLDABIAT5" received FIN.
2018-01-12 11:00:09.328 +00:00 [DBG] Connection id "0HLAPLDABIAT5" disconnecting.
2018-01-12 11:00:09.329 +00:00 [DBG] Connection id "0HLAPLDABIAT5" sending FIN.
2018-01-12 11:00:09.329 +00:00 [DBG] Connection id "0HLAPLDABIAT5" stopped.
2018-01-12 11:05:35.068 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 11:05:35.172 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 11:05:35.209 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 11:05:35.254 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 11:05:35.326 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:05:35.343 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 11:05:35.348 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:05:35.357 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 11:05:35.370 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 11:05:35.381 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 11:05:35.384 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 11:05:36.246 +00:00 [DBG] Hosting starting
2018-01-12 11:05:36.657 +00:00 [DBG] Hosting started
2018-01-12 11:05:36.658 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 11:05:36.663 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 11:05:36.910 +00:00 [DBG] Connection id "0HLAPLHKBH80C" started.
2018-01-12 11:05:37.068 +00:00 [DBG] Connection id "0HLAPLHKBH80C" received FIN.
2018-01-12 11:05:37.076 +00:00 [DBG] Connection id "0HLAPLHKBH80C" disconnecting.
2018-01-12 11:05:37.089 +00:00 [DBG] Connection id "0HLAPLHKBH80C" sending FIN.
2018-01-12 11:05:37.094 +00:00 [DBG] Connection id "0HLAPLHKBH80C" stopped.
2018-01-12 11:05:42.877 +00:00 [DBG] Connection id "0HLAPLHKBH80D" started.
2018-01-12 11:05:43.231 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 11:05:43.724 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:05:43.794 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 11:05:44.176 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:05:44.447 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 11:05:44.480 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:05:44.530 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:05:44.558 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 11:05:47.148 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 11:05:50.172 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3011.288ms.
2018-01-12 11:05:50.376 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 11:05:50.539 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 146.4779ms.
2018-01-12 11:05:50.556 +00:00 [DBG] The view 'Index' was found.
2018-01-12 11:05:50.559 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 11:05:50.743 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 11:05:50.995 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 11:05:52.506 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1508.5152ms.
2018-01-12 11:05:52.548 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:05:52.556 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:05:52.637 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:05:52.646 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:05:52.772 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8317.1125000000011ms
2018-01-12 11:05:52.916 +00:00 [DBG] Connection id "0HLAPLHKBH80D" completed keep alive response.
2018-01-12 11:05:52.949 +00:00 [INF] Request finished in 9754.8413ms 200 text/html; charset=utf-8
2018-01-12 11:06:02.486 +00:00 [DBG] Connection id "0HLAPLHKBH80D" received FIN.
2018-01-12 11:06:02.489 +00:00 [DBG] Connection id "0HLAPLHKBH80D" disconnecting.
2018-01-12 11:06:02.489 +00:00 [DBG] Connection id "0HLAPLHKBH80D" sending FIN.
2018-01-12 11:06:02.492 +00:00 [DBG] Connection id "0HLAPLHKBH80D" stopped.
2018-01-12 11:06:03.197 +00:00 [DBG] Connection id "0HLAPLHKBH80E" started.
2018-01-12 11:06:03.202 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:06:03.207 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:06:03.209 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:06:03.211 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:06:03.214 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:06:03.226 +00:00 [INF] Authorization failed for user: null.
2018-01-12 11:06:03.236 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:06:03.244 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 11:06:03.260 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 11:06:03.262 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 11:06:06.358 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:06:06.368 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:06:06.374 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 11:06:06.381 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3165.6415ms
2018-01-12 11:06:06.389 +00:00 [DBG] Connection id "0HLAPLHKBH80E" completed keep alive response.
2018-01-12 11:06:06.412 +00:00 [INF] Request finished in 3209.9568ms 302 
2018-01-12 11:06:12.487 +00:00 [DBG] Connection id "0HLAPLHKBH80E" received FIN.
2018-01-12 11:06:12.494 +00:00 [DBG] Connection id "0HLAPLHKBH80E" disconnecting.
2018-01-12 11:06:12.495 +00:00 [DBG] Connection id "0HLAPLHKBH80E" stopped.
2018-01-12 11:06:12.495 +00:00 [DBG] Connection id "0HLAPLHKBH80E" sending FIN.
2018-01-12 11:06:25.042 +00:00 [DBG] Connection id "0HLAPLHKBH80F" started.
2018-01-12 11:06:25.111 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 11:06:25.197 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 11:06:25.228 +00:00 [DBG] Connection id "0HLAPLHKBH80F", Request id "0HLAPLHKBH80F:00000001": started reading request body.
2018-01-12 11:06:25.241 +00:00 [DBG] Connection id "0HLAPLHKBH80F", Request id "0HLAPLHKBH80F:00000001": done reading request body.
2018-01-12 11:06:25.268 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:06:25.275 +00:00 [VRB] MessageReceived: '?code=f4f83226e0f61c9e0107a111552d780cc8bc010099ecdd60c96c876b3fd58e7b&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTUxODQsImV4cCI6MTUxNTc1NTQ4NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MTk2NjM0ODAwNDQuTVRBMk5qbGhPV010TnpNMk5pMDBOelEwTFdKalpUTXRNekU1WXpWbE1UYzROV1JsT0RZNE16azBNMlV0TVRGa05pMDBOVEJoTFdJeE5EZ3RNMlV5WW1NMVlURTNaV1V6IiwiaWF0IjoxNTE1NzU1MTg0LCJhdF9oYXNoIjoiamxtY2o1UFhqWC1WeVNrZUMta2ZLdyIsImNfaGFzaCI6IlRBWjRzU2tLNE9hRGxua3RYeUNrcGciLCJzaWQiOiI0YmE1NmU0OWE1ZjFhY2M5NGUxNDI2ODI4MTdiNzliMCIsInN1YiI6IjdhOTFkN2M2LWMxNzEtNGZhMS05ZWI1LWIwNGYyNzIyZjVlNCIsImF1dGhfdGltZSI6MTUxNTc1NTE4MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.poVa1EEKcxJxJdo_eQkUuSeaZn7XHRSr_lpMY966JBtkUl5LgHB8CeK4zRwAnKhYAQhPlR0p_tb5aGW3D-g9HOXPYms6lA4giMgGEr9sW_UuoZWFQQuLJsNwcYem3qCp9u69tLwoYrfSJuShwAcD4XTU5qG2drW2wVo491lt45584Di62tlIsbnGsPxER5_aYIE1j4fXXOLaB7HsSRcKocpgFW1gMk1p0jgNlzcBtGjMHHeqgPkP_k2GAlkstjmMSZFfuOHMie_4E-ln6JuNop3_xDul7dusYl4ct0JtOFEz0xM9xKarTUf3pt8X9lL6Gj0XC6zDQZzStAWNhZPNnA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTUxODQsImV4cCI6MTUxNTc1ODc4NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjdhOTFkN2M2LWMxNzEtNGZhMS05ZWI1LWIwNGYyNzIyZjVlNCIsImF1dGhfdGltZSI6MTUxNTc1NTE4MSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.B8ooJ839SwbKRDtj6Ze2sNKmlx0zWQPdXVfB382kxvcrNtKi-_fIeQejgnsCTJjpP8Yb6zyy_pbmTLChca-Qk6YlMUUSQQ5hCrgtrQXvW9XMDRKeAX35Y58V_2zK2_UbJcUbVbE8PZ5NCRz_cn1f6O8SuhegeZITzMSoDv1Ri3EC5BFGL3waNsl6XPakQbiuzlU26ef3NNjXSdy7Lc15xgsKHUd99vPmfNBZa3e7PF6ASWUmbTuMZGaucrm5vXjjrdSrjgNvoryePR8SepzHEkXog-i2OUYfghT_t9z_adJP5lmyVywWkri3Hrd-9FzmPXRGAPjtgajQtSXG-qy_RA&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1X453dfXN2wpXyNDTa6dlib08w8IR4cSXgy-3mkuIhcBYApqwDRGWQTSF3d2suO1GeMj0UjHEws5aFumqvYvfhc-HZrMzA3JlOBZihKGluFKCzaYDHV42ZRItqoxqNhaXrByjfRIm8czrc_IIJbF5hQ8EZfFPsTeQw7Xy0bo8fnvRPjX33iegzmiLTSUsDhfTP2eK5Ypk89CeuDY1qYSviEAdqWrEtzgKAxKnYN1retPbJXMlkXCMR4BLfN00iVLieFgPKFIRFXdMm_UcLk571YDqZ7Rxo8AldHODkzN-JotTaGdCZGBhe9CQw3ZeSvyU&session_state=MtmVUPuDcY-lWeJVJSPe2nrExWWjaeWHVjoyx8HQUfY.e48ee64c20cf2826ccd94df79549b533'.
2018-01-12 11:06:25.320 +00:00 [DBG] Updating configuration
2018-01-12 11:06:25.323 +00:00 [DBG] Received 'id_token'
2018-01-12 11:06:25.489 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:06:25.511 +00:00 [VRB] Authorization code received.
2018-01-12 11:06:25.515 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 11:06:28.937 +00:00 [VRB] Token response received.
2018-01-12 11:06:28.943 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 11:06:30.412 +00:00 [VRB] User information received: {
  "sub": "7a91d7c6-c171-4fa1-9eb5-b04f2722f5e4",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 11:06:30.426 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:06:30.432 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 11:06:30.445 +00:00 [DBG] Connection id "0HLAPLHKBH80F" completed keep alive response.
2018-01-12 11:06:30.449 +00:00 [INF] Request finished in 5338.013ms 302 
2018-01-12 11:06:30.522 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:06:30.546 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:06:30.560 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:30.575 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:06:30.579 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:06:30.593 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:06:30.605 +00:00 [INF] Authorization was successful for user: 7a91d7c6-c171-4fa1-9eb5-b04f2722f5e4.
2018-01-12 11:06:30.620 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:06:30.629 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:06:30.640 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 11:06:30.914 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 11:06:31.497 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 570.9946ms.
2018-01-12 11:06:31.505 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 11:06:31.507 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 11:06:31.543 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:31.556 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:31.611 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:06:31.615 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:31.618 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:31.620 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:31.621 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:31.637 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1032.7814ms
2018-01-12 11:06:31.724 +00:00 [DBG] Connection id "0HLAPLHKBH80F" completed keep alive response.
2018-01-12 11:06:31.795 +00:00 [INF] Request finished in 1272.6571ms 200 text/html; charset=utf-8
2018-01-12 11:06:32.490 +00:00 [DBG] Connection id "0HLAPLHKBH80F" received FIN.
2018-01-12 11:06:32.492 +00:00 [DBG] Connection id "0HLAPLHKBH80F" disconnecting.
2018-01-12 11:06:32.493 +00:00 [DBG] Connection id "0HLAPLHKBH80F" sending FIN.
2018-01-12 11:06:32.493 +00:00 [DBG] Connection id "0HLAPLHKBH80F" stopped.
2018-01-12 11:06:59.675 +00:00 [DBG] Connection id "0HLAPLHKBH80G" started.
2018-01-12 11:06:59.680 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 11:06:59.691 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:06:59.693 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:59.704 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 11:06:59.711 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:06:59.713 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 11:06:59.724 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:06:59.743 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:06:59.745 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 11:06:59.757 +00:00 [DBG] The view 'Index' was found.
2018-01-12 11:06:59.760 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 11:06:59.769 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:06:59.770 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:59.772 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:59.774 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:59.775 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:59.786 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 56.1387ms
2018-01-12 11:06:59.839 +00:00 [DBG] Connection id "0HLAPLHKBH80G" completed keep alive response.
2018-01-12 11:06:59.849 +00:00 [INF] Request finished in 168.774ms 200 text/html; charset=utf-8
2018-01-12 11:07:00.490 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 11:07:00.495 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:07:00.498 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:07:00.506 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 11:07:00.507 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:07:00.511 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 11:07:00.512 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:07:00.542 +00:00 [INF] Authorization failed for user: 7a91d7c6-c171-4fa1-9eb5-b04f2722f5e4.
2018-01-12 11:07:00.574 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:07:00.586 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 11:07:00.612 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 11:07:00.619 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 107.6203ms
2018-01-12 11:07:00.625 +00:00 [DBG] Connection id "0HLAPLHKBH80G" completed keep alive response.
2018-01-12 11:07:00.627 +00:00 [INF] Request finished in 136.9633ms 302 
2018-01-12 11:07:00.638 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 11:07:00.643 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:07:00.646 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:07:00.655 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 11:07:00.656 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:07:00.662 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:07:00.664 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:07:00.671 +00:00 [DBG] Request did not match any routes.
2018-01-12 11:07:00.676 +00:00 [DBG] Connection id "0HLAPLHKBH80G" completed keep alive response.
2018-01-12 11:07:00.678 +00:00 [INF] Request finished in 39.9994ms 404 
2018-01-12 11:07:02.494 +00:00 [DBG] Connection id "0HLAPLHKBH80G" received FIN.
2018-01-12 11:07:02.496 +00:00 [DBG] Connection id "0HLAPLHKBH80G" disconnecting.
2018-01-12 11:07:02.497 +00:00 [DBG] Connection id "0HLAPLHKBH80G" sending FIN.
2018-01-12 11:07:02.497 +00:00 [DBG] Connection id "0HLAPLHKBH80G" stopped.
2018-01-12 11:29:48.887 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 11:29:48.989 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 11:29:49.041 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 11:29:49.097 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 11:29:49.175 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:29:49.201 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 11:29:49.207 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:29:49.210 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 11:29:49.217 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 11:29:49.226 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 11:29:49.240 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 11:29:50.093 +00:00 [DBG] Hosting starting
2018-01-12 11:29:50.551 +00:00 [DBG] Hosting started
2018-01-12 11:29:50.552 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 11:29:50.558 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 11:29:50.730 +00:00 [DBG] Connection id "0HLAPLV5K77UL" started.
2018-01-12 11:29:50.730 +00:00 [DBG] Connection id "0HLAPLV5K77UK" started.
2018-01-12 11:29:50.831 +00:00 [DBG] Connection id "0HLAPLV5K77UL" received FIN.
2018-01-12 11:29:50.831 +00:00 [DBG] Connection id "0HLAPLV5K77UK" received FIN.
2018-01-12 11:29:50.833 +00:00 [DBG] Connection id "0HLAPLV5K77UL" disconnecting.
2018-01-12 11:29:50.835 +00:00 [DBG] Connection id "0HLAPLV5K77UL" sending FIN.
2018-01-12 11:29:50.844 +00:00 [DBG] Connection id "0HLAPLV5K77UL" stopped.
2018-01-12 11:29:50.857 +00:00 [DBG] Connection id "0HLAPLV5K77UK" disconnecting.
2018-01-12 11:29:50.858 +00:00 [DBG] Connection id "0HLAPLV5K77UK" sending FIN.
2018-01-12 11:29:50.880 +00:00 [DBG] Connection id "0HLAPLV5K77UK" stopped.
2018-01-12 11:29:55.458 +00:00 [DBG] Connection id "0HLAPLV5K77UM" started.
2018-01-12 11:29:55.873 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 11:29:56.370 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:29:56.523 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 11:29:56.891 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:29:57.136 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 11:29:57.172 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:29:57.198 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:29:57.222 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 11:29:59.923 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 11:30:04.992 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 5026.9412ms.
2018-01-12 11:30:05.205 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 11:30:05.891 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 683.6426ms.
2018-01-12 11:30:05.909 +00:00 [DBG] The view 'Index' was found.
2018-01-12 11:30:05.923 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 11:30:06.248 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 11:30:06.563 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 11:30:08.189 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1618.4195ms.
2018-01-12 11:30:08.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:30:08.270 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:30:08.326 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:30:08.329 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:30:08.412 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 11264.6818ms
2018-01-12 11:30:08.483 +00:00 [DBG] Connection id "0HLAPLV5K77UM" completed keep alive response.
2018-01-12 11:30:08.516 +00:00 [INF] Request finished in 12664.0874ms 200 text/html; charset=utf-8
2018-01-12 11:30:16.246 +00:00 [DBG] Connection id "0HLAPLV5K77UM" received FIN.
2018-01-12 11:30:16.249 +00:00 [DBG] Connection id "0HLAPLV5K77UM" disconnecting.
2018-01-12 11:30:16.250 +00:00 [DBG] Connection id "0HLAPLV5K77UM" sending FIN.
2018-01-12 11:30:16.250 +00:00 [DBG] Connection id "0HLAPLV5K77UM" stopped.
2018-01-12 11:30:53.954 +00:00 [DBG] Connection id "0HLAPLV5K77UN" started.
2018-01-12 11:30:53.961 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:30:53.969 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:30:53.972 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:30:53.976 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:30:53.984 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:30:53.997 +00:00 [INF] Authorization failed for user: null.
2018-01-12 11:30:54.007 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:30:54.028 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 11:30:54.070 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 11:30:54.092 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 11:30:57.826 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:30:57.840 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:30:57.851 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 11:30:57.867 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3882.3512ms
2018-01-12 11:30:57.887 +00:00 [DBG] Connection id "0HLAPLV5K77UN" completed keep alive response.
2018-01-12 11:30:57.935 +00:00 [INF] Request finished in 3974.0221ms 302 
2018-01-12 11:31:06.251 +00:00 [DBG] Connection id "0HLAPLV5K77UN" received FIN.
2018-01-12 11:31:06.254 +00:00 [DBG] Connection id "0HLAPLV5K77UN" disconnecting.
2018-01-12 11:31:06.255 +00:00 [DBG] Connection id "0HLAPLV5K77UN" sending FIN.
2018-01-12 11:31:06.255 +00:00 [DBG] Connection id "0HLAPLV5K77UN" stopped.
2018-01-12 11:31:14.408 +00:00 [DBG] Connection id "0HLAPLV5K77UO" started.
2018-01-12 11:31:14.442 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 11:31:14.608 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 11:31:14.631 +00:00 [DBG] Connection id "0HLAPLV5K77UO", Request id "0HLAPLV5K77UO:00000001": started reading request body.
2018-01-12 11:31:14.642 +00:00 [DBG] Connection id "0HLAPLV5K77UO", Request id "0HLAPLV5K77UO:00000001": done reading request body.
2018-01-12 11:31:14.670 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:31:14.686 +00:00 [VRB] MessageReceived: '?code=69b91ce84cca360c8891795995b99e234989ed6111dc4a60d947b943dac8c28e&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTY2NzMsImV4cCI6MTUxNTc1Njk3MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MzQ1NzgxNjYzNTMuT1RWaFpHTTNZemt0T0RCbE1DMDBZalUwTFRnNE5UTXRNRFF5WWpBell6azRZVFpoTkdRMlpUazJNRGt0TXpGak9DMDBZakJqTFRrd05tRXRabVF5TnprM056WTJNek0wIiwiaWF0IjoxNTE1NzU2NjczLCJhdF9oYXNoIjoiMFRGQ2dPZUI3RnhNRk1TVDVRVmhodyIsImNfaGFzaCI6Ilk1OEk1RElLMXBORGd0YUV0TXFVbHciLCJzaWQiOiI5MDc3Yzc0MDk3MjM3ZmRmNWI5NjQ2ZGFmNTliYzUwZCIsInN1YiI6IjhlZTYyYTY0LTdiZTUtNDIzMC1iZTVhLTI5NzM4NTQ5ZTM2NyIsImF1dGhfdGltZSI6MTUxNTc1NjY3MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.X0hklPbFOKYF-EypNCldf0v1PRQIRmGHxpUv-U2_ycRcKLb_tMGGCSlkfb24Tplmcf-OTUMFtJ6GT1xj75lEcxj7Tw6K-lEvTrn6WZDeEo8li9FBqGlD5S39mTkO6lN5l7aaBvBfiHmZr1QuiJopf_3Nku6vnegly4lFWUSxAV4LtQhxFINbmceE_9if64iDeMGfY9bJo4EvOU8qH_jmEu5hwc3TXyZp7-s2s9cKzsNCO6BZlTSJbwiwzIHwpiDzabeHr7A_OMIHTCH-4dIDMXQ9mHi-o4KgrH61IILxum17PEndOIwsQ5r4ttNKF5JVubhNhRVBkmReEBfPhH4a7A&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTY2NzMsImV4cCI6MTUxNTc2MDI3MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjhlZTYyYTY0LTdiZTUtNDIzMC1iZTVhLTI5NzM4NTQ5ZTM2NyIsImF1dGhfdGltZSI6MTUxNTc1NjY3MSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.R5kk4p1E0jO9QhhBQ2MNr1nsM5uXJpXZ9pqbCaiC02c7A0nhHORXWhuvPVcYbcRoKjBIjQwZEXhQDwofkqC8IXvFWKiFCZyNUrHlRDmyJJ3AmsSkjfhhDVgCvgSwM224i6RYLFB28Z2pRXYKtrem9LJ2jzLH5PlcplgDSEeSjzHpDURH2RXYZIq6u_0JBwAgLGB7UUmCvgQCg48-qeujx31vv3f65wYDHCg294DZw_7v79SBquW1NlDvvYJn-GbeGYGO90lOInz8Kgd8OtXjdLczP9I-5Q5MpaWesvB1j1sMnrzQ79bPaPTVlj8Msl1eS6bwcGf8neUG4AKc3yYsKw&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0I6T0xTmAvn_4EQKwcQfEd8VxcfajkaJZvDA_INkHhIJZ0eT5HS4ylCey5IN45C8wrsgJibwXslGBXJ6eAfITZSGNOz2ODRMGiV-sbF6oZcKbHlwr2GUp4TXFBDrAGOKHGgq_ADTaPWDhA7-9tUvv1gu4KkUlhhkQiKGVwZqKI6kL2fb1QG26ypq_0wAQqexl-6ApuHrQEU7kwfYmfoYEyHKs4ExtYt9Q-iSSafNNvjFjSCbXx3fYPDRpNI6ypC8zUpFBlHUGaGro8Yw6iT6WbfCA0EU734ehtZAEZ7jOKaQa38JMfBpzAd1cGT5ch2lw&session_state=f9CnkAQ1aXFLeIsgbOPZXVn4nAaNVlj8vqEbjM29SOs.0440c159dbfed35aa61273e40397f8a3'.
2018-01-12 11:31:14.700 +00:00 [DBG] Updating configuration
2018-01-12 11:31:14.701 +00:00 [DBG] Received 'id_token'
2018-01-12 11:31:14.899 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:31:14.913 +00:00 [VRB] Authorization code received.
2018-01-12 11:31:14.920 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 11:31:18.607 +00:00 [VRB] Token response received.
2018-01-12 11:31:18.619 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 11:31:19.776 +00:00 [VRB] User information received: {
  "sub": "8ee62a64-7be5-4230-be5a-29738549e367",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 11:31:19.787 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:19.795 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 11:31:19.808 +00:00 [DBG] Connection id "0HLAPLV5K77UO" completed keep alive response.
2018-01-12 11:31:19.809 +00:00 [INF] Request finished in 5367.4924ms 302 
2018-01-12 11:31:19.819 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:31:19.824 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:19.827 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:19.833 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:31:19.834 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:19.835 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:31:19.838 +00:00 [INF] Authorization was successful for user: 8ee62a64-7be5-4230-be5a-29738549e367.
2018-01-12 11:31:19.844 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:31:19.849 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:31:19.851 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 11:31:20.012 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 11:31:20.687 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 669.57540000000006ms.
2018-01-12 11:31:20.694 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 11:31:20.696 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 11:31:20.750 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:20.758 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:20.773 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:31:20.780 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:20.785 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:20.787 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:20.790 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:20.799 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 962.7381ms
2018-01-12 11:31:20.856 +00:00 [DBG] Connection id "0HLAPLV5K77UO" completed keep alive response.
2018-01-12 11:31:20.859 +00:00 [INF] Request finished in 1039.7587ms 200 text/html; charset=utf-8
2018-01-12 11:31:26.253 +00:00 [DBG] Connection id "0HLAPLV5K77UO" received FIN.
2018-01-12 11:31:26.255 +00:00 [DBG] Connection id "0HLAPLV5K77UO" disconnecting.
2018-01-12 11:31:26.256 +00:00 [DBG] Connection id "0HLAPLV5K77UO" sending FIN.
2018-01-12 11:31:26.256 +00:00 [DBG] Connection id "0HLAPLV5K77UO" stopped.
2018-01-12 11:31:40.718 +00:00 [DBG] Connection id "0HLAPLV5K77UP" started.
2018-01-12 11:31:40.724 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 11:31:40.734 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:40.737 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:40.745 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 11:31:40.747 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:40.758 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 11:31:40.761 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:31:40.831 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:42.919 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:31:42.922 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 11:31:43.103 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 11:31:43.457 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 343.1822ms.
2018-01-12 11:31:43.464 +00:00 [DBG] The view 'json' was found.
2018-01-12 11:31:43.465 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 11:31:43.530 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:31:43.533 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:43.534 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:43.537 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:43.538 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:43.541 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2780.0485000000003ms
2018-01-12 11:31:43.629 +00:00 [DBG] Connection id "0HLAPLV5K77UP" completed keep alive response.
2018-01-12 11:31:43.633 +00:00 [INF] Request finished in 2908.4956ms 200 text/html; charset=utf-8
2018-01-12 11:31:46.255 +00:00 [DBG] Connection id "0HLAPLV5K77UP" received FIN.
2018-01-12 11:31:46.258 +00:00 [DBG] Connection id "0HLAPLV5K77UP" disconnecting.
2018-01-12 11:31:46.260 +00:00 [DBG] Connection id "0HLAPLV5K77UP" sending FIN.
2018-01-12 11:31:46.261 +00:00 [DBG] Connection id "0HLAPLV5K77UP" stopped.
2018-01-12 11:31:53.490 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" started.
2018-01-12 11:31:53.515 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 11:31:53.525 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:53.529 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:53.538 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 11:31:53.539 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:53.542 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 11:31:53.545 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:53.581 +00:00 [INF] Authorization failed for user: 8ee62a64-7be5-4230-be5a-29738549e367.
2018-01-12 11:31:53.590 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:31:53.605 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 11:31:53.625 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 11:31:53.631 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 86.94ms
2018-01-12 11:31:53.636 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" completed keep alive response.
2018-01-12 11:31:53.638 +00:00 [INF] Request finished in 123.2239ms 302 
2018-01-12 11:31:53.647 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 11:31:53.652 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:53.656 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:53.660 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 11:31:53.662 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:53.669 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:31:53.671 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:31:53.673 +00:00 [DBG] Request did not match any routes.
2018-01-12 11:31:53.674 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" completed keep alive response.
2018-01-12 11:31:53.680 +00:00 [INF] Request finished in 28.1257ms 404 
2018-01-12 11:31:56.257 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" received FIN.
2018-01-12 11:31:56.260 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" disconnecting.
2018-01-12 11:31:56.261 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" sending FIN.
2018-01-12 11:31:56.261 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" stopped.
