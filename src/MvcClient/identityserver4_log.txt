2018-01-11 12:29:50.630 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-11 12:29:50.692 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-11 12:29:50.708 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-11 12:29:50.733 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-11 12:29:50.755 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 12:29:50.757 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-11 12:29:50.758 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 12:29:50.760 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-11 12:29:50.765 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-11 12:29:50.773 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-11 12:29:50.775 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-11 12:29:51.002 +00:00 [DBG] Hosting starting
2018-01-11 12:29:51.166 +00:00 [DBG] Hosting started
2018-01-11 12:29:51.166 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-11 12:29:51.167 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-11 12:29:51.725 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" started.
2018-01-11 12:29:51.725 +00:00 [DBG] Connection id "0HLAOTS1JE26P" started.
2018-01-11 12:29:51.766 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" received FIN.
2018-01-11 12:29:51.766 +00:00 [DBG] Connection id "0HLAOTS1JE26P" received FIN.
2018-01-11 12:29:51.768 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" disconnecting.
2018-01-11 12:29:51.771 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" sending FIN.
2018-01-11 12:29:51.772 +00:00 [DBG] Connection id "0HLAOTS1JE26P" disconnecting.
2018-01-11 12:29:51.774 +00:00 [DBG] Connection id "0HLAOTS1JE26Q" stopped.
2018-01-11 12:29:51.780 +00:00 [DBG] Connection id "0HLAOTS1JE26P" sending FIN.
2018-01-11 12:29:51.785 +00:00 [DBG] Connection id "0HLAOTS1JE26P" stopped.
2018-01-11 12:29:54.106 +00:00 [DBG] Connection id "0HLAOTS1JE26R" started.
2018-01-11 12:29:54.224 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 12:29:54.364 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:29:54.377 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 12:29:54.507 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:29:54.558 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 12:29:54.576 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 12:29:54.585 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 12:29:54.593 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-11 12:29:55.678 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-11 12:29:57.397 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1709.1077ms.
2018-01-11 12:29:57.519 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-11 12:29:57.657 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 131.3568ms.
2018-01-11 12:29:57.664 +00:00 [DBG] The view 'Index' was found.
2018-01-11 12:29:57.666 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 12:29:57.716 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-11 12:29:57.878 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-11 12:29:58.617 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 736.3939ms.
2018-01-11 12:29:58.642 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:29:58.649 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:29:58.706 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:29:58.709 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:29:58.768 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4208.206ms
2018-01-11 12:29:58.830 +00:00 [DBG] Connection id "0HLAOTS1JE26R" completed keep alive response.
2018-01-11 12:29:58.839 +00:00 [INF] Request finished in 4620.7764ms 200 text/html; charset=utf-8
2018-01-11 12:30:07.155 +00:00 [DBG] Connection id "0HLAOTS1JE26R" received FIN.
2018-01-11 12:30:07.162 +00:00 [DBG] Connection id "0HLAOTS1JE26R" disconnecting.
2018-01-11 12:30:07.164 +00:00 [DBG] Connection id "0HLAOTS1JE26R" sending FIN.
2018-01-11 12:30:07.164 +00:00 [DBG] Connection id "0HLAOTS1JE26R" stopped.
2018-01-11 12:30:11.359 +00:00 [DBG] Connection id "0HLAOTS1JE26S" started.
2018-01-11 12:30:11.364 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-11 12:30:11.368 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:11.369 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-11 12:30:11.372 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:30:11.375 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-11 12:30:11.380 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:11.398 +00:00 [INF] Authorization failed for user: null.
2018-01-11 12:30:11.406 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 12:30:11.415 +00:00 [INF] Executing ChallengeResult with authentication schemes (["Cookies"]).
2018-01-11 12:30:11.429 +00:00 [INF] AuthenticationScheme: Cookies was challenged.
2018-01-11 12:30:11.433 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 56.4148ms
2018-01-11 12:30:11.437 +00:00 [DBG] Connection id "0HLAOTS1JE26S" completed keep alive response.
2018-01-11 12:30:11.438 +00:00 [INF] Request finished in 74.6819ms 302 
2018-01-11 12:30:11.445 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/Login?ReturnUrl=%2FHome%2FAdministrator  
2018-01-11 12:30:11.450 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:11.451 +00:00 [DBG] The request path /Account/Login does not match a supported file type
2018-01-11 12:30:11.452 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:30:11.456 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-11 12:30:11.458 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-11 12:30:11.459 +00:00 [DBG] Request did not match any routes.
2018-01-11 12:30:11.459 +00:00 [DBG] Connection id "0HLAOTS1JE26S" completed keep alive response.
2018-01-11 12:30:11.465 +00:00 [INF] Request finished in 19.9275ms 404 
2018-01-11 12:30:17.155 +00:00 [DBG] Connection id "0HLAOTS1JE26S" received FIN.
2018-01-11 12:30:17.157 +00:00 [DBG] Connection id "0HLAOTS1JE26S" disconnecting.
2018-01-11 12:30:17.158 +00:00 [DBG] Connection id "0HLAOTS1JE26S" sending FIN.
2018-01-11 12:30:17.159 +00:00 [DBG] Connection id "0HLAOTS1JE26S" stopped.
2018-01-11 12:30:29.548 +00:00 [DBG] Connection id "0HLAOTS1JE26T" started.
2018-01-11 12:30:29.553 +00:00 [DBG] Connection id "0HLAOTS1JE26U" started.
2018-01-11 12:30:29.556 +00:00 [DBG] Connection id "0HLAOTS1JE26V" started.
2018-01-11 12:30:29.557 +00:00 [DBG] Connection id "0HLAOTS1JE270" started.
2018-01-11 12:30:29.605 +00:00 [DBG] Connection id "0HLAOTS1JE271" started.
2018-01-11 12:30:29.609 +00:00 [DBG] Connection id "0HLAOTS1JE272" started.
2018-01-11 12:30:31.129 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 12:30:31.134 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 12:30:31.135 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 12:30:31.136 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:30:31.139 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 12:30:31.140 +00:00 [INF] Authorization failed for user: null.
2018-01-11 12:30:31.146 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 12:30:31.150 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-11 12:30:31.156 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-11 12:30:31.157 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-11 12:30:33.573 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 12:30:33.591 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 12:30:33.599 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-11 12:30:33.607 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2467.7802ms
2018-01-11 12:30:33.620 +00:00 [DBG] Connection id "0HLAOTS1JE26T" completed keep alive response.
2018-01-11 12:30:33.650 +00:00 [INF] Request finished in 2520.9765ms 302 
2018-01-11 12:30:37.158 +00:00 [DBG] Connection id "0HLAOTS1JE26V" received FIN.
2018-01-11 12:30:37.158 +00:00 [DBG] Connection id "0HLAOTS1JE26U" received FIN.
2018-01-11 12:30:37.183 +00:00 [DBG] Connection id "0HLAOTS1JE26V" disconnecting.
2018-01-11 12:30:37.184 +00:00 [DBG] Connection id "0HLAOTS1JE271" received FIN.
2018-01-11 12:30:37.205 +00:00 [DBG] Connection id "0HLAOTS1JE271" disconnecting.
2018-01-11 12:30:37.207 +00:00 [DBG] Connection id "0HLAOTS1JE272" received FIN.
2018-01-11 12:30:37.209 +00:00 [DBG] Connection id "0HLAOTS1JE272" disconnecting.
2018-01-11 12:30:37.210 +00:00 [DBG] Connection id "0HLAOTS1JE26V" sending FIN.
2018-01-11 12:30:37.212 +00:00 [DBG] Connection id "0HLAOTS1JE271" sending FIN.
2018-01-11 12:30:37.213 +00:00 [DBG] Connection id "0HLAOTS1JE272" sending FIN.
2018-01-11 12:30:37.216 +00:00 [DBG] Connection id "0HLAOTS1JE272" stopped.
2018-01-11 12:30:37.218 +00:00 [DBG] Connection id "0HLAOTS1JE26V" stopped.
2018-01-11 12:30:37.218 +00:00 [DBG] Connection id "0HLAOTS1JE271" stopped.
2018-01-11 12:30:37.231 +00:00 [DBG] Connection id "0HLAOTS1JE26U" disconnecting.
2018-01-11 12:30:37.232 +00:00 [DBG] Connection id "0HLAOTS1JE270" received FIN.
2018-01-11 12:30:37.236 +00:00 [DBG] Connection id "0HLAOTS1JE270" disconnecting.
2018-01-11 12:30:37.241 +00:00 [DBG] Connection id "0HLAOTS1JE26T" received FIN.
2018-01-11 12:30:37.254 +00:00 [DBG] Connection id "0HLAOTS1JE26T" disconnecting.
2018-01-11 12:30:37.263 +00:00 [DBG] Connection id "0HLAOTS1JE26U" sending FIN.
2018-01-11 12:30:37.263 +00:00 [DBG] Connection id "0HLAOTS1JE26U" stopped.
2018-01-11 12:30:37.265 +00:00 [DBG] Connection id "0HLAOTS1JE270" sending FIN.
2018-01-11 12:30:37.271 +00:00 [DBG] Connection id "0HLAOTS1JE270" stopped.
2018-01-11 12:30:37.273 +00:00 [DBG] Connection id "0HLAOTS1JE26T" sending FIN.
2018-01-11 12:30:37.277 +00:00 [DBG] Connection id "0HLAOTS1JE26T" stopped.
2018-01-11 12:31:20.682 +00:00 [DBG] Connection id "0HLAOTS1JE273" started.
2018-01-11 12:31:20.704 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-11 12:31:20.730 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-11 12:31:20.759 +00:00 [DBG] Connection id "0HLAOTS1JE273", Request id "0HLAOTS1JE273:00000001": started reading request body.
2018-01-11 12:31:20.766 +00:00 [DBG] Connection id "0HLAOTS1JE273", Request id "0HLAOTS1JE273:00000001": done reading request body.
2018-01-11 12:31:20.785 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 12:31:20.798 +00:00 [VRB] MessageReceived: '?code=41ab1db46ed6b3388fc65d8f32dba55671fb29c5fd63631e2d24562180eaef53&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU2NzM4ODAsImV4cCI6MTUxNTY3NDE4MCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTI3MDYzMzU2NjM0NTMuT1RBNE1EQXdZak10TkdGa1ppMDBNVFpqTFRrellqTXROalUyWm1RNE1qRmlObU5oWTJNMlptTTVPVEV0TVdGbFpDMDBOV0kzTFdFNE1HWXRaV1kxTW1Ga1lqQmlOVFZtIiwiaWF0IjoxNTE1NjczODgwLCJjX2hhc2giOiJTTHVDdWRmSWM2X1laOUVJbXQ1RUhBIiwic2lkIjoiOGRlMTE0YzIxNjAwMzg1MjA2YmMwOGI4NGU2MTI0YzciLCJzdWIiOiJmYzE0Yzc0YS1jZGM4LTQ2NDAtYmU1ZC0yYjQyNWVlNjUwMzMiLCJhdXRoX3RpbWUiOjE1MTU2NzM4NzMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.pLqPSce7coNB5ghOWwC4rmYwjc2kzezHwpsEflfJVcWJWAoHAOJdvvhA9HsQ9n5a3mT6YdjgTEMnRnMTJ3vLAIgcdE_vPiWnpkIHyH-PhMBpNuNzSsn8Onn28F-UyRRVWjkfiBiLCFH0IvQsAgnfIu8J4SfVcpsjqq0bTvbRjQG4iUYeqMDHvCpy7I3bNgpJOJB-O9oBQO340u7u2QZl-nco-djg5PMNJWYixAxzZXWp7RG5Hn91KLlESHilIEvpbm1cwLLcYZaDR9pPA2KdBTXcYC8kYHbUBRjAycPcldO9XXi7mAOrFK1-PVX9hOTB8VXUYcukUHFFcQ8heqhu4w&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2BqPoc57UpELdKOld1Ob4MbnUi4r0mqbYgIkLzmrQCwznajBbpuV7fGUrSuKVKXRz_gJHABzWB7caozehHR8drTzOb7VSNgExCYRijWQiyWaiiPNrTHIXdGS8nd6TQlgonkt66g5DinWO7CPLI6X2AzDgHlvvWm9Yy5SlQnR_fYKE0YGHwqq6b9cCDhWqjzQIzjEbzQ-snReYtYTwUzHvzry9ehJ5MputCqxfMjxv6KZ4wija_lfh1LKORmqZ7Tw73G4VpSZ07-ymYpKE1Phv-370phjpkm2xOpdbO-UeaJEXIt6Aiuseb-V9KTKziKX0&session_state=Yw0YYt0bL_yiwjtbi--AgP5NoTv--GcNdWXLYXvSKGU.1d1546f12896833e3be9d830b7bb1e4d'.
2018-01-11 12:31:20.804 +00:00 [DBG] Updating configuration
2018-01-11 12:31:20.805 +00:00 [DBG] Received 'id_token'
2018-01-11 12:31:20.885 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 12:31:20.895 +00:00 [VRB] Authorization code received.
2018-01-11 12:31:20.898 +00:00 [DBG] Redeeming code for tokens.
2018-01-11 12:31:22.405 +00:00 [VRB] Token response received.
2018-01-11 12:31:22.408 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-11 12:31:23.095 +00:00 [VRB] User information received: {
  "sub": "fc14c74a-cdc8-4640-be5d-2b425ee65033",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-11 12:31:23.105 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:23.109 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-11 12:31:23.114 +00:00 [DBG] Connection id "0HLAOTS1JE273" completed keep alive response.
2018-01-11 12:31:23.118 +00:00 [INF] Request finished in 2413.4827ms 302 
2018-01-11 12:31:23.125 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 12:31:23.129 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:23.132 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:23.138 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 12:31:23.140 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:23.142 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 12:31:23.143 +00:00 [INF] Authorization was successful for user: fc14c74a-cdc8-4640-be5d-2b425ee65033.
2018-01-11 12:31:23.149 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 12:31:23.152 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 12:31:23.154 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-11 12:31:23.257 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-11 12:31:23.503 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 242.61690000000002ms.
2018-01-11 12:31:23.508 +00:00 [DBG] The view 'Secure' was found.
2018-01-11 12:31:23.510 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-11 12:31:23.546 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:23.588 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:23.600 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 12:31:23.608 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:23.614 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:23.617 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:23.622 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:23.631 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 488.064ms
2018-01-11 12:31:23.735 +00:00 [DBG] Connection id "0HLAOTS1JE273" completed keep alive response.
2018-01-11 12:31:23.755 +00:00 [INF] Request finished in 630.461ms 200 text/html; charset=utf-8
2018-01-11 12:31:27.065 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 12:31:27.084 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:27.089 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:27.109 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 12:31:27.113 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:27.115 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 12:31:27.116 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 12:31:27.126 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 12:31:27.130 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-11 12:31:27.132 +00:00 [DBG] The view 'Index' was found.
2018-01-11 12:31:27.134 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 12:31:27.141 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 12:31:27.143 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:27.145 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:27.147 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 12:31:27.148 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 12:31:27.150 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.550200000000004ms
2018-01-11 12:31:27.157 +00:00 [DBG] Connection id "0HLAOTS1JE273" completed keep alive response.
2018-01-11 12:31:27.177 +00:00 [DBG] Connection id "0HLAOTS1JE273" received FIN.
2018-01-11 12:31:27.181 +00:00 [INF] Request finished in 115.1949ms 200 text/html; charset=utf-8
2018-01-11 12:31:27.217 +00:00 [DBG] Connection id "0HLAOTS1JE273" disconnecting.
2018-01-11 12:31:27.224 +00:00 [DBG] Connection id "0HLAOTS1JE273" sending FIN.
2018-01-11 12:31:27.254 +00:00 [DBG] Connection id "0HLAOTS1JE273" stopped.
2018-01-11 12:31:28.079 +00:00 [DBG] Connection id "0HLAOTS1JE274" started.
2018-01-11 12:31:28.081 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-11 12:31:28.086 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:28.087 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:28.091 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-11 12:31:28.092 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:28.094 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-11 12:31:28.096 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:28.108 +00:00 [INF] Authorization failed for user: fc14c74a-cdc8-4640-be5d-2b425ee65033.
2018-01-11 12:31:28.113 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 12:31:28.118 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-11 12:31:28.126 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-11 12:31:28.131 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 35.3126ms
2018-01-11 12:31:28.142 +00:00 [DBG] Connection id "0HLAOTS1JE274" completed keep alive response.
2018-01-11 12:31:28.146 +00:00 [INF] Request finished in 64.5473ms 302 
2018-01-11 12:31:28.153 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-11 12:31:28.157 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 12:31:28.158 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 12:31:28.163 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-11 12:31:28.165 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 12:31:28.166 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 12:31:28.167 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 12:31:28.168 +00:00 [DBG] Request did not match any routes.
2018-01-11 12:31:28.169 +00:00 [DBG] Connection id "0HLAOTS1JE274" completed keep alive response.
2018-01-11 12:31:28.170 +00:00 [INF] Request finished in 16.7559ms 404 
2018-01-11 12:31:37.179 +00:00 [DBG] Connection id "0HLAOTS1JE274" received FIN.
2018-01-11 12:31:37.185 +00:00 [DBG] Connection id "0HLAOTS1JE274" disconnecting.
2018-01-11 12:31:37.186 +00:00 [DBG] Connection id "0HLAOTS1JE274" sending FIN.
2018-01-11 12:31:37.186 +00:00 [DBG] Connection id "0HLAOTS1JE274" stopped.
2018-01-11 14:11:52.390 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-11 14:11:52.511 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-11 14:11:52.574 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-11 14:11:52.766 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-11 14:11:52.841 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 14:11:52.844 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-11 14:11:52.846 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-11 14:11:52.850 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-11 14:11:52.860 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-11 14:11:52.866 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-11 14:11:52.869 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-11 14:11:56.317 +00:00 [DBG] Hosting starting
2018-01-11 14:11:56.838 +00:00 [DBG] Hosting started
2018-01-11 14:11:56.840 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-11 14:11:56.841 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-11 14:11:57.192 +00:00 [DBG] Connection id "0HLAOVL34DIN1" started.
2018-01-11 14:11:57.192 +00:00 [DBG] Connection id "0HLAOVL34DIN2" started.
2018-01-11 14:11:57.291 +00:00 [DBG] Connection id "0HLAOVL34DIN2" received FIN.
2018-01-11 14:11:57.320 +00:00 [DBG] Connection id "0HLAOVL34DIN1" received FIN.
2018-01-11 14:11:57.328 +00:00 [DBG] Connection id "0HLAOVL34DIN2" disconnecting.
2018-01-11 14:11:57.334 +00:00 [DBG] Connection id "0HLAOVL34DIN2" sending FIN.
2018-01-11 14:11:57.337 +00:00 [DBG] Connection id "0HLAOVL34DIN2" stopped.
2018-01-11 14:11:57.349 +00:00 [DBG] Connection id "0HLAOVL34DIN1" disconnecting.
2018-01-11 14:11:57.351 +00:00 [DBG] Connection id "0HLAOVL34DIN1" sending FIN.
2018-01-11 14:11:57.352 +00:00 [DBG] Connection id "0HLAOVL34DIN1" stopped.
2018-01-11 14:12:00.049 +00:00 [DBG] Connection id "0HLAOVL34DIN3" started.
2018-01-11 14:12:01.294 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 14:12:02.640 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 14:12:02.684 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 14:12:03.144 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:12:03.349 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 14:12:03.369 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 14:12:03.391 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 14:12:03.403 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-11 14:12:05.316 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-11 14:12:07.787 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2463.0475ms.
2018-01-11 14:12:07.931 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-11 14:12:08.073 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 140.226ms.
2018-01-11 14:12:08.108 +00:00 [DBG] The view 'Index' was found.
2018-01-11 14:12:08.113 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 14:12:08.215 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-11 14:12:08.444 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-11 14:12:09.549 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1089.554ms.
2018-01-11 14:12:09.574 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:12:09.580 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:12:09.625 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:12:09.628 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:12:09.736 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6385.6429000000007ms
2018-01-11 14:12:09.808 +00:00 [DBG] Connection id "0HLAOVL34DIN3" completed keep alive response.
2018-01-11 14:12:09.817 +00:00 [INF] Request finished in 8557.1151ms 200 text/html; charset=utf-8
2018-01-11 14:12:12.610 +00:00 [DBG] Connection id "0HLAOVL34DIN3" received FIN.
2018-01-11 14:12:12.612 +00:00 [DBG] Connection id "0HLAOVL34DIN3" disconnecting.
2018-01-11 14:12:12.613 +00:00 [DBG] Connection id "0HLAOVL34DIN3" stopped.
2018-01-11 14:12:12.613 +00:00 [DBG] Connection id "0HLAOVL34DIN3" sending FIN.
2018-01-11 14:12:19.923 +00:00 [DBG] Connection id "0HLAOVL34DIN4" started.
2018-01-11 14:12:19.964 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 14:12:20.063 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-11 14:12:20.077 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 14:12:20.079 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:12:20.085 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 14:12:20.113 +00:00 [INF] Authorization failed for user: null.
2018-01-11 14:12:20.131 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 14:12:20.146 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-11 14:12:20.160 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-11 14:12:20.162 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-11 14:12:31.489 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 14:12:31.507 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 14:12:31.510 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-11 14:12:31.522 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 11426.5394ms
2018-01-11 14:12:31.578 +00:00 [DBG] Connection id "0HLAOVL34DIN4" completed keep alive response.
2018-01-11 14:12:31.617 +00:00 [INF] Request finished in 11652.9908ms 302 
2018-01-11 14:12:32.612 +00:00 [DBG] Connection id "0HLAOVL34DIN4" received FIN.
2018-01-11 14:12:32.627 +00:00 [DBG] Connection id "0HLAOVL34DIN4" disconnecting.
2018-01-11 14:12:32.631 +00:00 [DBG] Connection id "0HLAOVL34DIN4" sending FIN.
2018-01-11 14:12:32.631 +00:00 [DBG] Connection id "0HLAOVL34DIN4" stopped.
2018-01-11 14:13:30.732 +00:00 [DBG] Connection id "0HLAOVL34DIN5" started.
2018-01-11 14:13:30.846 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-11 14:13:30.981 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-11 14:13:30.999 +00:00 [DBG] Connection id "0HLAOVL34DIN5", Request id "0HLAOVL34DIN5:00000001": started reading request body.
2018-01-11 14:13:31.004 +00:00 [DBG] Connection id "0HLAOVL34DIN5", Request id "0HLAOVL34DIN5:00000001": done reading request body.
2018-01-11 14:13:31.019 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-11 14:13:31.038 +00:00 [VRB] MessageReceived: '?code=ccfe5d22531b4fd6417e32ffc3790718574bc9ce923efa3fdadb0bd1b1e5a26c&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU2ODAwMDksImV4cCI6MTUxNTY4MDMwOSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTI3Njc1MTQ2ODI1NTMuT0dOa016Rm1ZVEF0TUdOaE5DMDBOV1l5TFRnMFpHRXRaREl3T0dWbE5qWTNZekV5TVRsaVptSXpOVFl0TlRabFl5MDBNR1poTFdFeFpXSXRZak0xTmpGbFkyRXdZV1UxIiwiaWF0IjoxNTE1NjgwMDA5LCJjX2hhc2giOiJhSzZEMWpvMVQ0WDdlQUF2X2Z3N29BIiwic2lkIjoiODdiNmQwYTVkMWE4Mjg1MTc5ZDY0Y2IwNDE0YjgxZGYiLCJzdWIiOiI0ODVmZGQ2MS1lNDJjLTQ2MDgtYjliNC03ZTc2YTk0MjkwYTIiLCJhdXRoX3RpbWUiOjE1MTU2Nzk5NzQsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.YTkTHwq4EzrI4lGhXBq_efae63k0Cb9w6R_M16b5rQ6fqgWHotttsdTD9bJ2qiCs0anMaUxUBe2LW75XXyB3BXy9AQkUXOsFmzvE_kuKEthnxL6BGmVZZH3i_SLmEcUjfY5-Jh65yyeb1zVeEmO1svGI2Wj3J-JbDI1VDCeeL--BlN6uygq7xC1HyEMpRsQFWw5CYdoIHFDjFxjK7AlVeLW7pwdZPDcZVPy3capFKRfrCISWnK8TTxwWKOgrujRERwAhwwIjHVYtVSvrHESvhb_VeRpsu3K5Paiy0rTZr6F0w08Byyc3HIaiNPWW-7pzf4yYIIcvA8EcvCtsbMaBJg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3mcRCWv94dFYLCs8tnMZw0UnsvWioRkw_mP41K1ZfCcgG2QLwatIP8y3h-WP6OkJsVewCbqoI4RrG3ZWt3-oOakfZd_y0WlLWPZG52lEXV876BXnFUu7h6cWgVwEqjwbfZJnMNDHJRSZYRmRq8YyFys_z45ollMvgwEqMSgFg3h9wDj3MxxSpzf8ja1Sc5rD-iSfncXtCR8h6NuoTfg0-9Z7H7LgcQjiXSoYTWcFLwWxh0pklqePtRc9EN1aPPChs4iQURhu0E_pF2khJ5Ltm04pYiBhK0HlvGGI22JY5sBP95MiBrmWX4rlJw2yEc0yM&session_state=0Ti0eCt7yVst0xhIrk1VnieeRekl6vTvT5ef4umBPgg.264a1662851f24d0b113b75d35132f3d'.
2018-01-11 14:13:31.045 +00:00 [DBG] Updating configuration
2018-01-11 14:13:31.046 +00:00 [DBG] Received 'id_token'
2018-01-11 14:13:31.181 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-11 14:13:31.189 +00:00 [VRB] Authorization code received.
2018-01-11 14:13:31.193 +00:00 [DBG] Redeeming code for tokens.
2018-01-11 14:13:36.320 +00:00 [VRB] Token response received.
2018-01-11 14:13:36.326 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-11 14:13:38.173 +00:00 [VRB] User information received: {
  "sub": "485fdd61-e42c-4608-b9b4-7e76a94290a2",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-11 14:13:38.183 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:38.188 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-11 14:13:38.193 +00:00 [DBG] Connection id "0HLAOVL34DIN5" completed keep alive response.
2018-01-11 14:13:38.194 +00:00 [INF] Request finished in 7348.8554ms 302 
2018-01-11 14:13:38.204 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-11 14:13:38.207 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:38.209 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:38.213 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-11 14:13:38.215 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:38.218 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-11 14:13:38.221 +00:00 [INF] Authorization was successful for user: 485fdd61-e42c-4608-b9b4-7e76a94290a2.
2018-01-11 14:13:38.225 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 14:13:38.230 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 14:13:38.232 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-11 14:13:38.621 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-11 14:13:39.056 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 422.57800000000003ms.
2018-01-11 14:13:39.061 +00:00 [DBG] The view 'Secure' was found.
2018-01-11 14:13:39.062 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-11 14:13:39.088 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:39.093 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:39.098 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 14:13:39.102 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:39.103 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:39.105 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:39.106 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:39.116 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 896.22440000000006ms
2018-01-11 14:13:39.253 +00:00 [DBG] Connection id "0HLAOVL34DIN5" completed keep alive response.
2018-01-11 14:13:39.329 +00:00 [INF] Request finished in 1125.0297ms 200 text/html; charset=utf-8
2018-01-11 14:13:42.657 +00:00 [DBG] Connection id "0HLAOVL34DIN5" received FIN.
2018-01-11 14:13:42.677 +00:00 [DBG] Connection id "0HLAOVL34DIN5" disconnecting.
2018-01-11 14:13:42.681 +00:00 [DBG] Connection id "0HLAOVL34DIN5" sending FIN.
2018-01-11 14:13:42.683 +00:00 [DBG] Connection id "0HLAOVL34DIN5" stopped.
2018-01-11 14:13:46.496 +00:00 [DBG] Connection id "0HLAOVL34DIN6" started.
2018-01-11 14:13:46.521 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-11 14:13:46.546 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:46.548 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:46.562 +00:00 [DBG] The request path / does not match a supported file type
2018-01-11 14:13:46.565 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:46.571 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-11 14:13:46.573 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-11 14:13:46.577 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-11 14:13:46.580 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-11 14:13:46.582 +00:00 [DBG] The view 'Index' was found.
2018-01-11 14:13:46.587 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-11 14:13:46.594 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-11 14:13:46.596 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:46.597 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:46.602 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-11 14:13:46.604 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-11 14:13:46.606 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.0477ms
2018-01-11 14:13:46.876 +00:00 [DBG] Connection id "0HLAOVL34DIN6" completed keep alive response.
2018-01-11 14:13:46.928 +00:00 [INF] Request finished in 406.6225ms 200 text/html; charset=utf-8
2018-01-11 14:13:47.597 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-11 14:13:47.659 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:47.702 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:47.746 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-11 14:13:47.749 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:47.761 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-11 14:13:47.805 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:47.829 +00:00 [INF] Authorization failed for user: 485fdd61-e42c-4608-b9b4-7e76a94290a2.
2018-01-11 14:13:47.838 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-11 14:13:47.863 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-11 14:13:47.892 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-11 14:13:47.905 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 100.1324ms
2018-01-11 14:13:48.022 +00:00 [DBG] Connection id "0HLAOVL34DIN6" completed keep alive response.
2018-01-11 14:13:48.029 +00:00 [INF] Request finished in 432.0576ms 302 
2018-01-11 14:13:48.061 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-11 14:13:48.068 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-11 14:13:48.071 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-11 14:13:48.076 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-11 14:13:48.077 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-11 14:13:48.082 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 14:13:48.087 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-11 14:13:48.090 +00:00 [DBG] Request did not match any routes.
2018-01-11 14:13:48.091 +00:00 [DBG] Connection id "0HLAOVL34DIN6" completed keep alive response.
2018-01-11 14:13:48.106 +00:00 [INF] Request finished in 44.7839ms 404 
2018-01-11 14:13:52.621 +00:00 [DBG] Connection id "0HLAOVL34DIN6" received FIN.
2018-01-11 14:13:52.625 +00:00 [DBG] Connection id "0HLAOVL34DIN6" disconnecting.
2018-01-11 14:13:52.626 +00:00 [DBG] Connection id "0HLAOVL34DIN6" sending FIN.
2018-01-11 14:13:52.626 +00:00 [DBG] Connection id "0HLAOVL34DIN6" stopped.
2018-01-12 07:41:18.187 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:41:18.302 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:41:18.337 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:41:18.371 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:41:18.431 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:41:18.437 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:41:18.440 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:41:18.442 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:41:18.449 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:41:18.456 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:41:18.458 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:41:18.885 +00:00 [DBG] Hosting starting
2018-01-12 07:41:19.126 +00:00 [DBG] Hosting started
2018-01-12 07:41:19.126 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:41:19.129 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:41:19.490 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" started.
2018-01-12 07:41:19.490 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" started.
2018-01-12 07:41:19.530 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" received FIN.
2018-01-12 07:41:19.530 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" received FIN.
2018-01-12 07:41:19.532 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" disconnecting.
2018-01-12 07:41:19.533 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" sending FIN.
2018-01-12 07:41:19.534 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" disconnecting.
2018-01-12 07:41:19.535 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" sending FIN.
2018-01-12 07:41:19.536 +00:00 [DBG] Connection id "0HLAPHVFBMJQC" stopped.
2018-01-12 07:41:19.539 +00:00 [DBG] Connection id "0HLAPHVFBMJQB" stopped.
2018-01-12 07:41:21.594 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" started.
2018-01-12 07:41:21.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:41:21.945 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:21.958 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:41:22.215 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:41:22.326 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:41:22.349 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:41:22.358 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:41:22.369 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:41:23.719 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:41:25.553 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1827.1718ms.
2018-01-12 07:41:25.644 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:41:25.764 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 117.70240000000001ms.
2018-01-12 07:41:25.773 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:41:25.775 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:41:25.864 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:41:25.973 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:41:26.725 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 751.0498ms.
2018-01-12 07:41:26.754 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:26.757 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:26.781 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:26.783 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:26.832 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4503.144ms
2018-01-12 07:41:26.864 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" started.
2018-01-12 07:41:26.867 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" started.
2018-01-12 07:41:26.870 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" started.
2018-01-12 07:41:26.870 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" started.
2018-01-12 07:41:26.870 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 07:41:26.878 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 07:41:26.878 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=Ynfdc1vuMNOWZfqTj4N3SPcebazoGXiIPgtfE-b2TO4  
2018-01-12 07:41:26.892 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" completed keep alive response.
2018-01-12 07:41:26.892 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:26.906 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:26.909 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" started.
2018-01-12 07:41:26.909 +00:00 [INF] Request finished in 5190.3615ms 200 text/html; charset=utf-8
2018-01-12 07:41:26.910 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:26.911 +00:00 [INF] The file /css/site.css was not modified
2018-01-12 07:41:26.917 +00:00 [INF] The file /js/site.js was not modified
2018-01-12 07:41:26.918 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-01-12 07:41:26.935 +00:00 [DBG] Handled. Status code: 304 File: /js/site.js
2018-01-12 07:41:26.941 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" completed keep alive response.
2018-01-12 07:41:26.948 +00:00 [INF] Request finished in 70.1947ms 304 application/javascript
2018-01-12 07:41:26.958 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/css/bootstrap.css
2018-01-12 07:41:26.969 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" completed keep alive response.
2018-01-12 07:41:26.989 +00:00 [INF] Request finished in 111.6229ms 304 text/css
2018-01-12 07:41:26.990 +00:00 [DBG] Handled. Status code: 304 File: /css/site.css
2018-01-12 07:41:27.013 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" completed keep alive response.
2018-01-12 07:41:27.021 +00:00 [INF] Request finished in 151.1322ms 304 text/css
2018-01-12 07:41:27.105 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 07:41:27.142 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 07:41:27.154 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:27.159 +00:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-01-12 07:41:27.192 +00:00 [DBG] Handled. Status code: 304 File: /lib/jquery/dist/jquery.js
2018-01-12 07:41:27.209 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" completed keep alive response.
2018-01-12 07:41:27.219 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:27.251 +00:00 [INF] Request finished in 79.4697ms 304 application/javascript
2018-01-12 07:41:27.252 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-01-12 07:41:27.288 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/js/bootstrap.js
2018-01-12 07:41:27.294 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" completed keep alive response.
2018-01-12 07:41:27.299 +00:00 [INF] Request finished in 193.8157ms 304 application/javascript
2018-01-12 07:41:30.194 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:41:30.200 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:41:30.202 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:41:30.203 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:41:30.207 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:41:30.223 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:41:30.238 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:41:30.250 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:41:30.271 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:41:30.274 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:41:32.567 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:41:32.572 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:41:32.574 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:41:32.577 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2368.811ms
2018-01-12 07:41:32.582 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" completed keep alive response.
2018-01-12 07:41:32.583 +00:00 [INF] Request finished in 2388.9504ms 302 
2018-01-12 07:41:34.719 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" received FIN.
2018-01-12 07:41:34.719 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" received FIN.
2018-01-12 07:41:34.724 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" disconnecting.
2018-01-12 07:41:34.727 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" received FIN.
2018-01-12 07:41:34.733 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" disconnecting.
2018-01-12 07:41:34.733 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" received FIN.
2018-01-12 07:41:34.734 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" disconnecting.
2018-01-12 07:41:34.739 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" sending FIN.
2018-01-12 07:41:34.739 +00:00 [DBG] Connection id "0HLAPHVFBMJQD" stopped.
2018-01-12 07:41:34.741 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" sending FIN.
2018-01-12 07:41:34.743 +00:00 [DBG] Connection id "0HLAPHVFBMJQG" stopped.
2018-01-12 07:41:34.752 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" sending FIN.
2018-01-12 07:41:34.754 +00:00 [DBG] Connection id "0HLAPHVFBMJQE" stopped.
2018-01-12 07:41:34.761 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" disconnecting.
2018-01-12 07:41:34.763 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" received FIN.
2018-01-12 07:41:34.766 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" disconnecting.
2018-01-12 07:41:34.769 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" received FIN.
2018-01-12 07:41:34.771 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" disconnecting.
2018-01-12 07:41:34.771 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" sending FIN.
2018-01-12 07:41:34.783 +00:00 [DBG] Connection id "0HLAPHVFBMJQF" stopped.
2018-01-12 07:41:34.791 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" sending FIN.
2018-01-12 07:41:34.792 +00:00 [DBG] Connection id "0HLAPHVFBMJQI" stopped.
2018-01-12 07:41:34.802 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" sending FIN.
2018-01-12 07:41:34.802 +00:00 [DBG] Connection id "0HLAPHVFBMJQH" stopped.
2018-01-12 07:41:56.224 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" started.
2018-01-12 07:41:56.235 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 07:41:56.248 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 07:41:56.268 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ", Request id "0HLAPHVFBMJQJ:00000001": started reading request body.
2018-01-12 07:41:56.279 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ", Request id "0HLAPHVFBMJQJ:00000001": done reading request body.
2018-01-12 07:41:56.307 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:41:56.324 +00:00 [VRB] MessageReceived: '?code=a96f01172fe6c8d01c074a12ef6511444678763263f82d4944e3bd5f8b654b39&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NDI5MTYsImV4cCI6MTUxNTc0MzIxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTMzOTY5MjU2MjY1NDguTVdFd01EUXpZakV0TlRjeU15MDBOemRoTFRoalptTXRNbVZqWWpNNU5tVTBaV1ZtTVdNd1lqTm1ZVGd0T0dRME9TMDBNekkwTFRrME56RXRObVU1TWpaaU1XVTFaVE0wIiwiaWF0IjoxNTE1NzQyOTE1LCJjX2hhc2giOiJ2TlhNUVlQaUFjdUNUYjc4SFNrbXpBIiwic2lkIjoiYzNhNjZmZGZiOGY0MDI4YzZiNzRkZDI5NDQzODYxNzAiLCJzdWIiOiJkZDlhMWIzNy0zNDQzLTQyN2QtOWY5Ny0wY2Y2ZWVkNzkyYzIiLCJhdXRoX3RpbWUiOjE1MTU3NDI5MDgsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.E2sAlFYGY0qaMfuh7HHpxgalNT5VR_c8TkM2-57DFH_XznraYHrbqnGfq0D_QSLZf8FZBDuJlZrCNtYwBpxtjK0aoaj7x4yZzPuauPZyGk5ILkZbEF_1Tr_ox_pbWG8FWKQtWebs928CsXrh58WVwh5UIYv-KXuot785quuHBvd4goyOXyWwAPwdfqnTFLqHW3vJyydWKTwqd1gZ92mPr9ivpNvpZ2DruNhOTA1mPdzLDM5fbUTEPl79uw7yyrCaN574RejoX557rYBJ0vOHmb25fca8l0lzorIy6YuCPmrj-TwIFX5fprTh8WjGFEhmahHC4pz7m3uNrGogHdqNVQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1Ul5GjXvIylJKy4C0f7IERCzKAF2fPvmkeGCW70mZG9qHX_AKyYSvab3h2H3h4hV2lv5KKOJBDsnPGTRm6Z_Gz9iDp0-JUE_4DCflRolKvtQtVGljnR0uTKqSB86cDPgFsFdGE6e1_a2RSnYEN05cEm5zBs2WacT_dT_R4n2GiTfg5jvX28sKfOXnKnHdnUPqTb7SAM2yLnEFeijca_j9uOJ5Bb7As0M8iHu8OH89vjA6DHzXc62RC0GbPXcr2k7rUN5txZGmblzB6TmbaCkT1pUPSiljmBE5z0Q8eqvNJjs0SMgt7lMI0xrnrhCrz7XY&session_state=vvYys0PoLJkusoAoNXYNNaRRtDRXnmRsVCSFd15Z0BE.be9e0bfea9c3c71903c2642816c6d3dc'.
2018-01-12 07:41:56.343 +00:00 [DBG] Updating configuration
2018-01-12 07:41:56.347 +00:00 [DBG] Received 'id_token'
2018-01-12 07:41:56.450 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:41:56.458 +00:00 [VRB] Authorization code received.
2018-01-12 07:41:56.460 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 07:41:58.052 +00:00 [VRB] Token response received.
2018-01-12 07:41:58.059 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 07:41:58.950 +00:00 [VRB] User information received: {
  "sub": "dd9a1b37-3443-427d-9f97-0cf6eed792c2",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 07:41:58.969 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:41:58.980 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 07:41:59.000 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" completed keep alive response.
2018-01-12 07:41:59.014 +00:00 [INF] Request finished in 2778.2204ms 302 
2018-01-12 07:41:59.040 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:41:59.053 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:41:59.059 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:41:59.092 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:41:59.095 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:41:59.097 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:41:59.100 +00:00 [INF] Authorization was successful for user: dd9a1b37-3443-427d-9f97-0cf6eed792c2.
2018-01-12 07:41:59.107 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:41:59.115 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:41:59.118 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 07:41:59.218 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 07:41:59.522 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 301.0808ms.
2018-01-12 07:41:59.527 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 07:41:59.530 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 07:41:59.564 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:41:59.607 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:41:59.642 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:41:59.646 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:59.652 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:59.656 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:41:59.658 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:41:59.662 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 563.70400000000006ms
2018-01-12 07:41:59.810 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" completed keep alive response.
2018-01-12 07:41:59.841 +00:00 [INF] Request finished in 801.7002ms 200 text/html; charset=utf-8
2018-01-12 07:42:04.722 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" received FIN.
2018-01-12 07:42:04.724 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" disconnecting.
2018-01-12 07:42:04.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" sending FIN.
2018-01-12 07:42:04.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQJ" stopped.
2018-01-12 07:42:07.293 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" started.
2018-01-12 07:42:07.302 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 07:42:07.314 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:07.318 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:07.322 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 07:42:07.325 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:07.339 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 07:42:07.347 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:42:07.388 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:08.797 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:42:08.798 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 07:42:08.921 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 07:42:09.185 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 253.3692ms.
2018-01-12 07:42:09.193 +00:00 [DBG] The view 'json' was found.
2018-01-12 07:42:09.200 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 07:42:09.239 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:42:09.240 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:09.241 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:09.242 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:09.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:09.245 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1897.9883ms
2018-01-12 07:42:09.251 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" completed keep alive response.
2018-01-12 07:42:09.253 +00:00 [INF] Request finished in 1950.6638ms 200 text/html; charset=utf-8
2018-01-12 07:42:14.723 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" received FIN.
2018-01-12 07:42:14.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" disconnecting.
2018-01-12 07:42:14.725 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" sending FIN.
2018-01-12 07:42:14.726 +00:00 [DBG] Connection id "0HLAPHVFBMJQK" stopped.
2018-01-12 07:42:28.168 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" started.
2018-01-12 07:42:28.173 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:42:28.177 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:28.181 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:28.186 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:42:28.187 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:28.188 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:42:28.191 +00:00 [INF] Authorization was successful for user: dd9a1b37-3443-427d-9f97-0cf6eed792c2.
2018-01-12 07:42:28.195 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:42:28.200 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:42:28.202 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 07:42:28.203 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 07:42:28.204 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 07:42:28.208 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:28.214 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:28.218 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:42:28.219 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:28.220 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:28.223 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:28.224 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:28.233 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 42.3308ms
2018-01-12 07:42:28.239 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" completed keep alive response.
2018-01-12 07:42:28.267 +00:00 [INF] Request finished in 94.4417ms 200 text/html; charset=utf-8
2018-01-12 07:42:29.528 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 07:42:29.535 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:29.537 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:29.542 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 07:42:29.543 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:29.551 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 07:42:29.553 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:42:30.338 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:42:30.341 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 07:42:30.345 +00:00 [DBG] The view 'json' was found.
2018-01-12 07:42:30.346 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 07:42:30.350 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 07:42:30.352 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:30.352 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:30.354 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:42:30.354 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:42:30.356 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 803.22200000000009ms
2018-01-12 07:42:30.359 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" completed keep alive response.
2018-01-12 07:42:30.365 +00:00 [INF] Request finished in 837.1974ms 200 text/html; charset=utf-8
2018-01-12 07:42:34.726 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" received FIN.
2018-01-12 07:42:34.728 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" disconnecting.
2018-01-12 07:42:34.729 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" sending FIN.
2018-01-12 07:42:34.729 +00:00 [DBG] Connection id "0HLAPHVFBMJQL" stopped.
2018-01-12 07:42:37.910 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" started.
2018-01-12 07:42:37.915 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 07:42:37.926 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:37.936 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:37.940 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 07:42:37.941 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:37.947 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 07:42:37.948 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:37.969 +00:00 [INF] Authorization failed for user: dd9a1b37-3443-427d-9f97-0cf6eed792c2.
2018-01-12 07:42:37.972 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:42:37.980 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 07:42:37.994 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 07:42:37.998 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 50.0578ms
2018-01-12 07:42:38.001 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" completed keep alive response.
2018-01-12 07:42:38.003 +00:00 [INF] Request finished in 88.1212ms 302 
2018-01-12 07:42:38.010 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 07:42:38.015 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 07:42:38.018 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 07:42:38.021 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 07:42:38.022 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:42:38.026 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 07:42:38.030 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 07:42:38.032 +00:00 [DBG] Request did not match any routes.
2018-01-12 07:42:38.033 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" completed keep alive response.
2018-01-12 07:42:38.039 +00:00 [INF] Request finished in 28.5049ms 404 
2018-01-12 07:42:44.728 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" received FIN.
2018-01-12 07:42:44.730 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" disconnecting.
2018-01-12 07:42:44.731 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" sending FIN.
2018-01-12 07:42:44.731 +00:00 [DBG] Connection id "0HLAPHVFBMJQM" stopped.
2018-01-12 07:46:03.351 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:46:03.398 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:46:03.408 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:46:03.429 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:46:03.445 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:46:03.446 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:46:03.447 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:46:03.448 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:46:03.451 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:46:03.456 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:46:03.458 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:46:03.758 +00:00 [DBG] Hosting starting
2018-01-12 07:46:03.922 +00:00 [DBG] Hosting started
2018-01-12 07:46:03.922 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:46:03.923 +00:00 [DBG] Connection id "0HLAPI2446BK8" started.
2018-01-12 07:46:03.924 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:46:03.971 +00:00 [DBG] Connection id "0HLAPI2446BK8" received FIN.
2018-01-12 07:46:03.973 +00:00 [DBG] Connection id "0HLAPI2446BK8" disconnecting.
2018-01-12 07:46:03.975 +00:00 [DBG] Connection id "0HLAPI2446BK8" sending FIN.
2018-01-12 07:46:03.981 +00:00 [DBG] Connection id "0HLAPI2446BK8" stopped.
2018-01-12 07:46:05.248 +00:00 [DBG] Connection id "0HLAPI2446BK9" started.
2018-01-12 07:46:05.313 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:46:05.412 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:46:05.430 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:46:05.540 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:46:05.585 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:46:05.605 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:46:05.620 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:46:05.629 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:46:06.768 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:46:08.473 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1701.2720000000002ms.
2018-01-12 07:46:08.572 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:46:08.658 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 85.1251ms.
2018-01-12 07:46:08.669 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:46:08.672 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:46:08.781 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:46:08.932 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:46:09.539 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 605.7953ms.
2018-01-12 07:46:09.560 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:46:09.563 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:46:09.588 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:46:09.590 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:46:09.667 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4079.6557000000003ms
2018-01-12 07:46:09.683 +00:00 [DBG] Connection id "0HLAPI2446BK9" completed keep alive response.
2018-01-12 07:46:09.691 +00:00 [INF] Request finished in 4382.7386ms 200 text/html; charset=utf-8
2018-01-12 07:46:11.525 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:46:11.531 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:46:11.534 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:46:11.535 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:46:11.539 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:46:11.549 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:46:11.558 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:46:11.567 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:46:11.581 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:46:11.583 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:46:13.388 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:46:13.394 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:46:13.396 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:46:13.400 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1859.4041000000002ms
2018-01-12 07:46:13.406 +00:00 [DBG] Connection id "0HLAPI2446BK9" completed keep alive response.
2018-01-12 07:46:13.416 +00:00 [INF] Request finished in 1890.716ms 302 
2018-01-12 07:49:53.569 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:49:53.632 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:49:53.648 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:49:53.670 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:49:53.712 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:49:53.713 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:49:53.715 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:49:53.716 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:49:53.722 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:49:53.729 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:49:53.731 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:49:54.135 +00:00 [DBG] Hosting starting
2018-01-12 07:49:54.296 +00:00 [DBG] Hosting started
2018-01-12 07:49:54.297 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:49:54.298 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:49:54.356 +00:00 [DBG] Connection id "0HLAPI48PR0HT" started.
2018-01-12 07:49:54.394 +00:00 [DBG] Connection id "0HLAPI48PR0HT" received FIN.
2018-01-12 07:49:54.396 +00:00 [DBG] Connection id "0HLAPI48PR0HT" disconnecting.
2018-01-12 07:49:54.398 +00:00 [DBG] Connection id "0HLAPI48PR0HT" sending FIN.
2018-01-12 07:49:54.402 +00:00 [DBG] Connection id "0HLAPI48PR0HT" stopped.
2018-01-12 07:49:55.723 +00:00 [DBG] Connection id "0HLAPI48PR0HU" started.
2018-01-12 07:49:55.842 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:49:55.975 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:49:55.997 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:49:56.132 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:49:56.185 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:49:56.207 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:49:56.214 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:49:56.228 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:49:57.489 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:49:59.380 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1883.4495000000002ms.
2018-01-12 07:49:59.447 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:49:59.519 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 70.7129ms.
2018-01-12 07:49:59.526 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:49:59.527 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:49:59.575 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:49:59.682 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:50:00.264 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 579.45310000000006ms.
2018-01-12 07:50:00.284 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:00.287 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:00.308 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:00.310 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:00.352 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4161.629ms
2018-01-12 07:50:00.380 +00:00 [DBG] Connection id "0HLAPI48PR0HU" completed keep alive response.
2018-01-12 07:50:00.386 +00:00 [INF] Request finished in 4550.5496ms 200 text/html; charset=utf-8
2018-01-12 07:50:01.902 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:50:01.909 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:50:01.910 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:50:01.912 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:50:01.915 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:50:01.927 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:50:01.935 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:50:01.944 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:50:01.953 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:50:01.955 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:50:03.572 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:50:03.579 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:50:03.581 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:50:03.583 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1668.0007ms
2018-01-12 07:50:03.590 +00:00 [DBG] Connection id "0HLAPI48PR0HU" completed keep alive response.
2018-01-12 07:50:03.594 +00:00 [INF] Request finished in 1690.1057ms 302 
2018-01-12 07:50:39.382 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:50:39.433 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:50:39.448 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:50:39.480 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:50:39.504 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:50:39.506 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:50:39.508 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:50:39.510 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:50:39.517 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:50:39.538 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:50:39.541 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:50:39.940 +00:00 [DBG] Hosting starting
2018-01-12 07:50:40.627 +00:00 [DBG] Hosting started
2018-01-12 07:50:40.628 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:50:40.630 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:50:40.821 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" started.
2018-01-12 07:50:40.861 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" received FIN.
2018-01-12 07:50:40.870 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" disconnecting.
2018-01-12 07:50:40.872 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" sending FIN.
2018-01-12 07:50:40.878 +00:00 [DBG] Connection id "0HLAPI4MKVH8L" stopped.
2018-01-12 07:50:42.273 +00:00 [DBG] Connection id "0HLAPI4MKVH8M" started.
2018-01-12 07:50:42.380 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:50:42.527 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:50:42.543 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:50:42.697 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:50:42.742 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:50:42.760 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:50:42.775 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:50:42.790 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:50:44.177 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:50:45.760 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1577.815ms.
2018-01-12 07:50:45.887 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:50:45.976 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 86.2672ms.
2018-01-12 07:50:45.983 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:50:45.984 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:50:46.063 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:50:46.173 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:50:46.977 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 802.2082ms.
2018-01-12 07:50:46.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:46.995 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:47.025 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:50:47.027 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:50:47.094 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4350.9348ms
2018-01-12 07:50:47.135 +00:00 [DBG] Connection id "0HLAPI4MKVH8M" completed keep alive response.
2018-01-12 07:50:47.143 +00:00 [INF] Request finished in 4771.3058ms 200 text/html; charset=utf-8
2018-01-12 07:50:49.236 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:50:49.241 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:50:49.243 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:50:49.245 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:50:49.248 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:50:49.259 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:50:49.267 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:50:49.275 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:50:49.285 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:50:49.287 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:50:50.991 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:50:50.998 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:50:51.001 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:50:51.005 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1754.8146000000002ms
2018-01-12 07:50:51.013 +00:00 [DBG] Connection id "0HLAPI4MKVH8M" completed keep alive response.
2018-01-12 07:50:51.026 +00:00 [INF] Request finished in 1789.4899ms 302 
2018-01-12 07:53:30.710 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 07:53:30.766 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 07:53:30.783 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 07:53:30.816 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 07:53:30.842 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:53:30.844 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 07:53:30.845 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 07:53:30.847 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 07:53:30.850 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 07:53:30.857 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 07:53:30.859 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 07:53:31.155 +00:00 [DBG] Hosting starting
2018-01-12 07:53:31.282 +00:00 [DBG] Hosting started
2018-01-12 07:53:31.283 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 07:53:31.285 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 07:53:31.613 +00:00 [DBG] Connection id "0HLAPI69HOJMK" started.
2018-01-12 07:53:31.613 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" started.
2018-01-12 07:53:31.656 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" received FIN.
2018-01-12 07:53:31.656 +00:00 [DBG] Connection id "0HLAPI69HOJMK" received FIN.
2018-01-12 07:53:31.658 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" disconnecting.
2018-01-12 07:53:31.660 +00:00 [DBG] Connection id "0HLAPI69HOJMK" disconnecting.
2018-01-12 07:53:31.660 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" sending FIN.
2018-01-12 07:53:31.661 +00:00 [DBG] Connection id "0HLAPI69HOJMK" sending FIN.
2018-01-12 07:53:31.666 +00:00 [DBG] Connection id "0HLAPI69HOJMJ" stopped.
2018-01-12 07:53:31.666 +00:00 [DBG] Connection id "0HLAPI69HOJMK" stopped.
2018-01-12 07:53:32.978 +00:00 [DBG] Connection id "0HLAPI69HOJML" started.
2018-01-12 07:53:33.141 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 07:53:33.246 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:53:33.262 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 07:53:33.413 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:53:33.465 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 07:53:33.481 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 07:53:33.491 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 07:53:33.498 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 07:53:35.013 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 07:53:36.552 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1532.0946000000001ms.
2018-01-12 07:53:36.704 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 07:53:36.767 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 61.8462ms.
2018-01-12 07:53:36.780 +00:00 [DBG] The view 'Index' was found.
2018-01-12 07:53:36.781 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 07:53:36.841 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 07:53:36.967 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 07:53:37.564 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 593.69400000000007ms.
2018-01-12 07:53:37.588 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:53:37.591 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:53:37.629 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 07:53:37.631 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 07:53:37.701 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4234.5729ms
2018-01-12 07:53:37.717 +00:00 [DBG] Connection id "0HLAPI69HOJML" completed keep alive response.
2018-01-12 07:53:37.732 +00:00 [INF] Request finished in 4596.0209ms 200 text/html; charset=utf-8
2018-01-12 07:53:44.815 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 07:53:44.827 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 07:53:44.839 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 07:53:44.845 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 07:53:44.850 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 07:53:44.861 +00:00 [INF] Authorization failed for user: null.
2018-01-12 07:53:44.870 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 07:53:44.890 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 07:53:44.899 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 07:53:44.900 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 07:53:46.337 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 07:53:46.345 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 07:53:46.348 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 07:53:46.353 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1501.6649ms
2018-01-12 07:53:46.358 +00:00 [DBG] Connection id "0HLAPI69HOJML" completed keep alive response.
2018-01-12 07:53:46.364 +00:00 [INF] Request finished in 1548.6478ms 302 
2018-01-12 07:53:51.853 +00:00 [DBG] Connection id "0HLAPI69HOJML" received FIN.
2018-01-12 07:53:51.855 +00:00 [DBG] Connection id "0HLAPI69HOJML" disconnecting.
2018-01-12 07:53:51.856 +00:00 [DBG] Connection id "0HLAPI69HOJML" sending FIN.
2018-01-12 07:53:51.856 +00:00 [DBG] Connection id "0HLAPI69HOJML" stopped.
2018-01-12 08:01:06.567 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:01:06.611 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:01:06.626 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:01:06.646 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:01:06.663 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:01:06.664 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:01:06.665 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:01:06.667 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:01:06.670 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:01:06.675 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:01:06.677 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:01:06.928 +00:00 [DBG] Hosting starting
2018-01-12 08:01:07.069 +00:00 [DBG] Hosting started
2018-01-12 08:01:07.070 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:01:07.071 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:01:07.168 +00:00 [DBG] Connection id "0HLAPIAHA91B2" started.
2018-01-12 08:01:07.168 +00:00 [DBG] Connection id "0HLAPIAHA91B1" started.
2018-01-12 08:01:07.205 +00:00 [DBG] Connection id "0HLAPIAHA91B2" received FIN.
2018-01-12 08:01:07.205 +00:00 [DBG] Connection id "0HLAPIAHA91B1" received FIN.
2018-01-12 08:01:07.207 +00:00 [DBG] Connection id "0HLAPIAHA91B2" disconnecting.
2018-01-12 08:01:07.208 +00:00 [DBG] Connection id "0HLAPIAHA91B2" sending FIN.
2018-01-12 08:01:07.211 +00:00 [DBG] Connection id "0HLAPIAHA91B1" disconnecting.
2018-01-12 08:01:07.211 +00:00 [DBG] Connection id "0HLAPIAHA91B2" stopped.
2018-01-12 08:01:07.213 +00:00 [DBG] Connection id "0HLAPIAHA91B1" sending FIN.
2018-01-12 08:01:07.218 +00:00 [DBG] Connection id "0HLAPIAHA91B1" stopped.
2018-01-12 08:01:08.480 +00:00 [DBG] Connection id "0HLAPIAHA91B3" started.
2018-01-12 08:01:08.559 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:01:08.677 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:08.692 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:01:08.788 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:08.830 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:01:08.845 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:01:08.852 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:01:08.859 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:01:10.087 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:01:12.173 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2077.5253000000002ms.
2018-01-12 08:01:12.304 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:01:12.390 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 84.4479ms.
2018-01-12 08:01:12.398 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:01:12.404 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:01:12.471 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:01:12.654 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:01:13.428 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 771.86560000000009ms.
2018-01-12 08:01:13.458 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:01:13.461 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:01:13.490 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:01:13.491 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:01:13.553 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4721.2531ms
2018-01-12 08:01:13.576 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:13.593 +00:00 [INF] Request finished in 5045.2948ms 200 text/html; charset=utf-8
2018-01-12 08:01:23.170 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 08:01:23.177 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:23.180 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 08:01:23.181 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:23.189 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 08:01:23.192 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:23.210 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:01:23.219 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:01:23.229 +00:00 [INF] Executing ChallengeResult with authentication schemes (["Cookies"]).
2018-01-12 08:01:23.248 +00:00 [INF] AuthenticationScheme: Cookies was challenged.
2018-01-12 08:01:23.253 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 63.454ms
2018-01-12 08:01:23.258 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:23.262 +00:00 [INF] Request finished in 91.132ms 302 
2018-01-12 08:01:23.271 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/Login?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 08:01:23.274 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:23.275 +00:00 [DBG] The request path /Account/Login does not match a supported file type
2018-01-12 08:01:23.276 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:23.279 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-12 08:01:23.280 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-12 08:01:23.282 +00:00 [DBG] Request did not match any routes.
2018-01-12 08:01:23.282 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:23.287 +00:00 [INF] Request finished in 15.5427ms 404 
2018-01-12 08:01:25.822 +00:00 [DBG] Connection id "0HLAPIAHA91B4" started.
2018-01-12 08:01:25.822 +00:00 [DBG] Connection id "0HLAPIAHA91B5" started.
2018-01-12 08:01:25.829 +00:00 [DBG] Connection id "0HLAPIAHA91B6" started.
2018-01-12 08:01:25.844 +00:00 [DBG] Connection id "0HLAPIAHA91B7" started.
2018-01-12 08:01:25.847 +00:00 [DBG] Connection id "0HLAPIAHA91B8" started.
2018-01-12 08:01:26.969 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:01:26.974 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:01:26.976 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:01:26.979 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:01:26.986 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:01:26.989 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:01:26.993 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:01:26.999 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:01:27.008 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:01:27.010 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:01:28.493 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:01:28.499 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:01:28.502 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:01:28.505 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1516.972ms
2018-01-12 08:01:28.508 +00:00 [DBG] Connection id "0HLAPIAHA91B3" completed keep alive response.
2018-01-12 08:01:28.511 +00:00 [INF] Request finished in 1541.393ms 302 
2018-01-12 08:02:04.151 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:02:04.197 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:02:04.209 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:02:04.230 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:02:04.253 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:02:04.254 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:02:04.255 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:02:04.256 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:02:04.261 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:02:04.268 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:02:04.270 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:02:04.549 +00:00 [DBG] Hosting starting
2018-01-12 08:02:04.819 +00:00 [DBG] Hosting started
2018-01-12 08:02:04.824 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:02:04.833 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:02:04.922 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" started.
2018-01-12 08:02:04.927 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" started.
2018-01-12 08:02:05.061 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" reset.
2018-01-12 08:02:05.061 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" reset.
2018-01-12 08:02:05.068 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" disconnecting.
2018-01-12 08:02:05.093 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" sending FIN.
2018-01-12 08:02:05.128 +00:00 [DBG] Connection id "0HLAPIB2GVJIE" stopped.
2018-01-12 08:02:05.237 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" disconnecting.
2018-01-12 08:02:05.269 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" sending FIN.
2018-01-12 08:02:05.278 +00:00 [DBG] Connection id "0HLAPIB2GVJIF" stopped.
2018-01-12 08:02:06.539 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" started.
2018-01-12 08:02:06.618 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:02:06.724 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:02:06.737 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:02:06.838 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:02:06.888 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:02:06.906 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:02:06.913 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:02:06.922 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:02:07.903 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:02:09.394 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1486.5886ms.
2018-01-12 08:02:09.530 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:02:09.605 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 73.6269ms.
2018-01-12 08:02:09.617 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:02:09.618 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:02:09.670 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:02:09.847 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:02:10.545 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 692.6635ms.
2018-01-12 08:02:10.561 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:02:10.563 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:02:10.611 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:02:10.626 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:02:10.687 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 3797.0616ms
2018-01-12 08:02:10.712 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" completed keep alive response.
2018-01-12 08:02:10.718 +00:00 [INF] Request finished in 4107.0393ms 200 text/html; charset=utf-8
2018-01-12 08:02:12.537 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:02:12.541 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:02:12.544 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:02:12.545 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:02:12.549 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:02:12.557 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:02:12.568 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:02:12.576 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:02:12.587 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:02:12.588 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:02:13.146 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:02:13.154 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:02:13.157 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:02:13.161 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 611.7974ms
2018-01-12 08:02:13.168 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" completed keep alive response.
2018-01-12 08:02:13.171 +00:00 [INF] Request finished in 634.441ms 302 
2018-01-12 08:02:30.402 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" received FIN.
2018-01-12 08:02:30.411 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" disconnecting.
2018-01-12 08:02:30.412 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" sending FIN.
2018-01-12 08:02:30.412 +00:00 [DBG] Connection id "0HLAPIB2GVJIG" stopped.
2018-01-12 08:39:23.185 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:39:23.263 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:39:23.284 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:39:23.304 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:39:23.331 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:39:23.332 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:39:23.333 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:39:23.335 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:39:23.340 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:39:23.350 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:39:23.353 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:39:23.713 +00:00 [DBG] Hosting starting
2018-01-12 08:39:24.025 +00:00 [DBG] Hosting started
2018-01-12 08:39:24.026 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:39:24.027 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:39:24.188 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" started.
2018-01-12 08:39:24.188 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" started.
2018-01-12 08:39:24.227 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" received FIN.
2018-01-12 08:39:24.227 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" received FIN.
2018-01-12 08:39:24.229 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" disconnecting.
2018-01-12 08:39:24.230 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" sending FIN.
2018-01-12 08:39:24.233 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" disconnecting.
2018-01-12 08:39:24.234 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" sending FIN.
2018-01-12 08:39:24.236 +00:00 [DBG] Connection id "0HLAPIVTSBQ7Q" stopped.
2018-01-12 08:39:24.236 +00:00 [DBG] Connection id "0HLAPIVTSBQ7P" stopped.
2018-01-12 08:39:26.081 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" started.
2018-01-12 08:39:26.251 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:39:26.422 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:39:26.450 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:39:26.612 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:39:26.708 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:39:26.736 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:39:26.749 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:39:26.765 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:39:28.259 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:39:30.013 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1748.6261000000002ms.
2018-01-12 08:39:30.090 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:39:30.186 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 94.6055ms.
2018-01-12 08:39:30.197 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:39:30.199 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:39:30.270 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:39:30.423 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:39:31.196 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 771.3671ms.
2018-01-12 08:39:31.216 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:39:31.219 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:39:31.241 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:39:31.242 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:39:31.303 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4589.4262ms
2018-01-12 08:39:31.409 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" completed keep alive response.
2018-01-12 08:39:31.432 +00:00 [INF] Request finished in 5188.0021ms 200 text/html; charset=utf-8
2018-01-12 08:39:36.282 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:39:36.287 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:39:36.291 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:39:36.293 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:39:36.301 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:39:36.319 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:39:36.329 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:39:36.342 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:39:36.358 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:39:36.360 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:39:38.543 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:39:38.597 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:39:38.601 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:39:38.613 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2309.973ms
2018-01-12 08:39:38.633 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" completed keep alive response.
2018-01-12 08:39:38.644 +00:00 [INF] Request finished in 2361.7371ms 302 
2018-01-12 08:39:39.469 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" received FIN.
2018-01-12 08:39:39.478 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" disconnecting.
2018-01-12 08:39:39.479 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" sending FIN.
2018-01-12 08:39:39.479 +00:00 [DBG] Connection id "0HLAPIVTSBQ7R" stopped.
2018-01-12 08:51:09.190 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:51:09.272 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:51:09.287 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:51:09.317 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:51:09.337 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:51:09.338 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:51:09.340 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:51:09.341 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:51:09.346 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:51:09.354 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:51:09.356 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:51:09.622 +00:00 [DBG] Hosting starting
2018-01-12 08:51:10.014 +00:00 [DBG] Hosting started
2018-01-12 08:51:10.014 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:51:10.016 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:51:10.094 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" started.
2018-01-12 08:51:10.132 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" received FIN.
2018-01-12 08:51:10.137 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" disconnecting.
2018-01-12 08:51:10.138 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" sending FIN.
2018-01-12 08:51:10.143 +00:00 [DBG] Connection id "0HLAPJ6G8D5KV" stopped.
2018-01-12 08:51:11.655 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" started.
2018-01-12 08:51:11.811 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:51:11.930 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:51:11.942 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:51:12.044 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:12.093 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:51:12.115 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:12.124 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:12.132 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:51:13.260 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:51:14.679 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1414.7244ms.
2018-01-12 08:51:14.766 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:51:14.910 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 142.7801ms.
2018-01-12 08:51:14.929 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:51:14.934 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:51:14.996 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:51:15.090 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:51:15.692 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 599.76690000000008ms.
2018-01-12 08:51:15.707 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:15.709 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:15.728 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:15.730 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:15.788 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 3693.1544000000004ms
2018-01-12 08:51:15.812 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" completed keep alive response.
2018-01-12 08:51:15.817 +00:00 [INF] Request finished in 4015.3483ms 200 text/html; charset=utf-8
2018-01-12 08:51:19.882 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:51:19.893 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:51:19.896 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:51:19.898 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:19.903 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:51:19.924 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:51:19.934 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:51:19.943 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:51:19.954 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:51:19.955 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:51:21.694 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:51:21.700 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:51:21.703 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:51:21.707 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1799.549ms
2018-01-12 08:51:21.711 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" completed keep alive response.
2018-01-12 08:51:21.713 +00:00 [INF] Request finished in 1830.9331ms 302 
2018-01-12 08:51:25.275 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" received FIN.
2018-01-12 08:51:25.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" disconnecting.
2018-01-12 08:51:25.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" sending FIN.
2018-01-12 08:51:25.295 +00:00 [DBG] Connection id "0HLAPJ6G8D5L0" stopped.
2018-01-12 08:51:41.600 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" started.
2018-01-12 08:51:41.609 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 08:51:41.615 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 08:51:41.627 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1", Request id "0HLAPJ6G8D5L1:00000001": started reading request body.
2018-01-12 08:51:41.631 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1", Request id "0HLAPJ6G8D5L1:00000001": done reading request body.
2018-01-12 08:51:41.645 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:51:41.648 +00:00 [VRB] MessageReceived: '?code=d3605147d7afdea9941a755278ddee915be53e490c7fa83f5a936f9a2659e67b&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NDcxMDEsImV4cCI6MTUxNTc0NzQwMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0Mzg4MTY5MDc2NzAuWXpKa1pUSXlZVGN0TURrMFpDMDBOV1JsTFdJME9HTXRaVEkxTVRBMU5UVTVPREl6TVRZMFpUUXpPREl0TkdKbU15MDBOekEwTFdGaU5tVXROemN5TVRBd09ESTJPR00xIiwiaWF0IjoxNTE1NzQ3MTAxLCJjX2hhc2giOiJqVWZadkN5ckppaWhXQUVSRFp1dWJnIiwic2lkIjoiNDM2NTVkYmIwZDJjMDVlMTczMmZmZmRjMjJhYmM4MWIiLCJzdWIiOiIzNGE5OGE1YS04Zjc0LTQ4YzUtYmI5Zi0yYzRjYTg1NGRhMDUiLCJhdXRoX3RpbWUiOjE1MTU3NDcwOTMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.CcdBWjlRCymILDVkBpkX8oicLCSLZoBAQhS9n2yN8fAoUoMjDSJ4vtQHMtoFHA14IVhGPxXtvgyPQ9dow7Fin5JaegcLjvME8vi_nFk8IAqZys3PjynIzHiZtbPlE9o9Sps_VaUj21u1cCRPkOL5nblgsvb_SFroTzQ95MUvL0hsuMCxnhlD3xZhe0dNrtjBke7mH1YM8IIW7J0LaXJsVCxjoxH0Gj8UMwNkSSauBFjiDPlqwLTq9Pvjfd5jVLQpHu39Os33WAaxEb8YkZF_aOW0quGSiajdmrD6WdQeFxgi6xebOAtsQd8AujIsym6SV7cuPtR6T7naS4pZ8gvfpQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO33eE5l_bWoKP7d4JuiNWQE5vcGw1Z7zqLftMIdMddLzT8fCrUy-Ruw-Sq064VaX9NFg81eiODWWekfn6p60vdWJqWteqyl3Kuwl_9_PE89MVZQ0Nnl-zkXuKE3tuXFI6XaqUABvW-KYU_LuSsJv3sPneWC2CQxbpQuZzWKa5gkZ8vee-cPc9Q5YMu6ossrJnInkopPFcI9YA3mPYFaW7yPJbC2QiH_cIgEZrwitW5_LGU9zY8CUTwHwNHHFodMiQG8AKKMha0BPFQNwbhL55RjZFiu-9SHV9mxrr0cH980b2LKk4Ppz7Ny8yuDrKYfXWo&session_state=nccmoUCvXQQNZPecCykIAAGg0wC05_DWr2u-W3Zu7Gs.6dc2f06163bbcf252365ea41a0144836'.
2018-01-12 08:51:41.655 +00:00 [DBG] Updating configuration
2018-01-12 08:51:41.656 +00:00 [DBG] Received 'id_token'
2018-01-12 08:51:41.716 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:51:41.718 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:51:41.723 +00:00 [VRB] Authorization code received.
2018-01-12 08:51:41.725 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 08:51:42.629 +00:00 [VRB] Token response received.
2018-01-12 08:51:42.637 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 08:51:43.188 +00:00 [VRB] User information received: {
  "sub": "34a98a5a-8f74-48c5-bb9f-2c4ca854da05",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 08:51:43.203 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:43.206 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 08:51:43.214 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" completed keep alive response.
2018-01-12 08:51:43.223 +00:00 [INF] Request finished in 1613.8946ms 302 
2018-01-12 08:51:43.232 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:51:43.239 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:43.243 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:43.248 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:51:43.249 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:43.252 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:51:43.254 +00:00 [INF] Authorization was successful for user: 34a98a5a-8f74-48c5-bb9f-2c4ca854da05.
2018-01-12 08:51:43.258 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:43.263 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:43.265 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 08:51:43.345 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 08:51:43.573 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 227.1664ms.
2018-01-12 08:51:43.577 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 08:51:43.578 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 08:51:43.594 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:43.598 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:43.604 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:51:43.606 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:43.607 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:43.608 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:43.610 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:43.613 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 360.619ms
2018-01-12 08:51:43.641 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" completed keep alive response.
2018-01-12 08:51:43.658 +00:00 [INF] Request finished in 426.3826ms 200 text/html; charset=utf-8
2018-01-12 08:51:45.278 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" received FIN.
2018-01-12 08:51:45.280 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" disconnecting.
2018-01-12 08:51:45.281 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" sending FIN.
2018-01-12 08:51:45.281 +00:00 [DBG] Connection id "0HLAPJ6G8D5L1" stopped.
2018-01-12 08:51:47.860 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" started.
2018-01-12 08:51:47.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 08:51:47.867 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:47.871 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:47.876 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 08:51:47.877 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:47.890 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 08:51:47.891 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:47.925 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:48.946 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:48.949 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 08:51:49.016 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 08:51:49.161 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 142.6237ms.
2018-01-12 08:51:49.166 +00:00 [DBG] The view 'json' was found.
2018-01-12 08:51:49.167 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 08:51:49.215 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:51:49.217 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:49.219 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:49.220 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:49.221 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:49.222 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1331.4876000000002ms
2018-01-12 08:51:49.228 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" completed keep alive response.
2018-01-12 08:51:49.229 +00:00 [INF] Request finished in 1366.2813ms 200 text/html; charset=utf-8
2018-01-12 08:51:55.280 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" received FIN.
2018-01-12 08:51:55.281 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" disconnecting.
2018-01-12 08:51:55.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" sending FIN.
2018-01-12 08:51:55.282 +00:00 [DBG] Connection id "0HLAPJ6G8D5L2" stopped.
2018-01-12 08:51:58.189 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" started.
2018-01-12 08:51:58.195 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:51:58.199 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:58.204 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:58.209 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:51:58.210 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:58.211 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:51:58.212 +00:00 [INF] Authorization was successful for user: 34a98a5a-8f74-48c5-bb9f-2c4ca854da05.
2018-01-12 08:51:58.222 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:51:58.225 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:51:58.226 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 08:51:58.227 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 08:51:58.228 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 08:51:58.233 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:58.237 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:58.241 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:51:58.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:58.244 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:58.246 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:51:58.249 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:51:58.254 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 41.2072ms
2018-01-12 08:51:58.290 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" completed keep alive response.
2018-01-12 08:51:58.297 +00:00 [INF] Request finished in 102.5787ms 200 text/html; charset=utf-8
2018-01-12 08:51:59.557 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 08:51:59.563 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 08:51:59.565 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 08:51:59.569 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 08:51:59.571 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:51:59.584 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 08:51:59.587 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:52:00.376 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:52:00.382 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 08:52:00.387 +00:00 [DBG] The view 'json' was found.
2018-01-12 08:52:00.390 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 08:52:00.395 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 08:52:00.398 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:52:00.407 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:52:00.410 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:52:00.413 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:52:00.422 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 834.9813ms
2018-01-12 08:52:00.475 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" completed keep alive response.
2018-01-12 08:52:00.477 +00:00 [INF] Request finished in 919.256ms 200 text/html; charset=utf-8
2018-01-12 08:52:04.847 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" received FIN.
2018-01-12 08:52:04.848 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" disconnecting.
2018-01-12 08:52:04.849 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" sending FIN.
2018-01-12 08:52:04.850 +00:00 [DBG] Connection id "0HLAPJ6G8D5L3" stopped.
2018-01-12 08:53:07.505 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 08:53:07.591 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 08:53:07.606 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 08:53:07.631 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 08:53:07.655 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:53:07.657 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 08:53:07.659 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 08:53:07.660 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 08:53:07.665 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 08:53:07.675 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 08:53:07.678 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 08:53:08.114 +00:00 [DBG] Hosting starting
2018-01-12 08:53:08.287 +00:00 [DBG] Hosting started
2018-01-12 08:53:08.288 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 08:53:08.289 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 08:53:08.635 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" started.
2018-01-12 08:53:08.690 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" received FIN.
2018-01-12 08:53:08.692 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" disconnecting.
2018-01-12 08:53:08.693 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" sending FIN.
2018-01-12 08:53:08.698 +00:00 [DBG] Connection id "0HLAPJ7JIT5IO" stopped.
2018-01-12 08:53:10.379 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" started.
2018-01-12 08:53:10.443 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 08:53:10.614 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:53:10.631 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 08:53:10.806 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:53:10.879 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 08:53:10.906 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 08:53:10.922 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 08:53:10.937 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 08:53:12.466 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 08:53:13.925 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1453.317ms.
2018-01-12 08:53:13.993 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 08:53:14.052 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 57.555800000000005ms.
2018-01-12 08:53:14.059 +00:00 [DBG] The view 'Index' was found.
2018-01-12 08:53:14.060 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 08:53:14.110 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 08:53:14.213 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 08:53:14.853 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 638.1497ms.
2018-01-12 08:53:14.867 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:53:14.870 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:53:14.891 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 08:53:14.892 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 08:53:14.945 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4060.3879ms
2018-01-12 08:53:15.093 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" completed keep alive response.
2018-01-12 08:53:15.106 +00:00 [INF] Request finished in 4667.4041ms 200 text/html; charset=utf-8
2018-01-12 08:53:23.873 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" received FIN.
2018-01-12 08:53:23.905 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" disconnecting.
2018-01-12 08:53:23.906 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" sending FIN.
2018-01-12 08:53:23.906 +00:00 [DBG] Connection id "0HLAPJ7JIT5IP" stopped.
2018-01-12 08:53:36.449 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" started.
2018-01-12 08:53:36.453 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 08:53:36.457 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 08:53:36.459 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 08:53:36.460 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 08:53:36.465 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 08:53:36.476 +00:00 [INF] Authorization failed for user: null.
2018-01-12 08:53:36.487 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 08:53:36.498 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 08:53:36.514 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 08:53:36.516 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 08:53:38.207 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 08:53:38.219 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 08:53:38.222 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 08:53:38.225 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1757.9895000000001ms
2018-01-12 08:53:38.229 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" completed keep alive response.
2018-01-12 08:53:38.230 +00:00 [INF] Request finished in 1777.4356ms 302 
2018-01-12 08:53:43.876 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" received FIN.
2018-01-12 08:53:43.877 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" disconnecting.
2018-01-12 08:53:43.878 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" sending FIN.
2018-01-12 08:53:43.880 +00:00 [DBG] Connection id "0HLAPJ7JIT5IQ" stopped.
2018-01-12 09:11:30.797 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:11:30.837 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:11:30.847 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:11:30.868 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:11:30.885 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:11:30.886 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:11:30.887 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:11:30.888 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:11:30.892 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:11:30.898 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:11:30.900 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:11:31.137 +00:00 [DBG] Hosting starting
2018-01-12 09:11:31.303 +00:00 [DBG] Hosting started
2018-01-12 09:11:31.303 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:11:31.304 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:11:31.665 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" started.
2018-01-12 09:11:31.665 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" started.
2018-01-12 09:11:31.701 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" received FIN.
2018-01-12 09:11:31.701 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" received FIN.
2018-01-12 09:11:31.703 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" disconnecting.
2018-01-12 09:11:31.704 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" sending FIN.
2018-01-12 09:11:31.706 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" disconnecting.
2018-01-12 09:11:31.707 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" sending FIN.
2018-01-12 09:11:31.709 +00:00 [DBG] Connection id "0HLAPJHSA7MQQ" stopped.
2018-01-12 09:11:31.710 +00:00 [DBG] Connection id "0HLAPJHSA7MQR" stopped.
2018-01-12 09:11:33.021 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" started.
2018-01-12 09:11:33.117 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:11:33.231 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:11:33.245 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:11:33.350 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:11:33.429 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:11:33.447 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:11:33.456 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:11:33.466 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:11:34.615 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:11:36.216 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1592.0861ms.
2018-01-12 09:11:36.511 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:11:36.794 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 262.69980000000004ms.
2018-01-12 09:11:36.814 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:11:36.818 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:11:36.883 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:11:37.075 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:11:37.801 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 723.8744ms.
2018-01-12 09:11:37.829 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:11:37.833 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:11:37.855 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:11:37.856 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:11:37.904 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4472.8805ms
2018-01-12 09:11:37.941 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" completed keep alive response.
2018-01-12 09:11:37.944 +00:00 [INF] Request finished in 4834.1043ms 200 text/html; charset=utf-8
2018-01-12 09:11:46.663 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:11:46.667 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:11:46.668 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:11:46.670 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:11:46.673 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:11:46.684 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:11:46.692 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:11:46.700 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:11:46.709 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:11:46.710 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:11:48.812 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:11:48.820 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:11:48.824 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:11:48.834 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2159.8355ms
2018-01-12 09:11:48.852 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" completed keep alive response.
2018-01-12 09:11:48.866 +00:00 [INF] Request finished in 2202.9336ms 302 
2018-01-12 09:11:56.874 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" received FIN.
2018-01-12 09:11:56.885 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" disconnecting.
2018-01-12 09:11:56.885 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" sending FIN.
2018-01-12 09:11:56.888 +00:00 [DBG] Connection id "0HLAPJHSA7MQS" stopped.
2018-01-12 09:12:38.491 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:12:38.566 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:12:38.586 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:12:38.615 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:12:38.640 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:12:38.642 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:12:38.644 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:12:38.647 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:12:38.652 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:12:38.659 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:12:38.661 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:12:39.417 +00:00 [DBG] Hosting starting
2018-01-12 09:12:39.606 +00:00 [DBG] Hosting started
2018-01-12 09:12:39.606 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:12:39.608 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:12:39.962 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" started.
2018-01-12 09:12:39.968 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" started.
2018-01-12 09:12:40.040 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" received FIN.
2018-01-12 09:12:40.040 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" received FIN.
2018-01-12 09:12:40.057 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" disconnecting.
2018-01-12 09:12:40.058 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" disconnecting.
2018-01-12 09:12:40.060 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" sending FIN.
2018-01-12 09:12:40.090 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" sending FIN.
2018-01-12 09:12:40.090 +00:00 [DBG] Connection id "0HLAPJIGLHQ2A" stopped.
2018-01-12 09:12:40.101 +00:00 [DBG] Connection id "0HLAPJIGLHQ29" stopped.
2018-01-12 09:12:42.498 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" started.
2018-01-12 09:12:42.682 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:12:42.825 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:12:42.857 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:12:43.075 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:12:43.140 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:12:43.160 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:12:43.172 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:12:43.199 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:12:44.781 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:12:46.901 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2113.2829ms.
2018-01-12 09:12:47.033 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:12:47.132 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 97.2836ms.
2018-01-12 09:12:47.143 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:12:47.153 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:12:47.303 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:12:47.498 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:12:48.373 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 871.54450000000008ms.
2018-01-12 09:12:48.398 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:12:48.402 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:12:48.427 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:12:48.431 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:12:48.519 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5376.7357ms
2018-01-12 09:12:48.584 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" completed keep alive response.
2018-01-12 09:12:48.654 +00:00 [INF] Request finished in 5979.6731ms 200 text/html; charset=utf-8
2018-01-12 09:12:52.617 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:12:52.622 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:12:52.624 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:12:52.625 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:12:52.630 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:12:52.640 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:12:52.649 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:12:52.657 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:12:52.666 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:12:52.670 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:12:54.650 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:12:54.658 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:12:54.665 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:12:54.670 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2038.2413000000001ms
2018-01-12 09:12:54.682 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" completed keep alive response.
2018-01-12 09:12:54.686 +00:00 [INF] Request finished in 2067.8283ms 302 
2018-01-12 09:12:55.320 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" received FIN.
2018-01-12 09:12:55.332 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" disconnecting.
2018-01-12 09:12:55.337 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" sending FIN.
2018-01-12 09:12:55.337 +00:00 [DBG] Connection id "0HLAPJIGLHQ2B" stopped.
2018-01-12 09:13:18.575 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" started.
2018-01-12 09:13:18.592 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 09:13:18.606 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 09:13:18.622 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C", Request id "0HLAPJIGLHQ2C:00000001": started reading request body.
2018-01-12 09:13:18.628 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C", Request id "0HLAPJIGLHQ2C:00000001": done reading request body.
2018-01-12 09:13:18.651 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:13:18.665 +00:00 [VRB] MessageReceived: '?code=f9271c798491b1e7ff96a158dea89d1d8efe5fba87e0f612ea8e832615fb50ee&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NDgzOTgsImV4cCI6MTUxNTc0ODY5OCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0NTE3NDY0MDY3ODkuT0RJMk5UZzRNell0TnpZd1lTMDBObUU1TFRrME16UXROREEzTmpVNFltVmxOVEl5T1dOaE5tUm1PRGt0TXpJNU5pMDBOelF5TFRsbFpUUXRaVFZpTlRnNFlXUXlNREpoIiwiaWF0IjoxNTE1NzQ4Mzk4LCJjX2hhc2giOiJWYkNFck14Z0pNY1VUcHdEMUp2eTRnIiwic2lkIjoiZjllNmU0ZmQwZGJkMThlY2RmNGVkMzgzNTE4NjZiN2YiLCJzdWIiOiI3OTI4NmNkZC04OWFhLTQ2MDEtOWRkZS1hZTM4YTNiZDYyYzUiLCJhdXRoX3RpbWUiOjE1MTU3NDgzOTcsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.grWVoSZtQYMZJ0Qp7iOXfWC5KelHA9pvDLUbmKKsvLyp3fetutJsBZFE4N9Q3rdCN43Ym5ZMb97OrucQ1qx75nrq1fqjF9m6JvAqfCU_PlYNSXCWYAQn1TpxwCKmHkCC-ydPxuUmajq9dKfTsR015LQ4x9cY_ntCuz3U1IkN0dxcBaws4qFpYBABuGnCJscpBIfunP3Rbr_OhC0R9cDyc68g9HIC2K25Zpbwb5ImwzuR05qlmHDgCJsbj4fdWriuxmel2K0zc-kAV8PMRaKYW4vjp0HudJ_BGCl_xsocBgnI47TQqK5v1GAqzBQegNV9ZzvbZrmrmCNFDdpeX7O8vA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2FmOmvO-1uO9_dgDixdEIItL6A1J1bNx0KvxhOTOloiADBTyYRJGPWSo60cFVYZLiURfzx_BMizHb1bWNgvAbhQ3XEtY23vB64oUIKlp3xm4DNO5yXDrXe6nNp9itUj0TjfZ0mSivbJMuFWo3p-xMbZEBftymGcbEkGZEeSC_tE5YORHPb7HgYF3P5tNKFvWOEOQmi1KLLs8m3ikS_7wqawL79WHNWe4MmrOuPCraK7QVYcou3lW1iq-ShsCKpS7jpjEDVnzbVAAwa-W0bshqLMYOdrD9dmSAh0CgqdGp7TJINXfjzZ8wdmagfBb_UHhI&session_state=SX2olbtNufxNpVvSI-mr-DAtWc64epIyjWAgDLNjDoQ.ac62ca3c2a8c9028f22ed497df2a6c91'.
2018-01-12 09:13:18.672 +00:00 [DBG] Updating configuration
2018-01-12 09:13:18.677 +00:00 [DBG] Received 'id_token'
2018-01-12 09:13:18.783 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:13:18.787 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:13:18.793 +00:00 [VRB] Authorization code received.
2018-01-12 09:13:18.798 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 09:13:21.009 +00:00 [VRB] Token response received.
2018-01-12 09:13:21.016 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 09:13:21.926 +00:00 [VRB] User information received: {
  "sub": "79286cdd-89aa-4601-9dde-ae38a3bd62c5",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 09:13:21.954 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:21.976 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 09:13:21.985 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" completed keep alive response.
2018-01-12 09:13:22.001 +00:00 [INF] Request finished in 3408.839ms 302 
2018-01-12 09:13:22.011 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:13:22.017 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:22.021 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:22.026 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:13:22.028 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:13:22.029 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:13:22.033 +00:00 [INF] Authorization was successful for user: 79286cdd-89aa-4601-9dde-ae38a3bd62c5.
2018-01-12 09:13:22.038 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:13:22.045 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:13:22.047 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 09:13:22.165 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 09:13:22.599 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 431.66670000000005ms.
2018-01-12 09:13:22.605 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 09:13:22.606 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 09:13:22.639 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:22.645 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:22.649 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 09:13:22.651 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:22.652 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:22.654 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:22.655 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:22.659 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 626.5342ms
2018-01-12 09:13:22.671 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" completed keep alive response.
2018-01-12 09:13:22.674 +00:00 [INF] Request finished in 662.6681ms 200 text/html; charset=utf-8
2018-01-12 09:13:25.323 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" received FIN.
2018-01-12 09:13:25.326 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" disconnecting.
2018-01-12 09:13:25.330 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" sending FIN.
2018-01-12 09:13:25.331 +00:00 [DBG] Connection id "0HLAPJIGLHQ2C" stopped.
2018-01-12 09:13:28.256 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" started.
2018-01-12 09:13:28.259 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 09:13:28.272 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:28.279 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:28.285 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 09:13:28.286 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:13:28.298 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 09:13:28.302 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:13:28.366 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:29.931 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:13:29.933 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 09:13:30.026 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 09:13:30.306 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 276.47020000000003ms.
2018-01-12 09:13:30.320 +00:00 [DBG] The view 'json' was found.
2018-01-12 09:13:30.332 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 09:13:30.435 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 09:13:30.437 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:30.438 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:30.439 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:30.442 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:30.449 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2147.5902ms
2018-01-12 09:13:30.460 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" completed keep alive response.
2018-01-12 09:13:30.470 +00:00 [INF] Request finished in 2210.7839ms 200 text/html; charset=utf-8
2018-01-12 09:13:35.324 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" received FIN.
2018-01-12 09:13:35.326 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" disconnecting.
2018-01-12 09:13:35.327 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" sending FIN.
2018-01-12 09:13:35.327 +00:00 [DBG] Connection id "0HLAPJIGLHQ2D" stopped.
2018-01-12 09:13:41.300 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" started.
2018-01-12 09:13:41.300 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" started.
2018-01-12 09:13:41.381 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" started.
2018-01-12 09:13:41.381 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" started.
2018-01-12 09:13:41.388 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" started.
2018-01-12 09:13:41.400 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" started.
2018-01-12 09:13:44.602 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 09:13:44.607 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 09:13:44.610 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 09:13:44.617 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 09:13:44.618 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:13:44.625 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 09:13:44.626 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:13:45.338 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" received FIN.
2018-01-12 09:13:45.338 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" received FIN.
2018-01-12 09:13:45.348 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" disconnecting.
2018-01-12 09:13:45.349 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" disconnecting.
2018-01-12 09:13:45.350 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" received FIN.
2018-01-12 09:13:45.352 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" disconnecting.
2018-01-12 09:13:45.354 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" received FIN.
2018-01-12 09:13:45.356 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" disconnecting.
2018-01-12 09:13:45.357 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" sending FIN.
2018-01-12 09:13:45.358 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" sending FIN.
2018-01-12 09:13:45.363 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" sending FIN.
2018-01-12 09:13:45.372 +00:00 [DBG] Connection id "0HLAPJIGLHQ2G" stopped.
2018-01-12 09:13:45.373 +00:00 [DBG] Connection id "0HLAPJIGLHQ2I" stopped.
2018-01-12 09:13:45.373 +00:00 [DBG] Connection id "0HLAPJIGLHQ2F" stopped.
2018-01-12 09:13:45.386 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" received FIN.
2018-01-12 09:13:45.389 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" disconnecting.
2018-01-12 09:13:45.390 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" sending FIN.
2018-01-12 09:13:45.392 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" sending FIN.
2018-01-12 09:13:45.398 +00:00 [DBG] Connection id "0HLAPJIGLHQ2J" stopped.
2018-01-12 09:13:45.413 +00:00 [DBG] Connection id "0HLAPJIGLHQ2H" stopped.
2018-01-12 09:13:45.503 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:13:45.507 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 09:13:45.509 +00:00 [DBG] The view 'json' was found.
2018-01-12 09:13:45.510 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 09:13:45.517 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 09:13:45.518 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:45.520 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:45.522 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:13:45.523 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:13:45.524 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 898.30810000000008ms
2018-01-12 09:13:45.538 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" completed keep alive response.
2018-01-12 09:13:45.566 +00:00 [INF] Request finished in 958.052ms 200 text/html; charset=utf-8
2018-01-12 09:13:51.225 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" received FIN.
2018-01-12 09:13:51.237 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" disconnecting.
2018-01-12 09:13:51.238 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" sending FIN.
2018-01-12 09:13:51.238 +00:00 [DBG] Connection id "0HLAPJIGLHQ2E" stopped.
2018-01-12 09:21:04.613 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:21:04.703 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:21:04.732 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:21:04.782 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:21:04.829 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:21:04.833 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:21:04.835 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:21:04.837 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:21:04.845 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:21:04.850 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:21:04.852 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:21:05.248 +00:00 [DBG] Hosting starting
2018-01-12 09:21:05.414 +00:00 [DBG] Hosting started
2018-01-12 09:21:05.415 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:21:05.417 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:21:05.720 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" started.
2018-01-12 09:21:05.720 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" started.
2018-01-12 09:21:05.764 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" received FIN.
2018-01-12 09:21:05.764 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" received FIN.
2018-01-12 09:21:05.768 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" disconnecting.
2018-01-12 09:21:05.768 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" disconnecting.
2018-01-12 09:21:05.770 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" sending FIN.
2018-01-12 09:21:05.779 +00:00 [DBG] Connection id "0HLAPJN7CQMNK" stopped.
2018-01-12 09:21:05.786 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" sending FIN.
2018-01-12 09:21:05.786 +00:00 [DBG] Connection id "0HLAPJN7CQMNJ" stopped.
2018-01-12 09:21:07.210 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" started.
2018-01-12 09:21:07.536 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:21:07.770 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:21:07.790 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:21:07.925 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:21:07.971 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:21:07.990 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:21:07.998 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:21:08.009 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:21:09.334 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:21:11.207 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 1864.6018000000001ms.
2018-01-12 09:21:11.309 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:21:11.383 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 72.6504ms.
2018-01-12 09:21:11.392 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:21:11.393 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:21:11.457 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:21:11.610 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:21:12.493 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 881.058ms.
2018-01-12 09:21:12.526 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:21:12.532 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:21:12.560 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:21:12.562 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:21:12.613 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4638.8798000000006ms
2018-01-12 09:21:12.645 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" completed keep alive response.
2018-01-12 09:21:12.653 +00:00 [INF] Request finished in 5121.5602ms 200 text/html; charset=utf-8
2018-01-12 09:21:14.308 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:21:14.314 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:21:14.316 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:21:14.318 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:21:14.325 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:21:14.340 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:21:14.359 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:21:14.376 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:21:14.403 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:21:14.408 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:21:16.469 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:21:16.482 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:21:16.485 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:21:16.493 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2166.9386ms
2018-01-12 09:21:16.498 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" completed keep alive response.
2018-01-12 09:21:16.515 +00:00 [INF] Request finished in 2207.2258ms 302 
2018-01-12 09:21:20.944 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" received FIN.
2018-01-12 09:21:20.947 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" disconnecting.
2018-01-12 09:21:20.948 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" sending FIN.
2018-01-12 09:21:20.948 +00:00 [DBG] Connection id "0HLAPJN7CQMNL" stopped.
2018-01-12 09:24:40.342 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 09:24:40.391 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 09:24:40.404 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 09:24:40.423 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 09:24:40.441 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:24:40.442 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 09:24:40.443 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 09:24:40.445 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 09:24:40.451 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 09:24:40.459 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 09:24:40.461 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 09:24:41.298 +00:00 [DBG] Hosting starting
2018-01-12 09:24:41.820 +00:00 [DBG] Hosting started
2018-01-12 09:24:41.824 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 09:24:41.825 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 09:24:41.890 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" started.
2018-01-12 09:24:41.945 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" received FIN.
2018-01-12 09:24:41.951 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" disconnecting.
2018-01-12 09:24:41.957 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" sending FIN.
2018-01-12 09:24:42.001 +00:00 [DBG] Connection id "0HLAPJP7QC4OC" stopped.
2018-01-12 09:24:44.678 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" started.
2018-01-12 09:24:44.814 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 09:24:45.021 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:24:45.060 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 09:24:45.815 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:24:45.993 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 09:24:46.013 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 09:24:46.025 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 09:24:46.036 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 09:24:47.758 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 09:24:49.900 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2134.1411000000003ms.
2018-01-12 09:24:50.043 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 09:24:50.162 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 115.0982ms.
2018-01-12 09:24:50.179 +00:00 [DBG] The view 'Index' was found.
2018-01-12 09:24:50.181 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 09:24:50.248 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 09:24:50.466 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 09:24:51.521 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1050.3999000000001ms.
2018-01-12 09:24:51.555 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:24:51.562 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:24:51.627 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 09:24:51.633 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 09:24:51.738 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5742.6568000000007ms
2018-01-12 09:24:51.790 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" completed keep alive response.
2018-01-12 09:24:51.797 +00:00 [INF] Request finished in 6989.5349ms 200 text/html; charset=utf-8
2018-01-12 09:24:57.357 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" received FIN.
2018-01-12 09:24:57.359 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" disconnecting.
2018-01-12 09:24:57.360 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" sending FIN.
2018-01-12 09:24:57.360 +00:00 [DBG] Connection id "0HLAPJP7QC4OD" stopped.
2018-01-12 09:25:07.731 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" started.
2018-01-12 09:25:07.734 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 09:25:07.739 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 09:25:07.741 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 09:25:07.743 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 09:25:07.746 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 09:25:07.756 +00:00 [INF] Authorization failed for user: null.
2018-01-12 09:25:07.764 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 09:25:07.772 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 09:25:07.781 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 09:25:07.782 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 09:25:09.890 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 09:25:09.905 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 09:25:09.914 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 09:25:09.926 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2178.4553ms
2018-01-12 09:25:09.940 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" completed keep alive response.
2018-01-12 09:25:09.951 +00:00 [INF] Request finished in 2217.3305ms 302 
2018-01-12 09:25:17.359 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" received FIN.
2018-01-12 09:25:17.362 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" disconnecting.
2018-01-12 09:25:17.363 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" sending FIN.
2018-01-12 09:25:17.363 +00:00 [DBG] Connection id "0HLAPJP7QC4OE" stopped.
2018-01-12 10:14:23.414 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:14:23.460 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:14:23.471 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:14:23.488 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:14:23.505 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:14:23.506 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:14:23.507 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:14:23.508 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:14:23.512 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:14:23.516 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:14:23.518 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:14:24.289 +00:00 [DBG] Hosting starting
2018-01-12 10:14:24.881 +00:00 [DBG] Hosting started
2018-01-12 10:14:24.882 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:14:24.884 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:14:24.999 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" started.
2018-01-12 10:14:25.060 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" received FIN.
2018-01-12 10:14:25.063 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" disconnecting.
2018-01-12 10:14:25.066 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" sending FIN.
2018-01-12 10:14:25.078 +00:00 [DBG] Connection id "0HLAPKL0RGSB3" stopped.
2018-01-12 10:14:27.604 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" started.
2018-01-12 10:14:27.702 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:14:27.846 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:14:27.866 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:14:28.023 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:14:28.125 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:14:28.161 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:14:28.182 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:14:28.199 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:14:29.748 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:14:32.817 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3062.1274000000003ms.
2018-01-12 10:14:32.896 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:14:32.966 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 68.9486ms.
2018-01-12 10:14:32.980 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:14:32.981 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:14:33.086 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:14:33.216 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:14:34.044 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 825.1472ms.
2018-01-12 10:14:34.079 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:14:34.084 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:14:34.115 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:14:34.117 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:14:34.171 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6039.3631000000005ms
2018-01-12 10:14:34.197 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" completed keep alive response.
2018-01-12 10:14:34.208 +00:00 [INF] Request finished in 6512.5113ms 200 text/html; charset=utf-8
2018-01-12 10:14:40.476 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" received FIN.
2018-01-12 10:14:40.478 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" disconnecting.
2018-01-12 10:14:40.479 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" sending FIN.
2018-01-12 10:14:40.480 +00:00 [DBG] Connection id "0HLAPKL0RGSB4" stopped.
2018-01-12 10:14:59.260 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" started.
2018-01-12 10:14:59.274 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:14:59.279 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:14:59.285 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:14:59.288 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:14:59.293 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:14:59.309 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:14:59.318 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:14:59.328 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:14:59.341 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:14:59.343 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:15:01.971 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:15:01.978 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:15:01.980 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:15:01.986 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2691.8397ms
2018-01-12 10:15:01.991 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" completed keep alive response.
2018-01-12 10:15:02.004 +00:00 [INF] Request finished in 2730.0406ms 302 
2018-01-12 10:15:10.480 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" received FIN.
2018-01-12 10:15:10.482 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" disconnecting.
2018-01-12 10:15:10.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" sending FIN.
2018-01-12 10:15:10.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB5" stopped.
2018-01-12 10:15:15.764 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" started.
2018-01-12 10:15:15.775 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 10:15:15.817 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:15:15.841 +00:00 [DBG] Connection id "0HLAPKL0RGSB6", Request id "0HLAPKL0RGSB6:00000001": started reading request body.
2018-01-12 10:15:15.846 +00:00 [DBG] Connection id "0HLAPKL0RGSB6", Request id "0HLAPKL0RGSB6:00000001": done reading request body.
2018-01-12 10:15:15.865 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:15:15.872 +00:00 [VRB] MessageReceived: '?code=a068f30cde44d2a065003c2aee53186aff671e8f322f64ee11c9f49306618656&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTIxMTUsImV4cCI6MTUxNTc1MjQxNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0ODkwMTk2MjE1ODkuTkRVMlpEbGxORGd0TnpreE5TMDBNRGhsTFdGbVlXSXRZMlZtTWpOaVpESmpPVFJtWmpZellqQmpNamd0WkdVd01TMDBZamN5TFRreE9EQXRNV1U1T1dFeFlXVmlPV0ZpIiwiaWF0IjoxNTE1NzUyMTE1LCJjX2hhc2giOiJBbDI0dkQxT3I5dVJXaEZmMFFieUFnIiwic2lkIjoiMzlmMjY1YzliZDUyZmUwZGJhMjU4NmQxYzNiN2M1ZTkiLCJzdWIiOiI4NTdkOTdlYS01NWRlLTRmZjMtYWRlNy1hM2U1ZWNhMGYxZDMiLCJhdXRoX3RpbWUiOjE1MTU3NTIxMTQsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.KnK0nVGHn38cZktrzkjFy6pa3vS5e4zT1dxIvK5fiRHLoyjNP1DlYHKTTwlajeG9n6bJxlmCkmea0IX4VBE4Vq1T3zmtssA0-f0LxTkJSMYKTB4PXohfJCCffKKte8DRXjhS8hpM3T1B0n4sfw3_SaWimOVzDOj7Xk86ZR7UgeGElJy9pIztmx3txJ9sCoOJXDExmm2F_JdWqMyn0KdHhvnNHeOjx5Jrb9N01kSnKMfV05kWzhnkob2O2j9dkMiuWDSaDdlEMuDsibdZwzahuQDmWg--jN0mNdDBF5xU_oRVzs11NDCJJ2A1lkODlsZOzkYxk6hH7blCaRAyn5xJUA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0BlQYIGrCOABJ8_dLZ-bikyZNzT4pbXf_Agms52QYNdgBRGndBB_34df_gtLsc1A6K2hrrhmhFVt8-KwDz_drKqIgFbVmLiLyeBSXsc46hbPJskEOLinxj4HKchmmb2po6cLdDgu3rM1Fs4NE7j6jznepT0vvW8Usx89v_GpK_b2zI623UVEDlOrbL0PfAmF_PSaEQ7QHr5IOjD0aOh9OzgrfnsUnrxHVB7DZMFH1Ts-p4V9XtmAAKuQ_-fi21yF3YT2teTH9L-_J0WV7s4oLYYF1BSmg8sdrCmZQzfpFm7IehjlE8Xx_Q5778AId7WYU&session_state=RoImYt8PS82sOEkmbUUFMKWENloKa5Gny6Nju0Fp29g.76f972b212aa47c14ea22e0bccadc086'.
2018-01-12 10:15:15.877 +00:00 [DBG] Updating configuration
2018-01-12 10:15:15.879 +00:00 [DBG] Received 'id_token'
2018-01-12 10:15:15.982 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:15:16.011 +00:00 [VRB] Authorization code received.
2018-01-12 10:15:16.015 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:15:18.072 +00:00 [VRB] Token response received.
2018-01-12 10:15:18.078 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:15:18.886 +00:00 [VRB] User information received: {
  "sub": "857d97ea-55de-4ff3-ade7-a3e5eca0f1d3",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:15:18.895 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:18.898 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:15:18.903 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" completed keep alive response.
2018-01-12 10:15:18.904 +00:00 [INF] Request finished in 3128.9674ms 302 
2018-01-12 10:15:18.910 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:15:18.913 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:18.915 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:18.920 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:15:18.921 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:18.922 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:15:18.924 +00:00 [INF] Authorization was successful for user: 857d97ea-55de-4ff3-ade7-a3e5eca0f1d3.
2018-01-12 10:15:18.928 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:18.931 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:18.933 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:15:19.043 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:15:19.425 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 370.5538ms.
2018-01-12 10:15:19.431 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:15:19.433 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:15:19.476 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:19.497 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:19.521 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:19.525 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:19.527 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:19.530 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:19.531 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:19.538 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 615.3223ms
2018-01-12 10:15:19.766 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" completed keep alive response.
2018-01-12 10:15:19.782 +00:00 [INF] Request finished in 872.0269ms 200 text/html; charset=utf-8
2018-01-12 10:15:20.481 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" received FIN.
2018-01-12 10:15:20.483 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" disconnecting.
2018-01-12 10:15:20.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" sending FIN.
2018-01-12 10:15:20.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB6" stopped.
2018-01-12 10:15:29.642 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" started.
2018-01-12 10:15:29.647 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:15:29.654 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:29.656 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:29.660 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:15:29.661 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:29.673 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:15:29.674 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:29.719 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:30.936 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:30.939 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:15:31.080 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:15:31.363 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 270.4046ms.
2018-01-12 10:15:31.375 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:15:31.376 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:15:31.442 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:31.443 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:31.444 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:31.445 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:31.447 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:31.448 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1774.5237000000002ms
2018-01-12 10:15:31.460 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" completed keep alive response.
2018-01-12 10:15:31.461 +00:00 [INF] Request finished in 1814.3091ms 200 text/html; charset=utf-8
2018-01-12 10:15:40.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" received FIN.
2018-01-12 10:15:40.487 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" disconnecting.
2018-01-12 10:15:40.488 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" sending FIN.
2018-01-12 10:15:40.488 +00:00 [DBG] Connection id "0HLAPKL0RGSB7" stopped.
2018-01-12 10:15:40.780 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" started.
2018-01-12 10:15:40.805 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:15:40.811 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:40.814 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:40.818 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:15:40.820 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:40.821 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:15:40.822 +00:00 [INF] Authorization was successful for user: 857d97ea-55de-4ff3-ade7-a3e5eca0f1d3.
2018-01-12 10:15:40.825 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:40.830 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:40.832 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 10:15:40.833 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:15:40.835 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:15:40.842 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:40.845 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:40.848 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:40.850 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:40.851 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:40.853 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:40.854 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:40.855 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 33.1417ms
2018-01-12 10:15:40.862 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" completed keep alive response.
2018-01-12 10:15:40.863 +00:00 [INF] Request finished in 57.7123ms 200 text/html; charset=utf-8
2018-01-12 10:15:41.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 10:15:41.871 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:41.873 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:41.878 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 10:15:41.879 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:41.889 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 10:15:41.890 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:42.510 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:42.512 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 10:15:42.514 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:15:42.515 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:15:42.522 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:42.523 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:42.525 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:42.526 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:42.527 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:42.529 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 639.0512ms
2018-01-12 10:15:42.541 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" completed keep alive response.
2018-01-12 10:15:42.545 +00:00 [INF] Request finished in 682.1668ms 200 text/html; charset=utf-8
2018-01-12 10:15:50.294 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:15:50.302 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:50.305 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:50.310 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:15:50.311 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:50.313 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:15:50.314 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:15:50.321 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:15:50.322 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:15:50.323 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:15:50.325 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:15:50.328 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:15:50.329 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:50.332 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:50.333 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:15:50.334 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:15:50.336 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 22.3106ms
2018-01-12 10:15:50.344 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" completed keep alive response.
2018-01-12 10:15:50.346 +00:00 [INF] Request finished in 51.0876ms 200 text/html; charset=utf-8
2018-01-12 10:15:50.484 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" received FIN.
2018-01-12 10:15:50.486 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" disconnecting.
2018-01-12 10:15:50.487 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" sending FIN.
2018-01-12 10:15:50.487 +00:00 [DBG] Connection id "0HLAPKL0RGSB8" stopped.
2018-01-12 10:15:51.720 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" started.
2018-01-12 10:15:51.726 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:15:51.735 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:51.742 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:51.755 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:15:51.756 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:51.760 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:15:51.762 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:51.785 +00:00 [INF] Authorization failed for user: 857d97ea-55de-4ff3-ade7-a3e5eca0f1d3.
2018-01-12 10:15:51.803 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:15:51.813 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:15:51.836 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:15:51.854 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 92.2325ms
2018-01-12 10:15:51.862 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" completed keep alive response.
2018-01-12 10:15:51.864 +00:00 [INF] Request finished in 138.3829ms 302 
2018-01-12 10:15:51.873 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:15:51.877 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:15:51.879 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:15:51.884 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:15:51.887 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:15:51.890 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:15:51.892 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:15:51.893 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:15:51.894 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" completed keep alive response.
2018-01-12 10:15:51.904 +00:00 [INF] Request finished in 30.8487ms 404 
2018-01-12 10:16:00.485 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" received FIN.
2018-01-12 10:16:00.489 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" disconnecting.
2018-01-12 10:16:00.490 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" sending FIN.
2018-01-12 10:16:00.490 +00:00 [DBG] Connection id "0HLAPKL0RGSB9" stopped.
2018-01-12 10:20:58.866 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:20:58.947 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:20:58.971 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:20:59.030 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:20:59.063 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:20:59.065 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:20:59.067 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:20:59.068 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:20:59.073 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:20:59.082 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:20:59.089 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:20:59.870 +00:00 [DBG] Hosting starting
2018-01-12 10:21:00.306 +00:00 [DBG] Hosting started
2018-01-12 10:21:00.307 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:21:00.308 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:21:00.607 +00:00 [DBG] Connection id "0HLAPKOMOB29P" started.
2018-01-12 10:21:00.705 +00:00 [DBG] Connection id "0HLAPKOMOB29P" received FIN.
2018-01-12 10:21:00.715 +00:00 [DBG] Connection id "0HLAPKOMOB29P" disconnecting.
2018-01-12 10:21:00.718 +00:00 [DBG] Connection id "0HLAPKOMOB29P" sending FIN.
2018-01-12 10:21:00.744 +00:00 [DBG] Connection id "0HLAPKOMOB29P" stopped.
2018-01-12 10:21:02.073 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" started.
2018-01-12 10:21:02.164 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:21:02.280 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:21:02.297 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:21:02.410 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:21:02.460 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:21:02.478 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:21:02.485 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:21:02.492 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:21:04.172 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:21:06.414 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2233.5201ms.
2018-01-12 10:21:06.536 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:21:06.662 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 123.3314ms.
2018-01-12 10:21:06.671 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:21:06.672 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:21:06.742 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:21:06.972 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:21:07.801 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 815.73830000000009ms.
2018-01-12 10:21:07.826 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:21:07.835 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:21:07.878 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:21:07.897 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:21:07.984 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5521.6485ms
2018-01-12 10:21:08.007 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" completed keep alive response.
2018-01-12 10:21:08.020 +00:00 [INF] Request finished in 5862.3762ms 200 text/html; charset=utf-8
2018-01-12 10:21:15.871 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" received FIN.
2018-01-12 10:21:15.873 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" disconnecting.
2018-01-12 10:21:15.874 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" sending FIN.
2018-01-12 10:21:15.874 +00:00 [DBG] Connection id "0HLAPKOMOB29Q" stopped.
2018-01-12 10:22:11.450 +00:00 [DBG] Connection id "0HLAPKOMOB29R" started.
2018-01-12 10:22:11.461 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:22:11.469 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:22:11.474 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:22:11.480 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:22:11.490 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:22:11.518 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:22:11.531 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:22:11.543 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:22:11.556 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:22:11.557 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:22:13.725 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:22:13.732 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:22:13.735 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:22:13.738 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2236.1749ms
2018-01-12 10:22:13.744 +00:00 [DBG] Connection id "0HLAPKOMOB29R" completed keep alive response.
2018-01-12 10:22:13.745 +00:00 [INF] Request finished in 2284.3817ms 302 
2018-01-12 10:22:15.889 +00:00 [DBG] Connection id "0HLAPKOMOB29R" received FIN.
2018-01-12 10:22:15.899 +00:00 [DBG] Connection id "0HLAPKOMOB29R" disconnecting.
2018-01-12 10:22:15.900 +00:00 [DBG] Connection id "0HLAPKOMOB29R" stopped.
2018-01-12 10:22:15.900 +00:00 [DBG] Connection id "0HLAPKOMOB29R" sending FIN.
2018-01-12 10:22:25.087 +00:00 [DBG] Connection id "0HLAPKOMOB29S" started.
2018-01-12 10:22:25.095 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 10:22:25.103 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:22:25.115 +00:00 [DBG] Connection id "0HLAPKOMOB29S", Request id "0HLAPKOMOB29S:00000001": started reading request body.
2018-01-12 10:22:25.121 +00:00 [DBG] Connection id "0HLAPKOMOB29S", Request id "0HLAPKOMOB29S:00000001": done reading request body.
2018-01-12 10:22:25.136 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:22:25.140 +00:00 [VRB] MessageReceived: '?code=31615c0ff1e44ad25ed2cd3cd1935d6bc9f131d4f441945aec1773cf826179ac&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTI1NDQsImV4cCI6MTUxNTc1Mjg0NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0OTMzMzcyMTE1ODMuTmpoaU9XTTVaakF0WkdFd015MDBOelE1TFRsalpESXRZMlkzWlRWaFl6YzNZekV5WWpjNE5HVmtabVF0WXpneE1TMDBZalUxTFdGak9HRXRaakV3WWpSa05HUTRPVEF5IiwiaWF0IjoxNTE1NzUyNTQ0LCJjX2hhc2giOiJKMk1kb2hUemlGajBwVjdkMjJYOU13Iiwic2lkIjoiZmVlYzY1YTlmOTFkYTFjMWExMjk2OGFhMTNlOTdhM2QiLCJzdWIiOiI3NGIzY2VmNC02MTBhLTQxYjYtYmMzMS01ZDk2ODA3NmExMWEiLCJhdXRoX3RpbWUiOjE1MTU3NTI1NDMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.Vfg0yxz_fNa-_3o8gzDJQUXB5JPGq_aMKwt-Ux750ohMeipJ2UDfFvCc4pyNLENL4qBHNHnFxXv0ZQIQ6WuvGcQwHZ6GSXOwYev83uy2J6YoNiaSHmYuKklevWBkH2VA8W2uL3uBzlLfMs8OejWjaSxAvjHPg3GQ2qVDQI-EQ-_21DKCZGsYehNuNbHvzvJdmsqA8F-xcgGEoGEvRcNfK3yVGJBO46VgM3U_lZYRxe6bG_jAkbGWntssPKcLi-BxQj9Bu1AGq9mhkMTI862oE0bs6mhr2YxXUDD5658wXr5FU6EwjBr_rvcD1S1B_CpE9EPMfaz-0iHpW9P7r6A_4w&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO09xyoOjW9-xP-_k2dwX-4ecrxqHaS7ayuTJfX-vxTk3jqZotYYfe0W_h_d3us9Kc6NQe8sUeWL930LoRjvqd9crj3zeMierYmC3nmlrZ21dzEZOdbt_gKmGFrZ38mZj0wlmnBFloNhNQwjxTlj4HwpdzqKfPy4Uzz2DcxehGcJo5Lw1vlaJF6JCLzc3MkQUqpz6J_xia-6Kw84p3X-od8eDCysQJ75YcM1yeRqKVQ2ymsD3L__1ZaOVWVA9Xq08UvYhcLMKX9lIHHKQ9caz228TwIao1F3ca87f5RWKWUaq-qhvXEyR69jm485ybL4rxs&session_state=nAM-FQOIjmGiz09cwJ93jqe_oPAaXLjzaXEibV7vpRY.f99326d44a6e93f5e02ebc3242acd06b'.
2018-01-12 10:22:25.145 +00:00 [DBG] Updating configuration
2018-01-12 10:22:25.146 +00:00 [DBG] Received 'id_token'
2018-01-12 10:22:25.228 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:22:25.233 +00:00 [VRB] Authorization code received.
2018-01-12 10:22:25.235 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:22:27.340 +00:00 [VRB] Token response received.
2018-01-12 10:22:27.346 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:22:28.114 +00:00 [VRB] User information received: {
  "sub": "74b3cef4-610a-41b6-bc31-5d968076a11a",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:22:28.124 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:22:28.129 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:22:28.135 +00:00 [DBG] Connection id "0HLAPKOMOB29S" completed keep alive response.
2018-01-12 10:22:28.137 +00:00 [INF] Request finished in 3042.9033ms 302 
2018-01-12 10:22:28.146 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:22:28.148 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:22:28.151 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:22:28.160 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:22:28.162 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:22:28.164 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:22:28.167 +00:00 [INF] Authorization was successful for user: 74b3cef4-610a-41b6-bc31-5d968076a11a.
2018-01-12 10:22:28.171 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:22:28.179 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:22:28.182 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:22:28.400 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:22:28.677 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 275.1008ms.
2018-01-12 10:22:28.682 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:22:28.684 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:22:28.706 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:22:28.712 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:22:28.718 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:22:28.719 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:22:28.721 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:22:28.722 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:22:28.724 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:22:28.730 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 563.91410000000008ms
2018-01-12 10:22:28.779 +00:00 [DBG] Connection id "0HLAPKOMOB29S" completed keep alive response.
2018-01-12 10:22:28.790 +00:00 [INF] Request finished in 644.0877ms 200 text/html; charset=utf-8
2018-01-12 10:22:35.891 +00:00 [DBG] Connection id "0HLAPKOMOB29S" received FIN.
2018-01-12 10:22:35.897 +00:00 [DBG] Connection id "0HLAPKOMOB29S" disconnecting.
2018-01-12 10:22:35.898 +00:00 [DBG] Connection id "0HLAPKOMOB29S" sending FIN.
2018-01-12 10:22:35.898 +00:00 [DBG] Connection id "0HLAPKOMOB29S" stopped.
2018-01-12 10:28:16.415 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:28:16.501 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:28:16.523 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:28:16.566 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:28:16.594 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:28:16.596 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:28:16.599 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:28:16.608 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:28:16.616 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:28:16.626 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:28:16.629 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:28:17.567 +00:00 [DBG] Hosting starting
2018-01-12 10:28:18.005 +00:00 [DBG] Hosting started
2018-01-12 10:28:18.006 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:28:18.010 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:28:18.099 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" started.
2018-01-12 10:28:18.199 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" received FIN.
2018-01-12 10:28:18.218 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" disconnecting.
2018-01-12 10:28:18.224 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" sending FIN.
2018-01-12 10:28:18.229 +00:00 [DBG] Connection id "0HLAPKSP4HOLG" stopped.
2018-01-12 10:28:20.516 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" started.
2018-01-12 10:28:20.673 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:28:20.910 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:28:20.945 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:28:21.310 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:28:21.418 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:28:21.453 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:28:21.467 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:28:21.482 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:28:24.260 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:28:27.690 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3415.6846ms.
2018-01-12 10:28:27.845 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:28:28.038 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 188.1283ms.
2018-01-12 10:28:28.051 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:28:28.053 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:28:28.157 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:28:28.494 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:28:29.777 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1259.8451ms.
2018-01-12 10:28:29.813 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:28:29.821 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:28:29.891 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:28:29.908 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:28:30.056 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8628.5501ms
2018-01-12 10:28:30.083 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" completed keep alive response.
2018-01-12 10:28:30.105 +00:00 [INF] Request finished in 9444.7472ms 200 text/html; charset=utf-8
2018-01-12 10:28:38.493 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" received FIN.
2018-01-12 10:28:38.495 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" disconnecting.
2018-01-12 10:28:38.496 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" sending FIN.
2018-01-12 10:28:38.497 +00:00 [DBG] Connection id "0HLAPKSP4HOLH" stopped.
2018-01-12 10:30:22.669 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" started.
2018-01-12 10:30:22.674 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:30:22.678 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:30:22.695 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:30:22.714 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:30:22.719 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:30:22.735 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:30:22.745 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:30:22.755 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:30:22.768 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:30:22.770 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:30:23.777 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:30:23.799 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:30:23.814 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:30:23.828 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1107.4095ms
2018-01-12 10:30:23.843 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" completed keep alive response.
2018-01-12 10:30:23.865 +00:00 [INF] Request finished in 1191.1558ms 302 
2018-01-12 10:30:28.508 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" received FIN.
2018-01-12 10:30:28.528 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" disconnecting.
2018-01-12 10:30:28.529 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" sending FIN.
2018-01-12 10:30:28.529 +00:00 [DBG] Connection id "0HLAPKSP4HOLI" stopped.
2018-01-12 10:31:05.377 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" started.
2018-01-12 10:31:05.387 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1522
2018-01-12 10:31:05.395 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:31:05.414 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ", Request id "0HLAPKSP4HOLJ:00000001": started reading request body.
2018-01-12 10:31:05.425 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ", Request id "0HLAPKSP4HOLJ:00000001": done reading request body.
2018-01-12 10:31:05.473 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:31:05.488 +00:00 [VRB] MessageReceived: '?code=d5a155d65c8acdd899a34918ff22cf8c306f194d5ed070b8edb1715918f33a95&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTMwNjUsImV4cCI6MTUxNTc1MzM2NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM0OTgyMzc2NzQwNTEuTXpCalpESTVObUl0TnpsbE5pMDBZbU5tTFdJek9XWXRNbVJpTjJObU5UTTJPRGMxWkRFeFlUa3pNREF0TldOak55MDBOMlUxTFdJek16a3RZMkl5T1RZeFlqVTFZalV4IiwiaWF0IjoxNTE1NzUzMDY0LCJjX2hhc2giOiJzTG1NekQyNmIwYm5zUVU1ZVhTM0lBIiwic2lkIjoiOWNkMzY5MTdkYmI3MDg4YTJjNmE1YmQzNzE2NmQwYzkiLCJzdWIiOiJiOTU2N2QwYS1kYzJiLTRjYjAtYjFhOC1lZTlmNGU4YWIwNDEiLCJhdXRoX3RpbWUiOjE1MTU3NTMwNjMsImlkcCI6ImxvY2FsIiwiYW1yIjpbInB3ZCJdfQ.hbgBJtLrOJFYmhXlGEgI9w8y6ErJkXOYw9kfndLDcPRepYPmTms4mn8Cf6p6qpK8IFMssy2kssYnKOcKu9iqutdSQhkWTfk1amYt1CfYSmi0j2nF0fhPsFncduHFPG6CNPx2AZxzjh36OIF1GVfneBTvjYDSy2nDbjmH4D5t4W1Kr-C8cj1TJNcEpD8WID4EKBA1ctjOzbcW3WcWcB6JHXZ02zWorj6IDx5Vs5dveqaxVhOgOsy8KWldiaSjJBdVHk2kz6fIIPeq8SY3ZJbUERGTUMHqRmsbUk0NmRtjMH9uE36RrHISCrVK1Hj2475GVhp7_23V76z28nVlzAceqA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1dB6eQ1S0jyPHNE3coXIZWsSO6HotJ_IrJHloUTxwP6kIyIsK86HI0OtakIyTpYp0x0tYiTLlUySRqRuqahBLkdIC9QrO-ZnqrE4lo4HLMMjG7xpq_PIhE4bD0KxD_Ducs3N3BNKRk8N9KGkicgSWf2nNboG2EfVLxs6Se-mo_AigV9uJeOq8CmAbtvOjNGIC1NIjIrWfK2kfqW4xOBmJnyt27np60bAD2mJiDQhf0M44yoePg63E_Iwd0L3VeDCRk_rrGOmU5pngTyPEwX8lqiHS9Nv3xT-XIucV2vjZ4DEsDMNqBrnvqozZF1bWP4AY&session_state=si0rxepF5kd5JgBJXOXjkqPtDfp6AyYwct5xH3JwSyE.9f9d8c5927ec5fd3273bb1593b142050'.
2018-01-12 10:31:05.510 +00:00 [DBG] Updating configuration
2018-01-12 10:31:05.512 +00:00 [DBG] Received 'id_token'
2018-01-12 10:31:05.636 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:31:05.653 +00:00 [VRB] Authorization code received.
2018-01-12 10:31:05.656 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:31:08.737 +00:00 [VRB] Token response received.
2018-01-12 10:31:08.752 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:31:09.834 +00:00 [VRB] User information received: {
  "sub": "b9567d0a-dc2b-4cb0-b1a8-ee9f4e8ab041",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:31:09.850 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:09.856 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:31:09.863 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" completed keep alive response.
2018-01-12 10:31:09.869 +00:00 [INF] Request finished in 4481.5007ms 302 
2018-01-12 10:31:09.881 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:31:09.889 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:09.893 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:09.898 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:31:09.901 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:09.903 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:31:09.905 +00:00 [INF] Authorization was successful for user: b9567d0a-dc2b-4cb0-b1a8-ee9f4e8ab041.
2018-01-12 10:31:09.913 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:31:09.920 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:31:09.922 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:31:10.331 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:31:10.670 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 330.75460000000004ms.
2018-01-12 10:31:10.675 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:31:10.677 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:31:10.705 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:10.711 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:10.715 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:31:10.722 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:10.724 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:10.728 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:10.736 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:10.741 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 837.4954ms
2018-01-12 10:31:10.810 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" completed keep alive response.
2018-01-12 10:31:10.821 +00:00 [INF] Request finished in 940.1977ms 200 text/html; charset=utf-8
2018-01-12 10:31:18.514 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" received FIN.
2018-01-12 10:31:18.518 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" disconnecting.
2018-01-12 10:31:18.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" sending FIN.
2018-01-12 10:31:18.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLJ" stopped.
2018-01-12 10:31:31.352 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" started.
2018-01-12 10:31:31.354 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:31:31.358 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:31.360 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:31.364 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:31:31.367 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:31.381 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:31:31.383 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:31:31.452 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:33.796 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:31:33.826 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:31:33.972 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:31:34.223 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 249.4559ms.
2018-01-12 10:31:34.229 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:31:34.230 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:31:34.290 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:31:34.293 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:34.295 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:34.296 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:34.297 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:34.299 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2915.6188ms
2018-01-12 10:31:34.325 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" completed keep alive response.
2018-01-12 10:31:34.331 +00:00 [INF] Request finished in 2976.9636ms 200 text/html; charset=utf-8
2018-01-12 10:31:38.516 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" received FIN.
2018-01-12 10:31:38.518 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" disconnecting.
2018-01-12 10:31:38.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" sending FIN.
2018-01-12 10:31:38.519 +00:00 [DBG] Connection id "0HLAPKSP4HOLK" stopped.
2018-01-12 10:31:42.211 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" started.
2018-01-12 10:31:42.219 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:31:42.224 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:42.229 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:42.237 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:31:42.240 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:42.241 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:31:42.243 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:31:42.248 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:31:42.255 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:31:42.259 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:31:42.261 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:31:42.275 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:31:42.279 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:42.280 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:42.283 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:31:42.286 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:31:42.290 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 46.697700000000005ms
2018-01-12 10:31:42.309 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" completed keep alive response.
2018-01-12 10:31:42.324 +00:00 [INF] Request finished in 104.9691ms 200 text/html; charset=utf-8
2018-01-12 10:31:43.028 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:31:43.039 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:43.041 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:43.047 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:31:43.057 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:43.062 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:31:43.066 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:43.089 +00:00 [INF] Authorization failed for user: b9567d0a-dc2b-4cb0-b1a8-ee9f4e8ab041.
2018-01-12 10:31:43.119 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:31:43.132 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:31:43.165 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:31:43.189 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 124.7518ms
2018-01-12 10:31:43.195 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" completed keep alive response.
2018-01-12 10:31:43.198 +00:00 [INF] Request finished in 170.0941ms 302 
2018-01-12 10:31:43.209 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:31:43.213 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:31:43.219 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:31:43.224 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:31:43.226 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:31:43.231 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:31:43.240 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:31:43.242 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:31:43.253 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" completed keep alive response.
2018-01-12 10:31:43.257 +00:00 [INF] Request finished in 48.8591ms 404 
2018-01-12 10:31:48.516 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" received FIN.
2018-01-12 10:31:48.522 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" disconnecting.
2018-01-12 10:31:48.523 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" sending FIN.
2018-01-12 10:31:48.523 +00:00 [DBG] Connection id "0HLAPKSP4HOLL" stopped.
2018-01-12 10:33:08.047 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:33:08.141 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:33:08.172 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:33:08.211 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:33:08.254 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:33:08.256 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:33:08.259 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:33:08.261 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:33:08.268 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:33:08.277 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:33:08.282 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:33:08.976 +00:00 [DBG] Hosting starting
2018-01-12 10:33:09.313 +00:00 [DBG] Hosting started
2018-01-12 10:33:09.319 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:33:09.321 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:33:09.435 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" started.
2018-01-12 10:33:09.435 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" started.
2018-01-12 10:33:09.495 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" received FIN.
2018-01-12 10:33:09.495 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" received FIN.
2018-01-12 10:33:09.501 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" disconnecting.
2018-01-12 10:33:09.502 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" disconnecting.
2018-01-12 10:33:09.504 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" sending FIN.
2018-01-12 10:33:09.508 +00:00 [DBG] Connection id "0HLAPKVFUV6AA" stopped.
2018-01-12 10:33:09.516 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" sending FIN.
2018-01-12 10:33:09.517 +00:00 [DBG] Connection id "0HLAPKVFUV6A9" stopped.
2018-01-12 10:33:11.824 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" started.
2018-01-12 10:33:12.244 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:33:12.505 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:33:12.534 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:33:12.757 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:33:12.879 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:33:12.905 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:33:12.917 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:33:12.932 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:33:14.495 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:33:16.786 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2279.4889000000003ms.
2018-01-12 10:33:16.895 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:33:16.987 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 90.027ms.
2018-01-12 10:33:16.997 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:33:17.001 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:33:17.077 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:33:17.456 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:33:18.431 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 962.5091ms.
2018-01-12 10:33:18.451 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:33:18.454 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:33:18.479 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:33:18.484 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:33:18.563 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5680.4127ms
2018-01-12 10:33:18.638 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" completed keep alive response.
2018-01-12 10:33:18.644 +00:00 [INF] Request finished in 6410.1788ms 200 text/html; charset=utf-8
2018-01-12 10:33:24.777 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" received FIN.
2018-01-12 10:33:24.780 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" disconnecting.
2018-01-12 10:33:24.784 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" sending FIN.
2018-01-12 10:33:24.784 +00:00 [DBG] Connection id "0HLAPKVFUV6AB" stopped.
2018-01-12 10:34:17.788 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" started.
2018-01-12 10:34:17.791 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:34:17.796 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:34:17.818 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:34:17.835 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:34:17.839 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:34:17.855 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:34:17.870 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:34:17.884 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:34:17.900 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:34:17.902 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:34:18.914 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:34:18.923 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:34:18.929 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:34:18.935 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1093.9016000000001ms
2018-01-12 10:34:18.961 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" completed keep alive response.
2018-01-12 10:34:18.968 +00:00 [INF] Request finished in 1177.2337ms 302 
2018-01-12 10:34:24.784 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" received FIN.
2018-01-12 10:34:24.786 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" disconnecting.
2018-01-12 10:34:24.787 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" sending FIN.
2018-01-12 10:34:24.787 +00:00 [DBG] Connection id "0HLAPKVFUV6AC" stopped.
2018-01-12 10:37:19.185 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:37:19.258 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:37:19.284 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:37:19.320 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:37:19.361 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:37:19.364 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:37:19.367 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:37:19.369 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:37:19.376 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:37:19.388 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:37:19.391 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:37:19.879 +00:00 [DBG] Hosting starting
2018-01-12 10:37:20.140 +00:00 [DBG] Hosting started
2018-01-12 10:37:20.142 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:37:20.143 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:37:20.495 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" started.
2018-01-12 10:37:20.570 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" received FIN.
2018-01-12 10:37:20.586 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" disconnecting.
2018-01-12 10:37:20.590 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" sending FIN.
2018-01-12 10:37:20.601 +00:00 [DBG] Connection id "0HLAPL1QP8N1B" stopped.
2018-01-12 10:37:22.148 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" started.
2018-01-12 10:37:22.631 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:37:22.864 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:37:22.916 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:37:23.241 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:37:23.361 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:37:23.407 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:37:23.429 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:37:23.447 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:37:25.934 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:37:30.295 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 4351.2583ms.
2018-01-12 10:37:30.474 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:37:30.804 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 235.33110000000002ms.
2018-01-12 10:37:30.825 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:37:30.833 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:37:30.941 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:37:31.455 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:37:33.023 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1565.6364ms.
2018-01-12 10:37:33.058 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:37:33.064 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:37:33.099 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:37:33.106 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:37:33.226 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 9841.529ms
2018-01-12 10:37:33.335 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" completed keep alive response.
2018-01-12 10:37:33.347 +00:00 [INF] Request finished in 10745.6993ms 200 text/html; charset=utf-8
2018-01-12 10:37:35.833 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" received FIN.
2018-01-12 10:37:35.836 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" disconnecting.
2018-01-12 10:37:35.838 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" sending FIN.
2018-01-12 10:37:35.838 +00:00 [DBG] Connection id "0HLAPL1QP8N1C" stopped.
2018-01-12 10:37:36.832 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" started.
2018-01-12 10:37:36.837 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:37:36.863 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:37:36.874 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:37:36.882 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:37:36.889 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:37:36.918 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:37:36.948 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:37:36.964 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:37:36.984 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:37:36.987 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:37:42.111 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:37:42.124 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:37:42.131 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:37:42.136 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 5235.1429ms
2018-01-12 10:37:42.142 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" completed keep alive response.
2018-01-12 10:37:42.147 +00:00 [INF] Request finished in 5310.4638ms 302 
2018-01-12 10:37:45.834 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" received FIN.
2018-01-12 10:37:45.840 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" disconnecting.
2018-01-12 10:37:45.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" sending FIN.
2018-01-12 10:37:45.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1D" stopped.
2018-01-12 10:37:57.541 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" started.
2018-01-12 10:37:57.603 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2426
2018-01-12 10:37:57.671 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:37:57.698 +00:00 [DBG] Connection id "0HLAPL1QP8N1E", Request id "0HLAPL1QP8N1E:00000001": started reading request body.
2018-01-12 10:37:57.715 +00:00 [DBG] Connection id "0HLAPL1QP8N1E", Request id "0HLAPL1QP8N1E:00000001": done reading request body.
2018-01-12 10:37:57.735 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:37:57.743 +00:00 [VRB] MessageReceived: '?code=2c8ef67b876086f66fa4aff97370ed51a79fd5385dfe9d79375d45e0853be6fc&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM0NzcsImV4cCI6MTUxNTc1Mzc3NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MDI2MjA5NzU5NTMuT1RJMU5HWmlaakV0TVdSaE5TMDBPREF6TFRneVlUVXRabVZpTWpabVkyRmxObVkzTURjeU5qZGpaV1F0TlRVNE1pMDBaVGN5TFRsaU5UTXRObVZpWW1Jek1EVTBZVEl6IiwiaWF0IjoxNTE1NzUzNDc3LCJhdF9oYXNoIjoiMXJYMnNHYmNaRWRQeUlOdEJYV3BVUSIsImNfaGFzaCI6ImxJUzd5X01qdEdXa0FweTFWZlZTaHciLCJzaWQiOiIxNzkwZjBjNDgzN2JhNGIwMWEzMzY3MTI3Zjk2YmQxYiIsInN1YiI6IjEzMGIxMmVjLWI0ODAtNGNkMC05NTI1LTUxZTAxODhlY2M1ZSIsImF1dGhfdGltZSI6MTUxNTc1MzQ3NSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.fX-rZIaz8olu-R3wSjbWx1MQmBjkGRb1z9ymZaOVnaCpyY-t_HWK2eB9ezJx_dhc_54ICar9uCBU2_r7fwtSEoCSHmEUhz9G2p9NGrXTqhJibeDkZEQDGFtHFK6GXD-TOffF48e-hzKp055xNbNY_denfLS2551ppj_jZTGG0IqbNPHWxkdvtsTWhdR_ppPiqzvqhl3nYtb3CoerKXIYpxsMKZ-UdDB7TXIIXK_gsFWN5QxIWvWX4xU3fJ5kJ6GBQwaabo9b8O7l7QfkP8ZGdokWWy_L1ZSGsJfV9NqZkWfQh94dohiqI7EmPWRTjSi0PvJzeHdtswQRm2noKU0CfA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM0NzcsImV4cCI6MTUxNTc1NzA3NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjEzMGIxMmVjLWI0ODAtNGNkMC05NTI1LTUxZTAxODhlY2M1ZSIsImF1dGhfdGltZSI6MTUxNTc1MzQ3NSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.dfOGjPdU8QdHHqzVYfkCpGfvW8oYZuoQVu5K1cHJMkAP6Qr5UFCBHqIpUVPZ3rxbP9uvq4wyaIJ0HlXNu-HWFeRD4iIF7syuOxhShShVUSg_4RY0XBvHvLuQEbvMXLmeXX4nZuQSDMolYPlSxSqqpKaUg9J_NZ9RkL9Ui53_4_OjRY8ZIkILHK0M_q0eWKKyu8l0p_JvI1fWbQa28M1GAeUSUuJIf5SsUMbyICvxGH7M9FJ5IphFrFen-JCOYwbGzoqJ1KYJlh0FogDl_V_tCbxEdcCRKUcEDF77KUyn01uYNCE_6_Em5gtzHlid1sAEXU3HwH5XvyHf4Rx_EsJsWg&token_type=Bearer&expires_in=3600&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO242b6vx6b5BSb9Dk6WYn3R40HtfYagcne74cy8YAEsfFN4leIhjTmh2H7j9vEvMLcpMAOLyUREDg2OVqhQrsmizcMvfLAzyiIxVPs_cZq1U-w5cYznQRgjK-189eSt2A2RE9GLvqkDRhtgaoYRO2a9Uw3LkauuR3EIDs2ifv30z9odma6BCQkPxCJR9YL-8392jO7-fzMlzRwJHtalO8r-h6rohaCv3SJDrJrC4E1HySFo85qvgudj_LXXJ81fG3DMLf98x9jsPeqlGIWxr35BJzvaY4CJ9DwGQ-05tiumKCo_rKFXlcnaSHBZMUB_heI&session_state=fNVxPlafn2UydB7NEs3SgkFCMyB5tmyXIitkuy6umkw.cf603229992dd2a8fba1a67ddf6ea4ba'.
2018-01-12 10:37:57.757 +00:00 [DBG] Updating configuration
2018-01-12 10:37:57.763 +00:00 [DBG] Received 'id_token'
2018-01-12 10:37:57.870 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:37:57.883 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:37:57.898 +00:00 [VRB] Authorization code received.
2018-01-12 10:37:57.905 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:38:01.356 +00:00 [VRB] Token response received.
2018-01-12 10:38:01.367 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:38:02.908 +00:00 [VRB] User information received: {
  "sub": "130b12ec-b480-4cd0-9525-51e0188ecc5e",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:38:02.934 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:02.942 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:38:02.964 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" completed keep alive response.
2018-01-12 10:38:02.974 +00:00 [INF] Request finished in 5371.487ms 302 
2018-01-12 10:38:02.987 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:38:02.996 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:03.004 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:03.015 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:38:03.017 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:03.019 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:38:03.022 +00:00 [INF] Authorization was successful for user: 130b12ec-b480-4cd0-9525-51e0188ecc5e.
2018-01-12 10:38:03.031 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:03.037 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:03.038 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:38:03.356 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:38:03.725 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 366.2149ms.
2018-01-12 10:38:03.737 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:38:03.754 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:38:03.790 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:03.802 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:03.808 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:03.810 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:03.814 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:03.816 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:03.817 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:03.822 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 801.15870000000007ms
2018-01-12 10:38:03.837 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" completed keep alive response.
2018-01-12 10:38:03.859 +00:00 [INF] Request finished in 871.5302ms 200 text/html; charset=utf-8
2018-01-12 10:38:05.836 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" received FIN.
2018-01-12 10:38:05.839 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" disconnecting.
2018-01-12 10:38:05.840 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" sending FIN.
2018-01-12 10:38:05.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1E" stopped.
2018-01-12 10:38:09.481 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" started.
2018-01-12 10:38:09.484 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:38:09.489 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:09.491 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:09.494 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:38:09.496 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:09.503 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:38:09.504 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:09.522 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:11.325 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:11.344 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:38:11.482 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:38:11.825 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 340.19010000000003ms.
2018-01-12 10:38:11.833 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:38:11.835 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:38:11.909 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:11.911 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:11.913 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:11.915 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:11.917 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:11.918 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2414.0815000000002ms
2018-01-12 10:38:11.973 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" completed keep alive response.
2018-01-12 10:38:12.020 +00:00 [INF] Request finished in 2535.3777ms 200 text/html; charset=utf-8
2018-01-12 10:38:15.836 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" received FIN.
2018-01-12 10:38:15.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" disconnecting.
2018-01-12 10:38:15.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" sending FIN.
2018-01-12 10:38:15.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1F" stopped.
2018-01-12 10:38:19.572 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" started.
2018-01-12 10:38:19.582 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:38:19.589 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:19.592 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:19.599 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:38:19.601 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:19.603 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:38:19.605 +00:00 [INF] Authorization was successful for user: 130b12ec-b480-4cd0-9525-51e0188ecc5e.
2018-01-12 10:38:19.611 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:19.615 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:19.617 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 10:38:19.618 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:38:19.620 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:38:19.625 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:19.630 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:19.634 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:19.635 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:19.636 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:19.637 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:19.640 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:19.641 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 36.5689ms
2018-01-12 10:38:19.651 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" completed keep alive response.
2018-01-12 10:38:19.653 +00:00 [INF] Request finished in 69.7607ms 200 text/html; charset=utf-8
2018-01-12 10:38:21.351 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 10:38:21.358 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:21.361 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:21.366 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 10:38:21.367 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:21.376 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 10:38:21.379 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:38:23.558 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:38:23.572 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 10:38:23.574 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:38:23.583 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:38:23.590 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:38:23.591 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:23.594 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:23.595 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:38:23.597 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:38:23.600 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 2221.3754ms
2018-01-12 10:38:23.609 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" completed keep alive response.
2018-01-12 10:38:23.689 +00:00 [INF] Request finished in 2337.3632ms 200 text/html; charset=utf-8
2018-01-12 10:38:25.838 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" received FIN.
2018-01-12 10:38:25.840 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" disconnecting.
2018-01-12 10:38:25.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" sending FIN.
2018-01-12 10:38:25.841 +00:00 [DBG] Connection id "0HLAPL1QP8N1G" stopped.
2018-01-12 10:38:30.853 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" started.
2018-01-12 10:38:30.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:38:30.870 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:30.872 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:30.882 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:38:30.884 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:30.890 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:38:30.891 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:30.922 +00:00 [INF] Authorization failed for user: 130b12ec-b480-4cd0-9525-51e0188ecc5e.
2018-01-12 10:38:30.925 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:38:30.932 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:38:30.946 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:38:30.949 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 58.1098ms
2018-01-12 10:38:30.952 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" completed keep alive response.
2018-01-12 10:38:30.954 +00:00 [INF] Request finished in 91.0718ms 302 
2018-01-12 10:38:30.960 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:38:30.966 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:38:30.969 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:38:30.972 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:38:30.974 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:38:30.978 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:38:30.981 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:38:30.982 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:38:30.982 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" completed keep alive response.
2018-01-12 10:38:30.984 +00:00 [INF] Request finished in 23.3058ms 404 
2018-01-12 10:38:35.839 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" received FIN.
2018-01-12 10:38:35.842 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" disconnecting.
2018-01-12 10:38:35.844 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" sending FIN.
2018-01-12 10:38:35.845 +00:00 [DBG] Connection id "0HLAPL1QP8N1H" stopped.
2018-01-12 10:40:07.497 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:40:07.592 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:40:07.620 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:40:07.679 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:40:07.788 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:40:07.799 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:40:07.803 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:40:07.807 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:40:07.816 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:40:07.834 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:40:07.838 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:40:08.446 +00:00 [DBG] Hosting starting
2018-01-12 10:40:08.896 +00:00 [DBG] Hosting started
2018-01-12 10:40:08.897 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:40:08.899 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:40:09.243 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" started.
2018-01-12 10:40:09.300 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" received FIN.
2018-01-12 10:40:09.304 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" disconnecting.
2018-01-12 10:40:09.306 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" sending FIN.
2018-01-12 10:40:09.313 +00:00 [DBG] Connection id "0HLAPL3D2I1S7" stopped.
2018-01-12 10:40:12.775 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" started.
2018-01-12 10:40:12.995 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:40:13.256 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:40:13.285 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:40:13.518 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:40:13.623 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:40:13.650 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:40:13.663 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:40:13.688 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:40:15.483 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:40:17.782 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2290.7897000000003ms.
2018-01-12 10:40:17.928 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:40:18.016 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 86.203ms.
2018-01-12 10:40:18.028 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:40:18.029 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:40:18.107 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:40:18.297 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:40:19.293 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 992.12520000000006ms.
2018-01-12 10:40:19.315 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:40:19.319 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:40:19.345 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:40:19.347 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:40:19.412 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5786.1611ms
2018-01-12 10:40:19.503 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" completed keep alive response.
2018-01-12 10:40:19.514 +00:00 [INF] Request finished in 6541.6125ms 200 text/html; charset=utf-8
2018-01-12 10:40:20.802 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:40:20.816 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:40:20.829 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:40:20.832 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:40:20.840 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:40:20.864 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:40:20.887 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:40:20.907 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:40:20.920 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:40:20.921 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:40:24.357 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:40:24.369 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:40:24.390 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:40:24.419 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3570.6244ms
2018-01-12 10:40:24.439 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" completed keep alive response.
2018-01-12 10:40:24.449 +00:00 [INF] Request finished in 3646.814ms 302 
2018-01-12 10:40:24.602 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" received FIN.
2018-01-12 10:40:24.606 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" disconnecting.
2018-01-12 10:40:24.607 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" sending FIN.
2018-01-12 10:40:24.607 +00:00 [DBG] Connection id "0HLAPL3D2I1S8" stopped.
2018-01-12 10:43:44.344 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:43:44.428 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:43:44.449 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:43:44.492 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:43:44.528 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:43:44.530 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:43:44.532 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:43:44.535 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:43:44.541 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:43:44.550 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:43:44.552 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:43:44.968 +00:00 [DBG] Hosting starting
2018-01-12 10:43:45.211 +00:00 [DBG] Hosting started
2018-01-12 10:43:45.212 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:43:45.214 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:43:45.507 +00:00 [DBG] Connection id "0HLAPL5DH13D5" started.
2018-01-12 10:43:45.554 +00:00 [DBG] Connection id "0HLAPL5DH13D5" received FIN.
2018-01-12 10:43:45.557 +00:00 [DBG] Connection id "0HLAPL5DH13D5" disconnecting.
2018-01-12 10:43:45.559 +00:00 [DBG] Connection id "0HLAPL5DH13D5" sending FIN.
2018-01-12 10:43:45.563 +00:00 [DBG] Connection id "0HLAPL5DH13D5" stopped.
2018-01-12 10:43:47.174 +00:00 [DBG] Connection id "0HLAPL5DH13D6" started.
2018-01-12 10:43:47.404 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:43:47.582 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:43:47.641 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:43:47.892 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:43:48.036 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:43:48.064 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:43:48.075 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:43:48.088 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:43:49.771 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:43:51.929 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2151.3208ms.
2018-01-12 10:43:52.060 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:43:52.173 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 110.7437ms.
2018-01-12 10:43:52.185 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:43:52.187 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:43:52.270 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:43:52.448 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:43:53.598 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1145.9072ms.
2018-01-12 10:43:53.628 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:43:53.632 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:43:53.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:43:53.673 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:43:53.782 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5739.812ms
2018-01-12 10:43:53.850 +00:00 [DBG] Connection id "0HLAPL5DH13D6" completed keep alive response.
2018-01-12 10:43:53.861 +00:00 [INF] Request finished in 6465.2268ms 200 text/html; charset=utf-8
2018-01-12 10:43:59.004 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:43:59.009 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:43:59.011 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:43:59.012 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:43:59.015 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:43:59.029 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:43:59.040 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:43:59.050 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:43:59.071 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:43:59.075 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:44:02.170 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:44:02.181 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:44:02.185 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:44:02.198 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3180.3567000000003ms
2018-01-12 10:44:02.205 +00:00 [DBG] Connection id "0HLAPL5DH13D6" completed keep alive response.
2018-01-12 10:44:02.207 +00:00 [INF] Request finished in 3203.9044ms 302 
2018-01-12 10:44:10.763 +00:00 [DBG] Connection id "0HLAPL5DH13D6" received FIN.
2018-01-12 10:44:10.770 +00:00 [DBG] Connection id "0HLAPL5DH13D6" disconnecting.
2018-01-12 10:44:10.776 +00:00 [DBG] Connection id "0HLAPL5DH13D6" sending FIN.
2018-01-12 10:44:10.781 +00:00 [DBG] Connection id "0HLAPL5DH13D6" stopped.
2018-01-12 10:45:01.432 +00:00 [DBG] Connection id "0HLAPL5DH13D7" started.
2018-01-12 10:45:01.453 +00:00 [DBG] Connection id "0HLAPL5DH13D8" started.
2018-01-12 10:45:01.453 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:45:01.462 +00:00 [DBG] Connection id "0HLAPL5DH13D9" started.
2018-01-12 10:45:01.466 +00:00 [DBG] Connection id "0HLAPL5DH13DA" started.
2018-01-12 10:45:01.517 +00:00 [DBG] Connection id "0HLAPL5DH13DB" started.
2018-01-12 10:45:01.528 +00:00 [DBG] Connection id "0HLAPL5DH13DC" started.
2018-01-12 10:45:01.535 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:45:01.543 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:45:01.545 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:01.548 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:45:01.551 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:45:01.564 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:45:01.571 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:45:01.575 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:45:01.578 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:45:01.586 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:45:01.592 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:01.594 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:01.596 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:01.600 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:01.605 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 55.282500000000006ms
2018-01-12 10:45:01.637 +00:00 [DBG] Connection id "0HLAPL5DH13D7" completed keep alive response.
2018-01-12 10:45:01.666 +00:00 [INF] Request finished in 212.6335ms 200 text/html; charset=utf-8
2018-01-12 10:45:02.867 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:45:02.878 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:45:02.880 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:45:02.881 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:02.883 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:45:02.890 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:45:02.918 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:45:02.935 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:45:02.943 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:45:02.947 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:45:02.950 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:02.953 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:45:02.956 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:45:02.964 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 75.0488ms
2018-01-12 10:45:02.997 +00:00 [DBG] Connection id "0HLAPL5DH13D7" completed keep alive response.
2018-01-12 10:45:03.003 +00:00 [INF] Request finished in 136.2273ms 302 
2018-01-12 10:45:10.773 +00:00 [DBG] Connection id "0HLAPL5DH13D9" received FIN.
2018-01-12 10:45:10.773 +00:00 [DBG] Connection id "0HLAPL5DH13D8" received FIN.
2018-01-12 10:45:10.777 +00:00 [DBG] Connection id "0HLAPL5DH13D9" disconnecting.
2018-01-12 10:45:10.778 +00:00 [DBG] Connection id "0HLAPL5DH13DB" received FIN.
2018-01-12 10:45:10.780 +00:00 [DBG] Connection id "0HLAPL5DH13DB" disconnecting.
2018-01-12 10:45:10.781 +00:00 [DBG] Connection id "0HLAPL5DH13DC" received FIN.
2018-01-12 10:45:10.782 +00:00 [DBG] Connection id "0HLAPL5DH13DC" disconnecting.
2018-01-12 10:45:10.783 +00:00 [DBG] Connection id "0HLAPL5DH13D9" sending FIN.
2018-01-12 10:45:10.785 +00:00 [DBG] Connection id "0HLAPL5DH13DB" sending FIN.
2018-01-12 10:45:10.785 +00:00 [DBG] Connection id "0HLAPL5DH13D9" stopped.
2018-01-12 10:45:10.786 +00:00 [DBG] Connection id "0HLAPL5DH13DB" stopped.
2018-01-12 10:45:10.792 +00:00 [DBG] Connection id "0HLAPL5DH13DC" sending FIN.
2018-01-12 10:45:10.793 +00:00 [DBG] Connection id "0HLAPL5DH13DC" stopped.
2018-01-12 10:45:10.802 +00:00 [DBG] Connection id "0HLAPL5DH13D8" disconnecting.
2018-01-12 10:45:10.803 +00:00 [DBG] Connection id "0HLAPL5DH13DA" received FIN.
2018-01-12 10:45:10.812 +00:00 [DBG] Connection id "0HLAPL5DH13DA" disconnecting.
2018-01-12 10:45:10.813 +00:00 [DBG] Connection id "0HLAPL5DH13D7" received FIN.
2018-01-12 10:45:10.815 +00:00 [DBG] Connection id "0HLAPL5DH13D7" disconnecting.
2018-01-12 10:45:10.816 +00:00 [DBG] Connection id "0HLAPL5DH13D8" sending FIN.
2018-01-12 10:45:10.817 +00:00 [DBG] Connection id "0HLAPL5DH13D8" stopped.
2018-01-12 10:45:10.820 +00:00 [DBG] Connection id "0HLAPL5DH13DA" sending FIN.
2018-01-12 10:45:10.820 +00:00 [DBG] Connection id "0HLAPL5DH13DA" stopped.
2018-01-12 10:45:10.825 +00:00 [DBG] Connection id "0HLAPL5DH13D7" sending FIN.
2018-01-12 10:45:10.826 +00:00 [DBG] Connection id "0HLAPL5DH13D7" stopped.
2018-01-12 10:45:16.313 +00:00 [DBG] Connection id "0HLAPL5DH13DD" started.
2018-01-12 10:45:16.329 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 10:45:16.356 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:45:16.376 +00:00 [DBG] Connection id "0HLAPL5DH13DD", Request id "0HLAPL5DH13DD:00000001": started reading request body.
2018-01-12 10:45:16.392 +00:00 [DBG] Connection id "0HLAPL5DH13DD", Request id "0HLAPL5DH13DD:00000001": done reading request body.
2018-01-12 10:45:16.431 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:45:16.512 +00:00 [VRB] MessageReceived: '?code=3e8a64e7a4e4c9da92ceb31da8d5510ea2863436a51de8e8bb7cbcc4f26f6666&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM5MTYsImV4cCI6MTUxNTc1NDIxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MDcwMjk1MDA0NDIuTmpsaE9HVTBNRE10WWpWbU1DMDBaRFl5TFRrNE5HWXRaVFJsTm1SaVl6ZzFOakJrTldGa09UUTRZbVl0TVdNeVpDMDBPVEU1TFdJeU56SXROMlV5TkdJNU9UY3daR014IiwiaWF0IjoxNTE1NzUzOTE2LCJhdF9oYXNoIjoiWWRVYUJ4bEdoaUdycEFkaEg1STZiUSIsImNfaGFzaCI6IjN1MV9BNVV0LUNoSENqMVVka0FvbGciLCJzaWQiOiJlY2UzYTBiMDczMGU3ZjAyNzlmMGY2OGE4MGYwNWZmMiIsInN1YiI6IjcxZGJlZjY5LTMyYTEtNDk0My1hMGIwLWRhYzY0Yzg0MjgzZiIsImF1dGhfdGltZSI6MTUxNTc1MzkxNCwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.hDJ_PTnAeWMeUZPgIoQy_PZlH5Rli4-sjmS5hoJwCCGg3XdRx6eTHz9XAjf4IzuyvkqBkLJYwOFtKtRZA_WbalYczdebZXgiAJ6y-9jYjCS9v9MtZqjs2zVFKba9AAn7yAAO3JIc4hqltbYBlqzEB2iywcnIWzuoUmYQuUfCoCRGybwk--ehlFnT7oYq_QxCdW6qBf5jYEh1lP-Elgbgu2huR9F6hAIzMyi_ExKrcB8qCdPpKBDA6sGbjGyTNniopDeuMJXFDzzgILnhepQqxeuXrRI9rO-r23b4YPhltsg3kZ0OMWgM-4feBLbUU1J3g-OBycVoLUk6yWSTmavjSQ&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTM5MTYsImV4cCI6MTUxNTc1NzUxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjcxZGJlZjY5LTMyYTEtNDk0My1hMGIwLWRhYzY0Yzg0MjgzZiIsImF1dGhfdGltZSI6MTUxNTc1MzkxNCwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.HCwwiGTO5LN9hcpvt_PeZ03kK-PM1CH90MkzDNpjigey3qB1T94ZeFLxKSC3otIXlk8_gApMP_UvelwXqF1YuCZsYjSqHb4OR-2XU_HzwQEr2feNrVQso1pu4CPvDiO4l1RKTrWtUXdIEPMEiHd58qC8cl07rZ0T69e6pDbTcvhoqC0-OXL3CMb-kEHjkvO0AfLg5Hr6IFeFllDOHXkiYB9n0Ee0lVLFaxxelNnROpgnufWI-2hiIBt54rbj8jpVm22KjXy9a3WJPTc4JBsL9aavFzkvkB7Qbb2QCIdPvRAr_Rd3tl0NSvXDIvXz2JgVHtXmn_QIevUOaXSRQoo_6w&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2krJGho_wX3cnzOrs_8e2ZnODsyHEQHxjlwTz5HxXoASfo8Oqohm-CNfPz1-oCnAU0FVqXGBDe2XkOkMr_7aJIOzG-o0vciYeVcUZB89Jjh9CYEGr0PF-DhONrQUfz72Y6fIUIOD4s4H02mN2hFmW4WVTZQ64WC3s3Af0a6lp8HwlY4KiNR8R7f5lb576AwUP-1yKRR597dQLTgyj8W4lf5cFrSGojyo5f4jdabH-q76vS2hYfEFUf8zCsOxWYf-deUgF8J31Po_sjeW_yLhTH9MeAqbHwyh4-jnPzhrODxRxNwXsNDcHA_gdgTylZSpQ&session_state=SnTJF_DVmly-_vlNiY7Nwn6A1AR1FfDIoX2WH3JffAc.79daae24decf713640d8da68ab213cce'.
2018-01-12 10:45:16.557 +00:00 [DBG] Updating configuration
2018-01-12 10:45:16.559 +00:00 [DBG] Received 'id_token'
2018-01-12 10:45:16.647 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.650 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.652 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.654 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:45:16.669 +00:00 [VRB] Authorization code received.
2018-01-12 10:45:16.672 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:45:19.188 +00:00 [VRB] Token response received.
2018-01-12 10:45:19.196 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:45:20.323 +00:00 [VRB] User information received: {
  "sub": "71dbef69-32a1-4943-a0b0-dac64c84283f",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:45:20.361 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:20.368 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:45:20.375 +00:00 [DBG] Connection id "0HLAPL5DH13DD" completed keep alive response.
2018-01-12 10:45:20.377 +00:00 [INF] Request finished in 4047.4643ms 302 
2018-01-12 10:45:20.385 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:45:20.390 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:20.395 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:20.399 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:45:20.400 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:20.401 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:45:20.406 +00:00 [INF] Authorization was successful for user: 71dbef69-32a1-4943-a0b0-dac64c84283f.
2018-01-12 10:45:20.411 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:45:20.417 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:45:20.418 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:45:20.568 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:45:20.935 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 363.5393ms.
2018-01-12 10:45:20.945 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:45:20.947 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:45:20.969 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:20.990 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:20.996 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:45:20.998 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:20.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:21.002 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:45:21.007 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:45:21.012 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 606.4382ms
2018-01-12 10:45:21.079 +00:00 [DBG] Connection id "0HLAPL5DH13DD" completed keep alive response.
2018-01-12 10:45:21.094 +00:00 [INF] Request finished in 709.6171ms 200 text/html; charset=utf-8
2018-01-12 10:45:30.792 +00:00 [DBG] Connection id "0HLAPL5DH13DD" received FIN.
2018-01-12 10:45:30.803 +00:00 [DBG] Connection id "0HLAPL5DH13DD" disconnecting.
2018-01-12 10:45:30.806 +00:00 [DBG] Connection id "0HLAPL5DH13DD" sending FIN.
2018-01-12 10:45:30.807 +00:00 [DBG] Connection id "0HLAPL5DH13DD" stopped.
2018-01-12 10:45:38.138 +00:00 [DBG] Connection id "0HLAPL5DH13DE" started.
2018-01-12 10:45:38.143 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 10:45:38.146 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:38.148 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:38.152 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 10:45:38.153 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:38.158 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 10:45:38.159 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:38.174 +00:00 [INF] Authorization failed for user: 71dbef69-32a1-4943-a0b0-dac64c84283f.
2018-01-12 10:45:38.177 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:45:38.183 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 10:45:38.198 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 10:45:38.202 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 43.7125ms
2018-01-12 10:45:38.208 +00:00 [DBG] Connection id "0HLAPL5DH13DE" completed keep alive response.
2018-01-12 10:45:38.209 +00:00 [INF] Request finished in 66.3864ms 302 
2018-01-12 10:45:38.216 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 10:45:38.220 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:45:38.223 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:45:38.228 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 10:45:38.230 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:45:38.235 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:45:38.240 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 10:45:38.242 +00:00 [DBG] Request did not match any routes.
2018-01-12 10:45:38.246 +00:00 [DBG] Connection id "0HLAPL5DH13DE" completed keep alive response.
2018-01-12 10:45:38.249 +00:00 [INF] Request finished in 33.3569ms 404 
2018-01-12 10:45:40.789 +00:00 [DBG] Connection id "0HLAPL5DH13DE" received FIN.
2018-01-12 10:45:40.791 +00:00 [DBG] Connection id "0HLAPL5DH13DE" disconnecting.
2018-01-12 10:45:40.792 +00:00 [DBG] Connection id "0HLAPL5DH13DE" sending FIN.
2018-01-12 10:45:40.792 +00:00 [DBG] Connection id "0HLAPL5DH13DE" stopped.
2018-01-12 10:57:51.543 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 10:57:51.655 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 10:57:51.682 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 10:57:51.717 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 10:57:51.770 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:57:51.784 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 10:57:51.788 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 10:57:51.791 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 10:57:51.803 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 10:57:51.820 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 10:57:51.838 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 10:57:53.150 +00:00 [DBG] Hosting starting
2018-01-12 10:57:53.421 +00:00 [DBG] Hosting started
2018-01-12 10:57:53.422 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 10:57:53.423 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 10:57:53.863 +00:00 [DBG] Connection id "0HLAPLDABIAT0" started.
2018-01-12 10:57:53.928 +00:00 [DBG] Connection id "0HLAPLDABIAT0" received FIN.
2018-01-12 10:57:53.930 +00:00 [DBG] Connection id "0HLAPLDABIAT0" disconnecting.
2018-01-12 10:57:53.933 +00:00 [DBG] Connection id "0HLAPLDABIAT0" sending FIN.
2018-01-12 10:57:53.938 +00:00 [DBG] Connection id "0HLAPLDABIAT0" stopped.
2018-01-12 10:57:56.249 +00:00 [DBG] Connection id "0HLAPLDABIAT1" started.
2018-01-12 10:57:56.689 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:57:56.882 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:57:56.920 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:57:57.225 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:57:57.278 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:57:57.304 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:57:57.322 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:57:57.333 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 10:57:59.322 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 10:58:01.879 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 2526.9709000000003ms.
2018-01-12 10:58:02.050 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 10:58:02.188 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 119.56660000000001ms.
2018-01-12 10:58:02.204 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:58:02.206 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:58:02.265 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 10:58:02.467 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 10:58:03.655 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1184.2099ms.
2018-01-12 10:58:03.689 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:58:03.696 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:58:03.742 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:58:03.777 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:58:03.917 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6637.7205ms
2018-01-12 10:58:03.949 +00:00 [DBG] Connection id "0HLAPLDABIAT1" completed keep alive response.
2018-01-12 10:58:03.956 +00:00 [INF] Request finished in 7277.6429ms 200 text/html; charset=utf-8
2018-01-12 10:58:09.281 +00:00 [DBG] Connection id "0HLAPLDABIAT1" received FIN.
2018-01-12 10:58:09.283 +00:00 [DBG] Connection id "0HLAPLDABIAT1" disconnecting.
2018-01-12 10:58:09.284 +00:00 [DBG] Connection id "0HLAPLDABIAT1" sending FIN.
2018-01-12 10:58:09.284 +00:00 [DBG] Connection id "0HLAPLDABIAT1" stopped.
2018-01-12 10:58:55.606 +00:00 [DBG] Connection id "0HLAPLDABIAT2" started.
2018-01-12 10:58:55.610 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:58:55.615 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 10:58:55.624 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:58:55.625 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:58:55.633 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:58:55.649 +00:00 [INF] Authorization failed for user: null.
2018-01-12 10:58:55.668 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 10:58:55.682 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 10:58:55.699 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 10:58:55.701 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 10:58:57.511 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:58:57.532 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:58:57.549 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 10:58:57.574 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1939.833ms
2018-01-12 10:58:57.595 +00:00 [DBG] Connection id "0HLAPLDABIAT2" completed keep alive response.
2018-01-12 10:58:57.619 +00:00 [INF] Request finished in 2009.1489ms 302 
2018-01-12 10:58:59.322 +00:00 [DBG] Connection id "0HLAPLDABIAT2" received FIN.
2018-01-12 10:58:59.330 +00:00 [DBG] Connection id "0HLAPLDABIAT2" disconnecting.
2018-01-12 10:58:59.331 +00:00 [DBG] Connection id "0HLAPLDABIAT2" sending FIN.
2018-01-12 10:58:59.332 +00:00 [DBG] Connection id "0HLAPLDABIAT2" stopped.
2018-01-12 10:59:15.474 +00:00 [DBG] Connection id "0HLAPLDABIAT3" started.
2018-01-12 10:59:15.488 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 10:59:15.504 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 10:59:15.546 +00:00 [DBG] Connection id "0HLAPLDABIAT3", Request id "0HLAPLDABIAT3:00000001": started reading request body.
2018-01-12 10:59:15.570 +00:00 [DBG] Connection id "0HLAPLDABIAT3", Request id "0HLAPLDABIAT3:00000001": done reading request body.
2018-01-12 10:59:15.604 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 10:59:15.615 +00:00 [VRB] MessageReceived: '?code=3e8f300cd5712cc494ca734f9df2972b6debf2e5b2976d8e06a22d8dfd885a1c&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTQ3NTUsImV4cCI6MTUxNTc1NTA1NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MTUzNzUwMTc4MzMuTURrMU9ESXlOek10TTJNNE1pMDBZbVkwTFdGaU9ERXROVFUzWTJFME56TXdOVEV4WWpRelkyVTJZbVV0WXpNek55MDBPV1ExTFRobE5qTXROVFUwWW1Wa016ZzBOalZoIiwiaWF0IjoxNTE1NzU0NzU1LCJhdF9oYXNoIjoibzlJZ05BYTRUdWtoWFJhRmRJTmdhdyIsImNfaGFzaCI6Im5LaGpWSkQ2Zm15RUxvWWlYMUVycVEiLCJzaWQiOiIzYzUyMTFkMmRkNWNhYmVlOTFlYTRjMWFlMGRiMjc5NSIsInN1YiI6ImZiNDZhZTY3LTA1MzMtNDIwZi05ZDdlLWE4ZjA4Yjg4MDdiYiIsImF1dGhfdGltZSI6MTUxNTc1NDc1MiwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.m-SspjqW-xMGwMfnJRGAHhMX4D5onan4EpI2GsE2QLVXcfgXzrATv3-HL4Ogk49aXow94cYPzu4JHZwRho4G01hBW1gzbQnFKlMwU0yypUzJ54G0xEdQsZ7IoZ-qQhIye_oGikehUCxMicb4_cSuvuvT6HaJwKzbCMyBiwNPNx4HvnIoEKN6dagRlgRhnR5H_UepwouCjF4ZqgGf4JoNvtedI4qs7jWv_x097qoIypN1qu_RdAi5hjYhD6g_ujMrGrn9vrLrR1YnOFDPd5CrOimsqyM1jvQwxRzH3FYF5KiyB6ziT-Uwkmrwoiwf-JRe3v51pvD-dIkYqpirZe3ovA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTQ3NTUsImV4cCI6MTUxNTc1ODM1NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6ImZiNDZhZTY3LTA1MzMtNDIwZi05ZDdlLWE4ZjA4Yjg4MDdiYiIsImF1dGhfdGltZSI6MTUxNTc1NDc1MiwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.CvulgZV7BdKV0b1gdYY8pqMTiOe15HSFUnwPUUReufq9QtgvzAfYvBh0uFKeiWWrtU58ppThu5MOSL3in7fCtoJesdP_x_ikpX-u8PNDLsMl0nsai4CqcdK-rh1ufDu7iWEW3T_ZXYUOqDVEJ1ZojjN1LTEY2C20iqslau_3UsNq9j9FlsORDIwGWsO6yEzfY1D89RNg_wdgbSblpaKbvb7-TrVN3dlUCO3K-8m48IsCRxFgePPogHnhPw9gtTLWnPQFUF5V_GyrFr3FhvYNkNATBqYgYUrUTWPmhqM_Ffs3kJBETrG0j5JVYz-pVAYuCF2XKK078OEo_ULQuTYMOA&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0D0iMnECjXww7-HFgrBA3frtNlRa-L1bnRdA_BfIwyUtvESuFRzT8XWayn_bJC80yRPEn5zun6sC6-2z8wnmRAqYwnHflJWp5-TLtb0JVwPCD8DVM7HfWXYbyJh-SyaDEYSYLVaA5WhweRsBul1A7ei6P-DWEjevQgLBr3_f_QzQmTQaQRx6h46eg6cOJJEO_pG7NKOSyo-Fw0r_4XlMYucHNNsZ1PlaD2n9OOE2utPe-Xdb_XRrHTPDi6Ab3MuP1-CMXTPHN9vhTYApqVW-MvwzU-nuv_hdDvtJMiHdbIfrKy-FmKlUROuKFksi7KUZI&session_state=1dk8vEiddpTpDc9wz65eeQ2OK3LLh7YZG1eL_MTesoM.fa02b68bce7dd8e0ad1f8cfa136f3026'.
2018-01-12 10:59:15.635 +00:00 [DBG] Updating configuration
2018-01-12 10:59:15.636 +00:00 [DBG] Received 'id_token'
2018-01-12 10:59:15.741 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 10:59:15.751 +00:00 [VRB] Authorization code received.
2018-01-12 10:59:15.755 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 10:59:19.214 +00:00 [VRB] Token response received.
2018-01-12 10:59:19.218 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 10:59:20.169 +00:00 [VRB] User information received: {
  "sub": "fb46ae67-0533-420f-9d7e-a8f08b8807bb",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 10:59:20.200 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:20.218 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 10:59:20.255 +00:00 [DBG] Connection id "0HLAPLDABIAT3" completed keep alive response.
2018-01-12 10:59:20.266 +00:00 [INF] Request finished in 4778.6573ms 302 
2018-01-12 10:59:20.283 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:59:20.314 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:20.321 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:20.327 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:59:20.328 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:20.329 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:59:20.331 +00:00 [INF] Authorization was successful for user: fb46ae67-0533-420f-9d7e-a8f08b8807bb.
2018-01-12 10:59:20.336 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:20.343 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:20.345 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 10:59:20.466 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 10:59:20.843 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 375.23330000000004ms.
2018-01-12 10:59:20.853 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:59:20.863 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:59:20.898 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:20.904 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:20.911 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:20.913 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:20.915 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:20.917 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:20.918 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:20.925 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 594.3139ms
2018-01-12 10:59:20.933 +00:00 [DBG] Connection id "0HLAPLDABIAT3" completed keep alive response.
2018-01-12 10:59:20.935 +00:00 [INF] Request finished in 652.4828ms 200 text/html; charset=utf-8
2018-01-12 10:59:29.323 +00:00 [DBG] Connection id "0HLAPLDABIAT3" received FIN.
2018-01-12 10:59:29.326 +00:00 [DBG] Connection id "0HLAPLDABIAT3" disconnecting.
2018-01-12 10:59:29.326 +00:00 [DBG] Connection id "0HLAPLDABIAT3" sending FIN.
2018-01-12 10:59:29.326 +00:00 [DBG] Connection id "0HLAPLDABIAT3" stopped.
2018-01-12 10:59:29.633 +00:00 [DBG] Connection id "0HLAPLDABIAT4" started.
2018-01-12 10:59:29.635 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 10:59:29.642 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:29.644 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:29.648 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 10:59:29.650 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:29.663 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 10:59:29.664 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:29.719 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:31.197 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:31.201 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 10:59:31.298 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 10:59:31.559 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 259.4071ms.
2018-01-12 10:59:31.564 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:59:31.565 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:59:31.664 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:31.669 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:31.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:31.672 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:31.674 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:31.677 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2013.1602ms
2018-01-12 10:59:31.797 +00:00 [DBG] Connection id "0HLAPLDABIAT4" completed keep alive response.
2018-01-12 10:59:31.829 +00:00 [INF] Request finished in 2194.2008ms 200 text/html; charset=utf-8
2018-01-12 10:59:39.325 +00:00 [DBG] Connection id "0HLAPLDABIAT4" received FIN.
2018-01-12 10:59:39.326 +00:00 [DBG] Connection id "0HLAPLDABIAT4" disconnecting.
2018-01-12 10:59:39.327 +00:00 [DBG] Connection id "0HLAPLDABIAT4" sending FIN.
2018-01-12 10:59:39.327 +00:00 [DBG] Connection id "0HLAPLDABIAT4" stopped.
2018-01-12 10:59:52.500 +00:00 [DBG] Connection id "0HLAPLDABIAT5" started.
2018-01-12 10:59:52.510 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 10:59:52.523 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:52.527 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:52.532 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 10:59:52.534 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:52.536 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 10:59:52.543 +00:00 [INF] Authorization was successful for user: fb46ae67-0533-420f-9d7e-a8f08b8807bb.
2018-01-12 10:59:52.547 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:52.551 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:52.552 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 10:59:52.553 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 10:59:52.555 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 10:59:52.563 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:52.566 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:52.571 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:52.576 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:52.579 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:52.580 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:52.582 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:52.586 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 42.9193ms
2018-01-12 10:59:52.597 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 10:59:52.611 +00:00 [INF] Request finished in 101.2651ms 200 text/html; charset=utf-8
2018-01-12 10:59:53.636 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 10:59:53.642 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:53.643 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:53.646 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 10:59:53.648 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:53.653 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 10:59:53.654 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:54.881 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:54.883 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 10:59:54.887 +00:00 [DBG] The view 'json' was found.
2018-01-12 10:59:54.889 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 10:59:54.902 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:54.903 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:54.905 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:54.908 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:54.912 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:54.914 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 1259.9644ms
2018-01-12 10:59:55.002 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 10:59:55.012 +00:00 [INF] Request finished in 1375.3908ms 200 text/html; charset=utf-8
2018-01-12 10:59:59.324 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 10:59:59.331 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 10:59:59.338 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 10:59:59.346 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 10:59:59.348 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 10:59:59.351 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 10:59:59.352 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 10:59:59.361 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 10:59:59.363 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 10:59:59.365 +00:00 [DBG] The view 'Index' was found.
2018-01-12 10:59:59.367 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 10:59:59.372 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 10:59:59.374 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:59.377 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:59.387 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 10:59:59.401 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 10:59:59.404 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 52.2075ms
2018-01-12 10:59:59.464 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 10:59:59.468 +00:00 [INF] Request finished in 144.3085ms 200 text/html; charset=utf-8
2018-01-12 11:00:00.353 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 11:00:00.360 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:00:00.362 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:00:00.368 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 11:00:00.369 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:00:00.372 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 11:00:00.382 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 8.4232ms
2018-01-12 11:00:00.389 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: No authentication handler is configured to authenticate for the scheme: Cookies, Token
   at Microsoft.AspNetCore.Authentication.AuthenticationService.<AuthenticateAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.<AuthenticateAsync>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.<OnAuthorizationAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-01-12 11:00:00.780 +00:00 [DBG] Connection id "0HLAPLDABIAT5" completed keep alive response.
2018-01-12 11:00:00.786 +00:00 [INF] Request finished in 432.7578ms 500 text/html; charset=utf-8
2018-01-12 11:00:09.326 +00:00 [DBG] Connection id "0HLAPLDABIAT5" received FIN.
2018-01-12 11:00:09.328 +00:00 [DBG] Connection id "0HLAPLDABIAT5" disconnecting.
2018-01-12 11:00:09.329 +00:00 [DBG] Connection id "0HLAPLDABIAT5" sending FIN.
2018-01-12 11:00:09.329 +00:00 [DBG] Connection id "0HLAPLDABIAT5" stopped.
2018-01-12 11:05:35.068 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 11:05:35.172 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 11:05:35.209 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 11:05:35.254 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 11:05:35.326 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:05:35.343 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 11:05:35.348 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:05:35.357 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 11:05:35.370 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 11:05:35.381 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 11:05:35.384 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 11:05:36.246 +00:00 [DBG] Hosting starting
2018-01-12 11:05:36.657 +00:00 [DBG] Hosting started
2018-01-12 11:05:36.658 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 11:05:36.663 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 11:05:36.910 +00:00 [DBG] Connection id "0HLAPLHKBH80C" started.
2018-01-12 11:05:37.068 +00:00 [DBG] Connection id "0HLAPLHKBH80C" received FIN.
2018-01-12 11:05:37.076 +00:00 [DBG] Connection id "0HLAPLHKBH80C" disconnecting.
2018-01-12 11:05:37.089 +00:00 [DBG] Connection id "0HLAPLHKBH80C" sending FIN.
2018-01-12 11:05:37.094 +00:00 [DBG] Connection id "0HLAPLHKBH80C" stopped.
2018-01-12 11:05:42.877 +00:00 [DBG] Connection id "0HLAPLHKBH80D" started.
2018-01-12 11:05:43.231 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 11:05:43.724 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:05:43.794 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 11:05:44.176 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:05:44.447 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 11:05:44.480 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:05:44.530 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:05:44.558 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 11:05:47.148 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 11:05:50.172 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3011.288ms.
2018-01-12 11:05:50.376 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 11:05:50.539 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 146.4779ms.
2018-01-12 11:05:50.556 +00:00 [DBG] The view 'Index' was found.
2018-01-12 11:05:50.559 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 11:05:50.743 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 11:05:50.995 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 11:05:52.506 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1508.5152ms.
2018-01-12 11:05:52.548 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:05:52.556 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:05:52.637 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:05:52.646 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:05:52.772 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8317.1125000000011ms
2018-01-12 11:05:52.916 +00:00 [DBG] Connection id "0HLAPLHKBH80D" completed keep alive response.
2018-01-12 11:05:52.949 +00:00 [INF] Request finished in 9754.8413ms 200 text/html; charset=utf-8
2018-01-12 11:06:02.486 +00:00 [DBG] Connection id "0HLAPLHKBH80D" received FIN.
2018-01-12 11:06:02.489 +00:00 [DBG] Connection id "0HLAPLHKBH80D" disconnecting.
2018-01-12 11:06:02.489 +00:00 [DBG] Connection id "0HLAPLHKBH80D" sending FIN.
2018-01-12 11:06:02.492 +00:00 [DBG] Connection id "0HLAPLHKBH80D" stopped.
2018-01-12 11:06:03.197 +00:00 [DBG] Connection id "0HLAPLHKBH80E" started.
2018-01-12 11:06:03.202 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:06:03.207 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:06:03.209 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:06:03.211 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:06:03.214 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:06:03.226 +00:00 [INF] Authorization failed for user: null.
2018-01-12 11:06:03.236 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:06:03.244 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 11:06:03.260 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 11:06:03.262 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 11:06:06.358 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:06:06.368 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:06:06.374 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 11:06:06.381 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3165.6415ms
2018-01-12 11:06:06.389 +00:00 [DBG] Connection id "0HLAPLHKBH80E" completed keep alive response.
2018-01-12 11:06:06.412 +00:00 [INF] Request finished in 3209.9568ms 302 
2018-01-12 11:06:12.487 +00:00 [DBG] Connection id "0HLAPLHKBH80E" received FIN.
2018-01-12 11:06:12.494 +00:00 [DBG] Connection id "0HLAPLHKBH80E" disconnecting.
2018-01-12 11:06:12.495 +00:00 [DBG] Connection id "0HLAPLHKBH80E" stopped.
2018-01-12 11:06:12.495 +00:00 [DBG] Connection id "0HLAPLHKBH80E" sending FIN.
2018-01-12 11:06:25.042 +00:00 [DBG] Connection id "0HLAPLHKBH80F" started.
2018-01-12 11:06:25.111 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 11:06:25.197 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 11:06:25.228 +00:00 [DBG] Connection id "0HLAPLHKBH80F", Request id "0HLAPLHKBH80F:00000001": started reading request body.
2018-01-12 11:06:25.241 +00:00 [DBG] Connection id "0HLAPLHKBH80F", Request id "0HLAPLHKBH80F:00000001": done reading request body.
2018-01-12 11:06:25.268 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:06:25.275 +00:00 [VRB] MessageReceived: '?code=f4f83226e0f61c9e0107a111552d780cc8bc010099ecdd60c96c876b3fd58e7b&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTUxODQsImV4cCI6MTUxNTc1NTQ4NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MTk2NjM0ODAwNDQuTVRBMk5qbGhPV010TnpNMk5pMDBOelEwTFdKalpUTXRNekU1WXpWbE1UYzROV1JsT0RZNE16azBNMlV0TVRGa05pMDBOVEJoTFdJeE5EZ3RNMlV5WW1NMVlURTNaV1V6IiwiaWF0IjoxNTE1NzU1MTg0LCJhdF9oYXNoIjoiamxtY2o1UFhqWC1WeVNrZUMta2ZLdyIsImNfaGFzaCI6IlRBWjRzU2tLNE9hRGxua3RYeUNrcGciLCJzaWQiOiI0YmE1NmU0OWE1ZjFhY2M5NGUxNDI2ODI4MTdiNzliMCIsInN1YiI6IjdhOTFkN2M2LWMxNzEtNGZhMS05ZWI1LWIwNGYyNzIyZjVlNCIsImF1dGhfdGltZSI6MTUxNTc1NTE4MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.poVa1EEKcxJxJdo_eQkUuSeaZn7XHRSr_lpMY966JBtkUl5LgHB8CeK4zRwAnKhYAQhPlR0p_tb5aGW3D-g9HOXPYms6lA4giMgGEr9sW_UuoZWFQQuLJsNwcYem3qCp9u69tLwoYrfSJuShwAcD4XTU5qG2drW2wVo491lt45584Di62tlIsbnGsPxER5_aYIE1j4fXXOLaB7HsSRcKocpgFW1gMk1p0jgNlzcBtGjMHHeqgPkP_k2GAlkstjmMSZFfuOHMie_4E-ln6JuNop3_xDul7dusYl4ct0JtOFEz0xM9xKarTUf3pt8X9lL6Gj0XC6zDQZzStAWNhZPNnA&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTUxODQsImV4cCI6MTUxNTc1ODc4NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjdhOTFkN2M2LWMxNzEtNGZhMS05ZWI1LWIwNGYyNzIyZjVlNCIsImF1dGhfdGltZSI6MTUxNTc1NTE4MSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.B8ooJ839SwbKRDtj6Ze2sNKmlx0zWQPdXVfB382kxvcrNtKi-_fIeQejgnsCTJjpP8Yb6zyy_pbmTLChca-Qk6YlMUUSQQ5hCrgtrQXvW9XMDRKeAX35Y58V_2zK2_UbJcUbVbE8PZ5NCRz_cn1f6O8SuhegeZITzMSoDv1Ri3EC5BFGL3waNsl6XPakQbiuzlU26ef3NNjXSdy7Lc15xgsKHUd99vPmfNBZa3e7PF6ASWUmbTuMZGaucrm5vXjjrdSrjgNvoryePR8SepzHEkXog-i2OUYfghT_t9z_adJP5lmyVywWkri3Hrd-9FzmPXRGAPjtgajQtSXG-qy_RA&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1X453dfXN2wpXyNDTa6dlib08w8IR4cSXgy-3mkuIhcBYApqwDRGWQTSF3d2suO1GeMj0UjHEws5aFumqvYvfhc-HZrMzA3JlOBZihKGluFKCzaYDHV42ZRItqoxqNhaXrByjfRIm8czrc_IIJbF5hQ8EZfFPsTeQw7Xy0bo8fnvRPjX33iegzmiLTSUsDhfTP2eK5Ypk89CeuDY1qYSviEAdqWrEtzgKAxKnYN1retPbJXMlkXCMR4BLfN00iVLieFgPKFIRFXdMm_UcLk571YDqZ7Rxo8AldHODkzN-JotTaGdCZGBhe9CQw3ZeSvyU&session_state=MtmVUPuDcY-lWeJVJSPe2nrExWWjaeWHVjoyx8HQUfY.e48ee64c20cf2826ccd94df79549b533'.
2018-01-12 11:06:25.320 +00:00 [DBG] Updating configuration
2018-01-12 11:06:25.323 +00:00 [DBG] Received 'id_token'
2018-01-12 11:06:25.489 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:06:25.511 +00:00 [VRB] Authorization code received.
2018-01-12 11:06:25.515 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 11:06:28.937 +00:00 [VRB] Token response received.
2018-01-12 11:06:28.943 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 11:06:30.412 +00:00 [VRB] User information received: {
  "sub": "7a91d7c6-c171-4fa1-9eb5-b04f2722f5e4",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 11:06:30.426 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:06:30.432 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 11:06:30.445 +00:00 [DBG] Connection id "0HLAPLHKBH80F" completed keep alive response.
2018-01-12 11:06:30.449 +00:00 [INF] Request finished in 5338.013ms 302 
2018-01-12 11:06:30.522 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:06:30.546 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:06:30.560 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:30.575 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:06:30.579 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:06:30.593 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:06:30.605 +00:00 [INF] Authorization was successful for user: 7a91d7c6-c171-4fa1-9eb5-b04f2722f5e4.
2018-01-12 11:06:30.620 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:06:30.629 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:06:30.640 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 11:06:30.914 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 11:06:31.497 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 570.9946ms.
2018-01-12 11:06:31.505 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 11:06:31.507 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 11:06:31.543 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:31.556 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:31.611 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:06:31.615 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:31.618 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:31.620 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:31.621 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:31.637 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1032.7814ms
2018-01-12 11:06:31.724 +00:00 [DBG] Connection id "0HLAPLHKBH80F" completed keep alive response.
2018-01-12 11:06:31.795 +00:00 [INF] Request finished in 1272.6571ms 200 text/html; charset=utf-8
2018-01-12 11:06:32.490 +00:00 [DBG] Connection id "0HLAPLHKBH80F" received FIN.
2018-01-12 11:06:32.492 +00:00 [DBG] Connection id "0HLAPLHKBH80F" disconnecting.
2018-01-12 11:06:32.493 +00:00 [DBG] Connection id "0HLAPLHKBH80F" sending FIN.
2018-01-12 11:06:32.493 +00:00 [DBG] Connection id "0HLAPLHKBH80F" stopped.
2018-01-12 11:06:59.675 +00:00 [DBG] Connection id "0HLAPLHKBH80G" started.
2018-01-12 11:06:59.680 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 11:06:59.691 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:06:59.693 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:06:59.704 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 11:06:59.711 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:06:59.713 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 11:06:59.724 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:06:59.743 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:06:59.745 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 11:06:59.757 +00:00 [DBG] The view 'Index' was found.
2018-01-12 11:06:59.760 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 11:06:59.769 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:06:59.770 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:59.772 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:59.774 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:06:59.775 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:06:59.786 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 56.1387ms
2018-01-12 11:06:59.839 +00:00 [DBG] Connection id "0HLAPLHKBH80G" completed keep alive response.
2018-01-12 11:06:59.849 +00:00 [INF] Request finished in 168.774ms 200 text/html; charset=utf-8
2018-01-12 11:07:00.490 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 11:07:00.495 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:07:00.498 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:07:00.506 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 11:07:00.507 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:07:00.511 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 11:07:00.512 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:07:00.542 +00:00 [INF] Authorization failed for user: 7a91d7c6-c171-4fa1-9eb5-b04f2722f5e4.
2018-01-12 11:07:00.574 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:07:00.586 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 11:07:00.612 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 11:07:00.619 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 107.6203ms
2018-01-12 11:07:00.625 +00:00 [DBG] Connection id "0HLAPLHKBH80G" completed keep alive response.
2018-01-12 11:07:00.627 +00:00 [INF] Request finished in 136.9633ms 302 
2018-01-12 11:07:00.638 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 11:07:00.643 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:07:00.646 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:07:00.655 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 11:07:00.656 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:07:00.662 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:07:00.664 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:07:00.671 +00:00 [DBG] Request did not match any routes.
2018-01-12 11:07:00.676 +00:00 [DBG] Connection id "0HLAPLHKBH80G" completed keep alive response.
2018-01-12 11:07:00.678 +00:00 [INF] Request finished in 39.9994ms 404 
2018-01-12 11:07:02.494 +00:00 [DBG] Connection id "0HLAPLHKBH80G" received FIN.
2018-01-12 11:07:02.496 +00:00 [DBG] Connection id "0HLAPLHKBH80G" disconnecting.
2018-01-12 11:07:02.497 +00:00 [DBG] Connection id "0HLAPLHKBH80G" sending FIN.
2018-01-12 11:07:02.497 +00:00 [DBG] Connection id "0HLAPLHKBH80G" stopped.
2018-01-12 11:29:48.887 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 11:29:48.989 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-12 11:29:49.041 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-12 11:29:49.097 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-12 11:29:49.175 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:29:49.201 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 11:29:49.207 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 11:29:49.210 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 11:29:49.217 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 11:29:49.226 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-12 11:29:49.240 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-12 11:29:50.093 +00:00 [DBG] Hosting starting
2018-01-12 11:29:50.551 +00:00 [DBG] Hosting started
2018-01-12 11:29:50.552 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 11:29:50.558 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 11:29:50.730 +00:00 [DBG] Connection id "0HLAPLV5K77UL" started.
2018-01-12 11:29:50.730 +00:00 [DBG] Connection id "0HLAPLV5K77UK" started.
2018-01-12 11:29:50.831 +00:00 [DBG] Connection id "0HLAPLV5K77UL" received FIN.
2018-01-12 11:29:50.831 +00:00 [DBG] Connection id "0HLAPLV5K77UK" received FIN.
2018-01-12 11:29:50.833 +00:00 [DBG] Connection id "0HLAPLV5K77UL" disconnecting.
2018-01-12 11:29:50.835 +00:00 [DBG] Connection id "0HLAPLV5K77UL" sending FIN.
2018-01-12 11:29:50.844 +00:00 [DBG] Connection id "0HLAPLV5K77UL" stopped.
2018-01-12 11:29:50.857 +00:00 [DBG] Connection id "0HLAPLV5K77UK" disconnecting.
2018-01-12 11:29:50.858 +00:00 [DBG] Connection id "0HLAPLV5K77UK" sending FIN.
2018-01-12 11:29:50.880 +00:00 [DBG] Connection id "0HLAPLV5K77UK" stopped.
2018-01-12 11:29:55.458 +00:00 [DBG] Connection id "0HLAPLV5K77UM" started.
2018-01-12 11:29:55.873 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 11:29:56.370 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:29:56.523 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 11:29:56.891 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:29:57.136 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 11:29:57.172 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:29:57.198 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:29:57.222 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 11:29:59.923 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 11:30:04.992 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 5026.9412ms.
2018-01-12 11:30:05.205 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 11:30:05.891 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 683.6426ms.
2018-01-12 11:30:05.909 +00:00 [DBG] The view 'Index' was found.
2018-01-12 11:30:05.923 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 11:30:06.248 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 11:30:06.563 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 11:30:08.189 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1618.4195ms.
2018-01-12 11:30:08.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:30:08.270 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:30:08.326 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:30:08.329 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:30:08.412 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 11264.6818ms
2018-01-12 11:30:08.483 +00:00 [DBG] Connection id "0HLAPLV5K77UM" completed keep alive response.
2018-01-12 11:30:08.516 +00:00 [INF] Request finished in 12664.0874ms 200 text/html; charset=utf-8
2018-01-12 11:30:16.246 +00:00 [DBG] Connection id "0HLAPLV5K77UM" received FIN.
2018-01-12 11:30:16.249 +00:00 [DBG] Connection id "0HLAPLV5K77UM" disconnecting.
2018-01-12 11:30:16.250 +00:00 [DBG] Connection id "0HLAPLV5K77UM" sending FIN.
2018-01-12 11:30:16.250 +00:00 [DBG] Connection id "0HLAPLV5K77UM" stopped.
2018-01-12 11:30:53.954 +00:00 [DBG] Connection id "0HLAPLV5K77UN" started.
2018-01-12 11:30:53.961 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:30:53.969 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 11:30:53.972 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:30:53.976 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:30:53.984 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:30:53.997 +00:00 [INF] Authorization failed for user: null.
2018-01-12 11:30:54.007 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:30:54.028 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 11:30:54.070 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 11:30:54.092 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 11:30:57.826 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:30:57.840 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:30:57.851 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 11:30:57.867 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3882.3512ms
2018-01-12 11:30:57.887 +00:00 [DBG] Connection id "0HLAPLV5K77UN" completed keep alive response.
2018-01-12 11:30:57.935 +00:00 [INF] Request finished in 3974.0221ms 302 
2018-01-12 11:31:06.251 +00:00 [DBG] Connection id "0HLAPLV5K77UN" received FIN.
2018-01-12 11:31:06.254 +00:00 [DBG] Connection id "0HLAPLV5K77UN" disconnecting.
2018-01-12 11:31:06.255 +00:00 [DBG] Connection id "0HLAPLV5K77UN" sending FIN.
2018-01-12 11:31:06.255 +00:00 [DBG] Connection id "0HLAPLV5K77UN" stopped.
2018-01-12 11:31:14.408 +00:00 [DBG] Connection id "0HLAPLV5K77UO" started.
2018-01-12 11:31:14.442 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 11:31:14.608 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 11:31:14.631 +00:00 [DBG] Connection id "0HLAPLV5K77UO", Request id "0HLAPLV5K77UO:00000001": started reading request body.
2018-01-12 11:31:14.642 +00:00 [DBG] Connection id "0HLAPLV5K77UO", Request id "0HLAPLV5K77UO:00000001": done reading request body.
2018-01-12 11:31:14.670 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 11:31:14.686 +00:00 [VRB] MessageReceived: '?code=69b91ce84cca360c8891795995b99e234989ed6111dc4a60d947b943dac8c28e&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTY2NzMsImV4cCI6MTUxNTc1Njk3MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM1MzQ1NzgxNjYzNTMuT1RWaFpHTTNZemt0T0RCbE1DMDBZalUwTFRnNE5UTXRNRFF5WWpBell6azRZVFpoTkdRMlpUazJNRGt0TXpGak9DMDBZakJqTFRrd05tRXRabVF5TnprM056WTJNek0wIiwiaWF0IjoxNTE1NzU2NjczLCJhdF9oYXNoIjoiMFRGQ2dPZUI3RnhNRk1TVDVRVmhodyIsImNfaGFzaCI6Ilk1OEk1RElLMXBORGd0YUV0TXFVbHciLCJzaWQiOiI5MDc3Yzc0MDk3MjM3ZmRmNWI5NjQ2ZGFmNTliYzUwZCIsInN1YiI6IjhlZTYyYTY0LTdiZTUtNDIzMC1iZTVhLTI5NzM4NTQ5ZTM2NyIsImF1dGhfdGltZSI6MTUxNTc1NjY3MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.X0hklPbFOKYF-EypNCldf0v1PRQIRmGHxpUv-U2_ycRcKLb_tMGGCSlkfb24Tplmcf-OTUMFtJ6GT1xj75lEcxj7Tw6K-lEvTrn6WZDeEo8li9FBqGlD5S39mTkO6lN5l7aaBvBfiHmZr1QuiJopf_3Nku6vnegly4lFWUSxAV4LtQhxFINbmceE_9if64iDeMGfY9bJo4EvOU8qH_jmEu5hwc3TXyZp7-s2s9cKzsNCO6BZlTSJbwiwzIHwpiDzabeHr7A_OMIHTCH-4dIDMXQ9mHi-o4KgrH61IILxum17PEndOIwsQ5r4ttNKF5JVubhNhRVBkmReEBfPhH4a7A&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NTY2NzMsImV4cCI6MTUxNTc2MDI3MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjhlZTYyYTY0LTdiZTUtNDIzMC1iZTVhLTI5NzM4NTQ5ZTM2NyIsImF1dGhfdGltZSI6MTUxNTc1NjY3MSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.R5kk4p1E0jO9QhhBQ2MNr1nsM5uXJpXZ9pqbCaiC02c7A0nhHORXWhuvPVcYbcRoKjBIjQwZEXhQDwofkqC8IXvFWKiFCZyNUrHlRDmyJJ3AmsSkjfhhDVgCvgSwM224i6RYLFB28Z2pRXYKtrem9LJ2jzLH5PlcplgDSEeSjzHpDURH2RXYZIq6u_0JBwAgLGB7UUmCvgQCg48-qeujx31vv3f65wYDHCg294DZw_7v79SBquW1NlDvvYJn-GbeGYGO90lOInz8Kgd8OtXjdLczP9I-5Q5MpaWesvB1j1sMnrzQ79bPaPTVlj8Msl1eS6bwcGf8neUG4AKc3yYsKw&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0I6T0xTmAvn_4EQKwcQfEd8VxcfajkaJZvDA_INkHhIJZ0eT5HS4ylCey5IN45C8wrsgJibwXslGBXJ6eAfITZSGNOz2ODRMGiV-sbF6oZcKbHlwr2GUp4TXFBDrAGOKHGgq_ADTaPWDhA7-9tUvv1gu4KkUlhhkQiKGVwZqKI6kL2fb1QG26ypq_0wAQqexl-6ApuHrQEU7kwfYmfoYEyHKs4ExtYt9Q-iSSafNNvjFjSCbXx3fYPDRpNI6ypC8zUpFBlHUGaGro8Yw6iT6WbfCA0EU734ehtZAEZ7jOKaQa38JMfBpzAd1cGT5ch2lw&session_state=f9CnkAQ1aXFLeIsgbOPZXVn4nAaNVlj8vqEbjM29SOs.0440c159dbfed35aa61273e40397f8a3'.
2018-01-12 11:31:14.700 +00:00 [DBG] Updating configuration
2018-01-12 11:31:14.701 +00:00 [DBG] Received 'id_token'
2018-01-12 11:31:14.899 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 11:31:14.913 +00:00 [VRB] Authorization code received.
2018-01-12 11:31:14.920 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 11:31:18.607 +00:00 [VRB] Token response received.
2018-01-12 11:31:18.619 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 11:31:19.776 +00:00 [VRB] User information received: {
  "sub": "8ee62a64-7be5-4230-be5a-29738549e367",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 11:31:19.787 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:19.795 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 11:31:19.808 +00:00 [DBG] Connection id "0HLAPLV5K77UO" completed keep alive response.
2018-01-12 11:31:19.809 +00:00 [INF] Request finished in 5367.4924ms 302 
2018-01-12 11:31:19.819 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 11:31:19.824 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:19.827 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:19.833 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 11:31:19.834 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:19.835 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 11:31:19.838 +00:00 [INF] Authorization was successful for user: 8ee62a64-7be5-4230-be5a-29738549e367.
2018-01-12 11:31:19.844 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:31:19.849 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:31:19.851 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 11:31:20.012 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 11:31:20.687 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 669.57540000000006ms.
2018-01-12 11:31:20.694 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 11:31:20.696 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 11:31:20.750 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:20.758 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:20.773 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:31:20.780 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:20.785 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:20.787 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:20.790 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:20.799 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 962.7381ms
2018-01-12 11:31:20.856 +00:00 [DBG] Connection id "0HLAPLV5K77UO" completed keep alive response.
2018-01-12 11:31:20.859 +00:00 [INF] Request finished in 1039.7587ms 200 text/html; charset=utf-8
2018-01-12 11:31:26.253 +00:00 [DBG] Connection id "0HLAPLV5K77UO" received FIN.
2018-01-12 11:31:26.255 +00:00 [DBG] Connection id "0HLAPLV5K77UO" disconnecting.
2018-01-12 11:31:26.256 +00:00 [DBG] Connection id "0HLAPLV5K77UO" sending FIN.
2018-01-12 11:31:26.256 +00:00 [DBG] Connection id "0HLAPLV5K77UO" stopped.
2018-01-12 11:31:40.718 +00:00 [DBG] Connection id "0HLAPLV5K77UP" started.
2018-01-12 11:31:40.724 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 11:31:40.734 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:40.737 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:40.745 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 11:31:40.747 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:40.758 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 11:31:40.761 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 11:31:40.831 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:42.919 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 11:31:42.922 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 11:31:43.103 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 11:31:43.457 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\json.cshtml' completed in 343.1822ms.
2018-01-12 11:31:43.464 +00:00 [DBG] The view 'json' was found.
2018-01-12 11:31:43.465 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 11:31:43.530 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 11:31:43.533 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:43.534 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:43.537 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 11:31:43.538 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 11:31:43.541 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 2780.0485000000003ms
2018-01-12 11:31:43.629 +00:00 [DBG] Connection id "0HLAPLV5K77UP" completed keep alive response.
2018-01-12 11:31:43.633 +00:00 [INF] Request finished in 2908.4956ms 200 text/html; charset=utf-8
2018-01-12 11:31:46.255 +00:00 [DBG] Connection id "0HLAPLV5K77UP" received FIN.
2018-01-12 11:31:46.258 +00:00 [DBG] Connection id "0HLAPLV5K77UP" disconnecting.
2018-01-12 11:31:46.260 +00:00 [DBG] Connection id "0HLAPLV5K77UP" sending FIN.
2018-01-12 11:31:46.261 +00:00 [DBG] Connection id "0HLAPLV5K77UP" stopped.
2018-01-12 11:31:53.490 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" started.
2018-01-12 11:31:53.515 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 11:31:53.525 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:53.529 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:53.538 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 11:31:53.539 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:53.542 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 11:31:53.545 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:53.581 +00:00 [INF] Authorization failed for user: 8ee62a64-7be5-4230-be5a-29738549e367.
2018-01-12 11:31:53.590 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 11:31:53.605 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-12 11:31:53.625 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-12 11:31:53.631 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 86.94ms
2018-01-12 11:31:53.636 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" completed keep alive response.
2018-01-12 11:31:53.638 +00:00 [INF] Request finished in 123.2239ms 302 
2018-01-12 11:31:53.647 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-12 11:31:53.652 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 11:31:53.656 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 11:31:53.660 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-12 11:31:53.662 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 11:31:53.669 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:31:53.671 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-12 11:31:53.673 +00:00 [DBG] Request did not match any routes.
2018-01-12 11:31:53.674 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" completed keep alive response.
2018-01-12 11:31:53.680 +00:00 [INF] Request finished in 28.1257ms 404 
2018-01-12 11:31:56.257 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" received FIN.
2018-01-12 11:31:56.260 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" disconnecting.
2018-01-12 11:31:56.261 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" sending FIN.
2018-01-12 11:31:56.261 +00:00 [DBG] Connection id "0HLAPLV5K77UQ" stopped.
2018-01-12 17:46:17.640 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 17:46:17.670 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 17:46:17.678 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 17:46:17.692 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 17:46:17.709 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 17:46:17.709 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 17:46:17.711 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 17:46:17.711 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 17:46:17.714 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 17:46:17.717 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 17:46:17.718 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 17:46:17.959 +00:00 [DBG] Hosting starting
2018-01-12 17:46:20.947 +00:00 [DBG] Hosting started
2018-01-12 17:46:20.947 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 17:46:20.947 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 17:46:20.947 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 17:46:20.955 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" started.
2018-01-12 17:46:20.955 +00:00 [DBG] Connection id "0HLAPSHI1FHL2" started.
2018-01-12 17:46:20.976 +00:00 [DBG] Connection id "0HLAPSHI1FHL2" reset.
2018-01-12 17:46:20.976 +00:00 [DBG] Connection id "0HLAPSHI1FHL2" disconnecting.
2018-01-12 17:46:20.977 +00:00 [DBG] Connection id "0HLAPSHI1FHL2" sending FIN.
2018-01-12 17:46:20.989 +00:00 [DBG] Connection id "0HLAPSHI1FHL2" stopped.
2018-01-12 17:46:21.016 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 17:46:21.097 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:21.105 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 17:46:21.188 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 17:46:21.223 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 17:46:21.232 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 17:46:21.236 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 17:46:21.241 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 17:46:21.945 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 17:46:22.926 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 978.58070000000009ms.
2018-01-12 17:46:22.972 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 17:46:23.025 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 52.5656ms.
2018-01-12 17:46:23.030 +00:00 [DBG] The view 'Index' was found.
2018-01-12 17:46:23.030 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 17:46:23.070 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 17:46:23.134 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 17:46:23.511 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 376.7328ms.
2018-01-12 17:46:23.521 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 17:46:23.522 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 17:46:23.534 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 17:46:23.535 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 17:46:23.570 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2346.6445000000003ms
2018-01-12 17:46:23.576 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" completed keep alive response.
2018-01-12 17:46:23.581 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" started.
2018-01-12 17:46:23.585 +00:00 [DBG] Connection id "0HLAPSHI1FHL5" started.
2018-01-12 17:46:23.586 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" started.
2018-01-12 17:46:23.586 +00:00 [DBG] Connection id "0HLAPSHI1FHL7" started.
2018-01-12 17:46:23.587 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 17:46:23.587 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 17:46:23.587 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 17:46:23.587 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 17:46:23.633 +00:00 [INF] Request finished in 2572.7921ms 200 text/html; charset=utf-8
2018-01-12 17:46:23.633 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:23.633 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:23.633 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:23.635 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:23.637 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-12 17:46:23.637 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-12 17:46:23.637 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-12 17:46:23.637 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-12 17:46:23.653 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" completed keep alive response.
2018-01-12 17:46:23.654 +00:00 [INF] Request finished in 67.1677ms 200 application/javascript
2018-01-12 17:46:23.660 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" completed keep alive response.
2018-01-12 17:46:23.660 +00:00 [INF] Request finished in 73.2014ms 200 text/css
2018-01-12 17:46:23.693 +00:00 [DBG] Connection id "0HLAPSHI1FHL7" completed keep alive response.
2018-01-12 17:46:23.693 +00:00 [DBG] Connection id "0HLAPSHI1FHL5" completed keep alive response.
2018-01-12 17:46:23.693 +00:00 [INF] Request finished in 106.6711ms 200 application/javascript
2018-01-12 17:46:23.693 +00:00 [INF] Request finished in 106.7212ms 200 application/javascript
2018-01-12 17:46:23.784 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 17:46:23.787 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:23.787 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-12 17:46:23.792 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" completed keep alive response.
2018-01-12 17:46:23.792 +00:00 [INF] Request finished in 7.3362ms 200 text/css
2018-01-12 17:46:23.898 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-12 17:46:23.900 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:23.901 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\favicon.ico'
2018-01-12 17:46:23.903 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" completed keep alive response.
2018-01-12 17:46:23.903 +00:00 [INF] Request finished in 4.7615ms 200 image/x-icon
2018-01-12 17:46:26.654 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 17:46:26.656 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 17:46:26.656 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 17:46:26.656 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 17:46:26.658 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 17:46:26.664 +00:00 [INF] Authorization failed for user: null.
2018-01-12 17:46:26.669 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 17:46:26.674 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 17:46:26.679 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 17:46:26.679 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 17:46:27.586 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 17:46:27.588 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 17:46:27.589 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 17:46:27.592 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 933.7291ms
2018-01-12 17:46:27.595 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" completed keep alive response.
2018-01-12 17:46:27.595 +00:00 [INF] Request finished in 941.2034ms 302 
2018-01-12 17:48:08.712 +00:00 [DBG] Connection id "0HLAPSHI1FHL5" received FIN.
2018-01-12 17:48:08.712 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" received FIN.
2018-01-12 17:48:08.712 +00:00 [DBG] Connection id "0HLAPSHI1FHL7" received FIN.
2018-01-12 17:48:08.712 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" received FIN.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL7" disconnecting.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL5" disconnecting.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" disconnecting.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" disconnecting.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" sending FIN.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" sending FIN.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL4" stopped.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL6" stopped.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL5" stopped.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" received FIN.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" disconnecting.
2018-01-12 17:48:08.713 +00:00 [DBG] Connection id "0HLAPSHI1FHL5" sending FIN.
2018-01-12 17:48:08.715 +00:00 [DBG] Connection id "0HLAPSHI1FHL7" sending FIN.
2018-01-12 17:48:08.720 +00:00 [DBG] Connection id "0HLAPSHI1FHL7" stopped.
2018-01-12 17:48:08.721 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" stopped.
2018-01-12 17:48:08.720 +00:00 [DBG] Connection id "0HLAPSHI1FHL3" sending FIN.
2018-01-12 17:48:11.858 +00:00 [DBG] Connection id "0HLAPSHI1FHL8" started.
2018-01-12 17:48:11.860 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 17:48:11.864 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 17:48:11.870 +00:00 [DBG] Connection id "0HLAPSHI1FHL8", Request id "0HLAPSHI1FHL8:00000001": started reading request body.
2018-01-12 17:48:11.873 +00:00 [DBG] Connection id "0HLAPSHI1FHL8", Request id "0HLAPSHI1FHL8:00000001": done reading request body.
2018-01-12 17:48:11.879 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 17:48:11.880 +00:00 [VRB] MessageReceived: '?code=3e15210e342b10e120779e09e3c7b6e82a86674add234eab0650aa81bbaff167&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NzkyOTEsImV4cCI6MTUxNTc3OTU5MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM3NTk4NzU4MjQwMTkuTjJNeVpEQXdOMkV0TlRFNE5pMDBPVEl6TFRoak1ERXROV1l6WW1Ka09EazVNRFExWWpnMVpqVmtPV1V0WW1ZM1pTMDBNbU0zTFdGaFlUY3RNV016TTJFNFlUaG1ObVk0IiwiaWF0IjoxNTE1Nzc5MjkxLCJhdF9oYXNoIjoiQkJId3lVcm5vZDF4WUNmN1BhOXNSdyIsImNfaGFzaCI6InBEZ1BQbVJ4UVUwZHhXRmpvaC1yUmciLCJzaWQiOiJhOWJmNzY4NDkyMThjMWRmMmUyNDk1MmRmMWY3MTY3OCIsInN1YiI6IjM3ODMwYjI0LTE2ZWMtNGI1OS1hZmEwLTg0Zjg3ODM3ZmNkYyIsImF1dGhfdGltZSI6MTUxNTc3OTI5MSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.XfVQQpKrpqSE9KrJvTXGYscTgSKxK4XxVw7i4-d6LqLaOs3dWvUojpcdF9DN9llrbWVyF__xOZpowH5Fv__fS8ZLLTs5dI1OfRMow6WCC7hwHNKNgkbsay_i2Y3cu03tyaZlHMyXPW4mackzKQqHmIiMoAY1Iy57Pb0k4ZXFBnJwIoiM1nslNvLRIybgbHTLBg_ni4GLua5zowOe32N9ikjdILZytVfr6fe6iSn_KacIBOpnqZREjgcC_B0qV3VoqvHWYzv_MYt7AoMeJRHJChOjzgw9es2voxXYgWwrL8Wrf_69ky-tni-UfiRt4O0-MiemQd2Lp3nkjq0bSiLRcg&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3NzkyOTEsImV4cCI6MTUxNTc4Mjg5MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjM3ODMwYjI0LTE2ZWMtNGI1OS1hZmEwLTg0Zjg3ODM3ZmNkYyIsImF1dGhfdGltZSI6MTUxNTc3OTI5MSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiQWRtaW5QZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.E-FENnLd3j_OJWzp7HUkjybwtiKCJW9QHkIzMmIUHk9wPwM74o8N8QwpyCAFHGDIwsLKdo4XmsKf5XT8lc1r9lWf4Upx3KIbNTDD-RhowD-rLNMNu9sgRQ93VoBlryrSvm07cMY639wUHd8GpzHsjRh046I6vTJx3zVuDHYyPWAqcxwvfZcK0dRdWVBjyr3GEdQ73plc5UpQ4KUl1wlUnvVcQlY-jsMTk50M_H0Yn8MZMiMbXtY3WvGDsB75zcgDIlSqOisrPP-9FEwEKkAgvhoxO8m7krAMScQw6LuxPnokCZ7TJMF_96_QxtLvf7xBj03PIEnJcYOZWl2_TR2V_g&token_type=Bearer&expires_in=3600&scope=openid%20profile%20AdminPermission%20api1%20offline_access&state=CfDJ8Ee-yGnFPVRLuLTeaQxA6XNKrimst9pw1O7D0_rgmHuAskGgKB_Dl7VhdUa7mJ6zI63x7T7NMgqbzJ3YGLdw1_2ZjPH-wXtEVHuzN-q0DuUmDLutwPHF0WPuevz00YMIsAfXmlmHiqTpXfAjh6xHCQygX5qy6eJsS39YqKRolRt5GXBKqvK5_ifBQLTJ6W2QKFi3iwYfmOyc-uN5F9lkztDh3NbyNf3A2mMxXBjSXfzcp-ydzwufetZEDrrMKtngccElq2vNY_3MEtp3Pplq0opp8Z-SOt2nH6jw3NFdGnPhN5B5pgR-JNm7NyIJIhM2jHi5GoS47tx5e5Q9jrDKgsI&session_state=f5ZjY1s-IIJjoJ68eB8JPiLMrg0N0B53s-KuY7PFUsw.94f99c41041f77cd674314910b97085b'.
2018-01-12 17:48:11.881 +00:00 [DBG] Updating configuration
2018-01-12 17:48:11.882 +00:00 [DBG] Received 'id_token'
2018-01-12 17:48:11.921 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 17:48:11.923 +00:00 [VRB] Authorization code received.
2018-01-12 17:48:11.924 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 17:48:12.422 +00:00 [VRB] Token response received.
2018-01-12 17:48:12.425 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 17:48:12.647 +00:00 [VRB] User information received: {
  "sub": "37830b24-16ec-4b59-afa0-84f87837fcdc",
  "AdminPermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 17:48:12.652 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 17:48:12.653 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 17:48:12.655 +00:00 [DBG] Connection id "0HLAPSHI1FHL8" completed keep alive response.
2018-01-12 17:48:12.655 +00:00 [INF] Request finished in 795.8617ms 302 
2018-01-12 17:48:12.660 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 17:48:12.662 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 17:48:12.662 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 17:48:12.664 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 17:48:12.664 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 17:48:12.664 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 17:48:12.665 +00:00 [INF] Authorization was successful for user: 37830b24-16ec-4b59-afa0-84f87837fcdc.
2018-01-12 17:48:12.667 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 17:48:12.669 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 17:48:12.669 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 17:48:12.763 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 17:48:12.888 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 124.52560000000001ms.
2018-01-12 17:48:12.890 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 17:48:12.890 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 17:48:12.899 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 17:48:12.901 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 17:48:12.903 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 17:48:12.903 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 17:48:12.903 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 17:48:12.904 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 17:48:12.904 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 17:48:12.905 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 240.85750000000002ms
2018-01-12 17:48:12.907 +00:00 [DBG] Connection id "0HLAPSHI1FHL8" completed keep alive response.
2018-01-12 17:48:12.908 +00:00 [INF] Request finished in 247.7453ms 200 text/html; charset=utf-8
2018-01-12 17:49:54.231 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 17:49:54.261 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 17:49:54.270 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 17:49:54.285 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 17:49:54.304 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 17:49:54.305 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 17:49:54.306 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 17:49:54.307 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 17:49:54.309 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 17:49:54.313 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 17:49:54.314 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 17:49:54.542 +00:00 [DBG] Hosting starting
2018-01-12 17:50:10.245 +00:00 [WRN] Heartbeat took longer than ""00:00:01"" at ""2018-01-12T17:50:10.2351404+00:00"".
2018-01-12 17:50:10.247 +00:00 [DBG] Hosting started
2018-01-12 17:50:10.247 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 17:50:10.247 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 17:50:10.247 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 17:50:10.252 +00:00 [DBG] Connection id "0HLAPSJMC7I3T" started.
2018-01-12 17:50:10.252 +00:00 [DBG] Connection id "0HLAPSJMC7I3U" started.
2018-01-12 17:50:10.275 +00:00 [DBG] Connection id "0HLAPSJMC7I3T" reset.
2018-01-12 17:50:10.275 +00:00 [DBG] Connection id "0HLAPSJMC7I3T" disconnecting.
2018-01-12 17:50:10.276 +00:00 [DBG] Connection id "0HLAPSJMC7I3T" sending FIN.
2018-01-12 17:50:10.287 +00:00 [DBG] Connection id "0HLAPSJMC7I3T" stopped.
2018-01-12 17:50:10.314 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 17:50:10.403 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 17:50:10.405 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 17:50:10.417 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 17:50:10.497 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 17:50:10.531 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 17:50:10.539 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 17:50:10.542 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 17:50:10.546 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 17:50:11.255 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 17:50:12.264 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 1006.7692000000001ms.
2018-01-12 17:50:12.309 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 17:50:12.357 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 48.1143ms.
2018-01-12 17:50:12.361 +00:00 [DBG] The view 'Index' was found.
2018-01-12 17:50:12.362 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 17:50:12.385 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 17:50:12.453 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 17:50:12.843 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 390.3745ms.
2018-01-12 17:50:12.854 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 17:50:12.855 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 17:50:12.867 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 17:50:12.867 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 17:50:12.897 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2366.2217ms
2018-01-12 17:50:12.903 +00:00 [DBG] Connection id "0HLAPSJMC7I3U" completed keep alive response.
2018-01-12 17:50:12.908 +00:00 [INF] Request finished in 2593.5838ms 200 text/html; charset=utf-8
2018-01-12 17:50:19.472 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 17:50:19.476 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 17:50:19.476 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 17:50:19.478 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 17:50:19.478 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 17:50:19.480 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 17:50:19.480 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:32:01.379 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:32:01.411 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:32:01.420 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:32:01.436 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:32:01.451 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:32:01.452 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:32:01.453 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:32:01.454 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:32:01.456 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:32:01.460 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:32:01.460 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:32:01.687 +00:00 [DBG] Hosting starting
2018-01-12 20:32:07.735 +00:00 [DBG] Hosting started
2018-01-12 20:32:07.735 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:32:07.735 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:32:07.736 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:32:07.737 +00:00 [WRN] Heartbeat took longer than ""00:00:01"" at ""2018-01-12T20:32:07.7315606+00:00"".
2018-01-12 20:32:07.746 +00:00 [DBG] Connection id "0HLAPVE6DEHML" started.
2018-01-12 20:32:07.746 +00:00 [DBG] Connection id "0HLAPVE6DEHMK" started.
2018-01-12 20:32:07.769 +00:00 [DBG] Connection id "0HLAPVE6DEHML" reset.
2018-01-12 20:32:07.770 +00:00 [DBG] Connection id "0HLAPVE6DEHML" disconnecting.
2018-01-12 20:32:07.770 +00:00 [DBG] Connection id "0HLAPVE6DEHML" sending FIN.
2018-01-12 20:32:07.783 +00:00 [DBG] Connection id "0HLAPVE6DEHML" stopped.
2018-01-12 20:32:07.817 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:32:07.921 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:07.923 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:07.938 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:32:08.022 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:32:08.061 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:32:08.070 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:32:08.073 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:32:08.080 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:32:08.837 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 20:32:09.906 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 1065.6495ms.
2018-01-12 20:32:09.961 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 20:32:10.018 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 57.1914ms.
2018-01-12 20:32:10.022 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:32:10.023 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:32:10.053 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 20:32:10.163 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 20:32:10.580 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 416.6202ms.
2018-01-12 20:32:10.592 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:32:10.594 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:32:10.610 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:32:10.611 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:32:10.646 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2584.8035ms
2018-01-12 20:32:10.653 +00:00 [DBG] Connection id "0HLAPVE6DEHMK" completed keep alive response.
2018-01-12 20:32:10.654 +00:00 [INF] Request finished in 2839.7021ms 200 text/html; charset=utf-8
2018-01-12 20:32:10.665 +00:00 [DBG] Connection id "0HLAPVE6DEHMM" started.
2018-01-12 20:32:10.673 +00:00 [DBG] Connection id "0HLAPVE6DEHMN" started.
2018-01-12 20:32:10.674 +00:00 [DBG] Connection id "0HLAPVE6DEHMO" started.
2018-01-12 20:32:10.674 +00:00 [DBG] Connection id "0HLAPVE6DEHMP" started.
2018-01-12 20:32:10.675 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 20:32:10.675 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 20:32:10.677 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 20:32:10.677 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 20:32:10.722 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:10.722 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:10.722 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:10.722 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:10.724 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:10.726 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:10.752 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:10.752 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:10.755 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-01-12 20:32:10.755 +00:00 [INF] The file /js/site.js was not modified
2018-01-12 20:32:10.755 +00:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-01-12 20:32:10.757 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-01-12 20:32:10.807 +00:00 [DBG] Handled. Status code: 304 File: /lib/jquery/dist/jquery.js
2018-01-12 20:32:10.807 +00:00 [DBG] Handled. Status code: 304 File: /js/site.js
2018-01-12 20:32:10.807 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/css/bootstrap.css
2018-01-12 20:32:10.807 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/js/bootstrap.js
2018-01-12 20:32:10.808 +00:00 [DBG] Connection id "0HLAPVE6DEHMN" completed keep alive response.
2018-01-12 20:32:10.808 +00:00 [DBG] Connection id "0HLAPVE6DEHMO" completed keep alive response.
2018-01-12 20:32:10.808 +00:00 [INF] Request finished in 131.4876ms 304 application/javascript
2018-01-12 20:32:10.808 +00:00 [INF] Request finished in 133.5973ms 304 text/css
2018-01-12 20:32:10.809 +00:00 [DBG] Connection id "0HLAPVE6DEHMP" completed keep alive response.
2018-01-12 20:32:10.809 +00:00 [INF] Request finished in 131.9058ms 304 application/javascript
2018-01-12 20:32:10.820 +00:00 [DBG] Connection id "0HLAPVE6DEHMM" completed keep alive response.
2018-01-12 20:32:10.820 +00:00 [INF] Request finished in 145.4437ms 304 application/javascript
2018-01-12 20:32:10.900 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 20:32:10.902 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:10.903 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:10.905 +00:00 [INF] The file /css/site.css was not modified
2018-01-12 20:32:10.907 +00:00 [DBG] Handled. Status code: 304 File: /css/site.css
2018-01-12 20:32:10.907 +00:00 [DBG] Connection id "0HLAPVE6DEHMK" completed keep alive response.
2018-01-12 20:32:10.907 +00:00 [INF] Request finished in 7.4369ms 304 text/css
2018-01-12 20:32:14.777 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 20:32:14.781 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:32:14.781 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:14.784 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 20:32:14.785 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:32:14.787 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 20:32:14.795 +00:00 [INF] Authorization was successful for user: 37830b24-16ec-4b59-afa0-84f87837fcdc.
2018-01-12 20:32:14.798 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:32:14.801 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:32:14.801 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 20:32:14.842 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 20:32:14.974 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 132.029ms.
2018-01-12 20:32:14.976 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 20:32:14.976 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 20:32:14.987 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:14.990 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:32:14.993 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:32:14.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:32:14.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:32:14.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:32:14.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:32:14.994 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 206.9156ms
2018-01-12 20:32:14.997 +00:00 [DBG] Connection id "0HLAPVE6DEHMN" completed keep alive response.
2018-01-12 20:32:14.997 +00:00 [INF] Request finished in 220.6023ms 200 text/html; charset=utf-8
2018-01-12 20:34:43.916 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:34:43.952 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:34:43.961 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:34:43.975 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:34:43.990 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:34:43.990 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:34:43.991 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:34:43.992 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:34:43.995 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:34:43.998 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:34:44.000 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:34:44.229 +00:00 [DBG] Hosting starting
2018-01-12 20:34:44.377 +00:00 [DBG] Hosting started
2018-01-12 20:34:44.378 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:34:44.378 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:34:44.378 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:34:44.537 +00:00 [DBG] Connection id "0HLAPVFL4NTHV" started.
2018-01-12 20:34:44.537 +00:00 [DBG] Connection id "0HLAPVFL4NTI0" started.
2018-01-12 20:34:44.561 +00:00 [DBG] Connection id "0HLAPVFL4NTHV" reset.
2018-01-12 20:34:44.561 +00:00 [DBG] Connection id "0HLAPVFL4NTHV" disconnecting.
2018-01-12 20:34:44.565 +00:00 [DBG] Connection id "0HLAPVFL4NTHV" sending FIN.
2018-01-12 20:34:44.576 +00:00 [DBG] Connection id "0HLAPVFL4NTHV" stopped.
2018-01-12 20:34:44.606 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:34:44.694 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:34:44.696 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:34:44.706 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:34:44.778 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:34:44.810 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:34:44.818 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:34:44.821 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:34:44.826 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:34:45.437 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 20:34:46.367 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 928.1268ms.
2018-01-12 20:34:46.417 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 20:34:46.465 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 47.0386ms.
2018-01-12 20:34:46.469 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:34:46.469 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:34:46.491 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 20:34:46.564 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 20:34:46.944 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 379.2215ms.
2018-01-12 20:34:46.956 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:34:46.958 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:34:46.975 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:34:46.975 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:34:47.013 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2203.2592ms
2018-01-12 20:34:47.022 +00:00 [DBG] Connection id "0HLAPVFL4NTI0" completed keep alive response.
2018-01-12 20:34:47.025 +00:00 [INF] Request finished in 2421.4051ms 200 text/html; charset=utf-8
2018-01-12 20:37:09.620 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:37:09.650 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:37:09.661 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:37:09.675 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:37:09.690 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:37:09.691 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:37:09.692 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:37:09.693 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:37:09.695 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:37:09.699 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:37:09.700 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:37:09.947 +00:00 [DBG] Hosting starting
2018-01-12 20:37:10.125 +00:00 [DBG] Hosting started
2018-01-12 20:37:10.126 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:37:10.126 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:37:10.126 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:37:10.215 +00:00 [DBG] Connection id "0HLAPVH0I0VOR" started.
2018-01-12 20:37:10.215 +00:00 [DBG] Connection id "0HLAPVH0I0VOS" started.
2018-01-12 20:37:10.244 +00:00 [DBG] Connection id "0HLAPVH0I0VOR" reset.
2018-01-12 20:37:10.244 +00:00 [DBG] Connection id "0HLAPVH0I0VOR" disconnecting.
2018-01-12 20:37:10.245 +00:00 [DBG] Connection id "0HLAPVH0I0VOR" sending FIN.
2018-01-12 20:37:10.258 +00:00 [DBG] Connection id "0HLAPVH0I0VOR" stopped.
2018-01-12 20:37:10.291 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:37:10.380 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:37:10.382 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:37:10.395 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:37:10.474 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:37:10.512 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:37:10.525 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:37:10.528 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:37:10.533 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:47:38.822 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:47:38.856 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:47:38.866 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:47:38.880 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:47:38.894 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:47:38.894 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:47:38.895 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:47:38.896 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:47:38.899 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:47:38.903 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:47:38.904 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:47:39.127 +00:00 [DBG] Hosting starting
2018-01-12 20:47:39.285 +00:00 [DBG] Hosting started
2018-01-12 20:47:39.285 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:47:39.285 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:47:39.285 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:47:39.366 +00:00 [DBG] Connection id "0HLAPVMS239UT" started.
2018-01-12 20:47:39.366 +00:00 [DBG] Connection id "0HLAPVMS239US" started.
2018-01-12 20:47:39.390 +00:00 [DBG] Connection id "0HLAPVMS239UT" reset.
2018-01-12 20:47:39.390 +00:00 [DBG] Connection id "0HLAPVMS239UT" disconnecting.
2018-01-12 20:47:39.391 +00:00 [DBG] Connection id "0HLAPVMS239UT" sending FIN.
2018-01-12 20:47:39.404 +00:00 [DBG] Connection id "0HLAPVMS239UT" stopped.
2018-01-12 20:47:39.433 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:47:39.522 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:47:39.523 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:47:39.536 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:47:39.617 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:47:39.649 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:47:39.657 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:47:39.661 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:47:39.667 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:47:40.342 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 20:47:41.391 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 1046.7649000000001ms.
2018-01-12 20:47:41.445 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 20:47:41.499 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 54.088ms.
2018-01-12 20:47:41.504 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:47:41.504 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:47:41.533 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 20:47:41.604 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 20:47:42.015 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 411.3766ms.
2018-01-12 20:47:42.026 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:47:42.027 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:47:42.041 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:47:42.041 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:47:42.085 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2435.7261000000003ms
2018-01-12 20:47:42.097 +00:00 [DBG] Connection id "0HLAPVMS239US" completed keep alive response.
2018-01-12 20:47:42.100 +00:00 [INF] Request finished in 2668.5366ms 200 text/html; charset=utf-8
2018-01-12 20:47:46.951 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:47:46.955 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:47:46.955 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:47:46.958 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:47:46.959 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:47:46.959 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:47:46.959 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:47:46.962 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:47:46.962 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 20:47:46.962 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:47:46.962 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:47:46.965 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:47:46.965 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:47:46.965 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:47:46.965 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:47:46.965 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:47:46.966 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 7.0337000000000005ms
2018-01-12 20:47:46.970 +00:00 [DBG] Connection id "0HLAPVMS239US" completed keep alive response.
2018-01-12 20:47:46.971 +00:00 [INF] Request finished in 19.5329ms 200 text/html; charset=utf-8
2018-01-12 20:47:50.011 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 20:47:50.014 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:47:50.014 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:47:50.016 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 20:47:50.016 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:47:50.018 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 20:47:50.025 +00:00 [INF] Authorization was successful for user: 37830b24-16ec-4b59-afa0-84f87837fcdc.
2018-01-12 20:47:50.028 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:47:50.030 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:47:50.030 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 20:47:50.076 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 20:47:50.213 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 137.5657ms.
2018-01-12 20:47:50.215 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 20:47:50.215 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 20:47:50.225 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:47:50.228 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:47:50.230 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:47:50.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:47:50.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:47:50.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:47:50.231 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:47:50.231 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 212.6878ms
2018-01-12 20:47:50.233 +00:00 [DBG] Connection id "0HLAPVMS239US" completed keep alive response.
2018-01-12 20:47:50.234 +00:00 [INF] Request finished in 223.075ms 200 text/html; charset=utf-8
2018-01-12 20:48:17.151 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 20:48:17.153 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:48:17.154 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:48:17.156 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 20:48:17.156 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:48:17.158 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 20:48:17.158 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:48:45.115 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:48:45.116 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-12 20:48:45.197 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-12 20:48:45.258 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Administrator.cshtml' completed in 61.660900000000005ms.
2018-01-12 20:48:45.260 +00:00 [DBG] The view 'Administrator' was found.
2018-01-12 20:48:45.260 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-12 20:48:45.265 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:48:45.265 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:48:45.265 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:48:45.265 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:48:45.265 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:48:45.265 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 28107.850000000002ms
2018-01-12 20:48:45.268 +00:00 [DBG] Connection id "0HLAPVMS239US" completed keep alive response.
2018-01-12 20:48:45.269 +00:00 [INF] Request finished in 28117.6222ms 200 text/html; charset=utf-8
2018-01-12 20:51:30.813 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:51:30.845 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:51:30.854 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:51:30.868 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:51:30.884 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:51:30.885 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:51:30.886 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:51:30.887 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:51:30.889 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:51:30.892 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:51:30.893 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:51:31.133 +00:00 [DBG] Hosting starting
2018-01-12 20:51:31.292 +00:00 [DBG] Hosting started
2018-01-12 20:51:31.292 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:51:31.292 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:51:31.292 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:51:31.333 +00:00 [DBG] Connection id "0HLAPVP169KF3" started.
2018-01-12 20:51:31.333 +00:00 [DBG] Connection id "0HLAPVP169KF4" started.
2018-01-12 20:51:31.363 +00:00 [DBG] Connection id "0HLAPVP169KF4" reset.
2018-01-12 20:51:31.363 +00:00 [DBG] Connection id "0HLAPVP169KF4" disconnecting.
2018-01-12 20:51:31.364 +00:00 [DBG] Connection id "0HLAPVP169KF4" sending FIN.
2018-01-12 20:51:31.388 +00:00 [DBG] Connection id "0HLAPVP169KF4" stopped.
2018-01-12 20:51:31.423 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:51:31.522 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:51:31.524 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:51:31.538 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:51:31.623 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:51:31.650 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:51:31.659 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:51:31.662 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:51:31.666 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:51:32.319 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 20:51:33.351 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 1029.1962ms.
2018-01-12 20:51:33.399 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 20:51:33.454 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 54.704100000000004ms.
2018-01-12 20:51:33.459 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:51:33.459 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:51:33.490 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 20:51:33.561 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 20:51:33.975 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 413.92830000000004ms.
2018-01-12 20:51:33.986 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:51:33.987 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:51:33.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:51:34.000 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:51:34.033 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2382.436ms
2018-01-12 20:51:34.043 +00:00 [DBG] Connection id "0HLAPVP169KF3" completed keep alive response.
2018-01-12 20:51:34.045 +00:00 [INF] Request finished in 2626.2501ms 200 text/html; charset=utf-8
2018-01-12 20:54:13.809 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:54:13.841 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:54:13.848 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:54:13.863 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:54:13.877 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:54:13.878 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:54:13.879 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:54:13.880 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:54:13.882 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:54:13.885 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:54:13.886 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:54:14.116 +00:00 [DBG] Hosting starting
2018-01-12 20:54:14.254 +00:00 [DBG] Hosting started
2018-01-12 20:54:14.254 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:54:14.254 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:54:14.254 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:54:14.261 +00:00 [DBG] Connection id "0HLAPVQHO36RG" started.
2018-01-12 20:54:14.261 +00:00 [DBG] Connection id "0HLAPVQHO36RF" started.
2018-01-12 20:54:14.284 +00:00 [DBG] Connection id "0HLAPVQHO36RF" reset.
2018-01-12 20:54:14.284 +00:00 [DBG] Connection id "0HLAPVQHO36RF" disconnecting.
2018-01-12 20:54:14.286 +00:00 [DBG] Connection id "0HLAPVQHO36RF" sending FIN.
2018-01-12 20:54:14.299 +00:00 [DBG] Connection id "0HLAPVQHO36RF" stopped.
2018-01-12 20:54:14.332 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:54:14.422 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:14.424 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:14.438 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:54:14.520 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:54:14.549 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:54:14.562 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:54:14.566 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:54:14.571 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:54:36.058 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:54:36.090 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:54:36.098 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:54:36.113 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:54:36.126 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:54:36.126 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:54:36.127 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:54:36.128 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:54:36.130 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:54:36.133 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:54:36.134 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:54:36.359 +00:00 [DBG] Hosting starting
2018-01-12 20:54:36.499 +00:00 [DBG] Hosting started
2018-01-12 20:54:36.499 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:54:36.499 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:54:36.499 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:54:36.557 +00:00 [DBG] Connection id "0HLAPVQOCNTJ1" started.
2018-01-12 20:54:36.557 +00:00 [DBG] Connection id "0HLAPVQOCNTJ0" started.
2018-01-12 20:54:36.583 +00:00 [DBG] Connection id "0HLAPVQOCNTJ1" reset.
2018-01-12 20:54:36.583 +00:00 [DBG] Connection id "0HLAPVQOCNTJ1" disconnecting.
2018-01-12 20:54:36.584 +00:00 [DBG] Connection id "0HLAPVQOCNTJ1" sending FIN.
2018-01-12 20:54:36.597 +00:00 [DBG] Connection id "0HLAPVQOCNTJ1" stopped.
2018-01-12 20:54:36.632 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:54:36.719 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:36.721 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:36.732 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:54:36.807 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:54:36.844 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:54:36.852 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:54:36.856 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:54:36.861 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:54:37.458 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 20:54:38.411 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 950.90090000000009ms.
2018-01-12 20:54:38.495 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 20:54:38.552 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 56.147600000000004ms.
2018-01-12 20:54:38.556 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:54:38.556 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:54:38.579 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 20:54:38.695 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 20:54:39.076 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 381.0308ms.
2018-01-12 20:54:39.086 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:54:39.087 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:54:39.102 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:54:39.102 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:54:39.137 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2293.2241ms
2018-01-12 20:54:39.148 +00:00 [DBG] Connection id "0HLAPVQOCNTJ0" completed keep alive response.
2018-01-12 20:54:39.152 +00:00 [INF] Request finished in 2522.5235ms 200 text/html; charset=utf-8
2018-01-12 20:54:39.152 +00:00 [DBG] Connection id "0HLAPVQOCNTJ2" started.
2018-01-12 20:54:39.159 +00:00 [DBG] Connection id "0HLAPVQOCNTJ3" started.
2018-01-12 20:54:39.160 +00:00 [DBG] Connection id "0HLAPVQOCNTJ4" started.
2018-01-12 20:54:39.160 +00:00 [DBG] Connection id "0HLAPVQOCNTJ5" started.
2018-01-12 20:54:39.161 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 20:54:39.161 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 20:54:39.161 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 20:54:39.183 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 20:54:39.190 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:39.190 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:39.190 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:39.190 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:39.190 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:39.192 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:39.193 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:39.193 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:39.223 +00:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-01-12 20:54:39.223 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-01-12 20:54:39.223 +00:00 [INF] The file /js/site.js was not modified
2018-01-12 20:54:39.223 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-01-12 20:54:39.272 +00:00 [DBG] Handled. Status code: 304 File: /js/site.js
2018-01-12 20:54:39.272 +00:00 [DBG] Handled. Status code: 304 File: /lib/jquery/dist/jquery.js
2018-01-12 20:54:39.272 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/js/bootstrap.js
2018-01-12 20:54:39.272 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/css/bootstrap.css
2018-01-12 20:54:39.295 +00:00 [DBG] Connection id "0HLAPVQOCNTJ5" completed keep alive response.
2018-01-12 20:54:39.295 +00:00 [DBG] Connection id "0HLAPVQOCNTJ2" completed keep alive response.
2018-01-12 20:54:39.295 +00:00 [DBG] Connection id "0HLAPVQOCNTJ4" completed keep alive response.
2018-01-12 20:54:39.296 +00:00 [DBG] Connection id "0HLAPVQOCNTJ3" completed keep alive response.
2018-01-12 20:54:39.296 +00:00 [INF] Request finished in 134.7694ms 304 text/css
2018-01-12 20:54:39.296 +00:00 [INF] Request finished in 134.8224ms 304 application/javascript
2018-01-12 20:54:39.296 +00:00 [INF] Request finished in 133.5552ms 304 application/javascript
2018-01-12 20:54:39.296 +00:00 [INF] Request finished in 134.748ms 304 application/javascript
2018-01-12 20:54:39.345 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 20:54:39.394 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:54:39.396 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:54:39.401 +00:00 [INF] The file /css/site.css was not modified
2018-01-12 20:54:39.404 +00:00 [DBG] Handled. Status code: 304 File: /css/site.css
2018-01-12 20:54:39.404 +00:00 [DBG] Connection id "0HLAPVQOCNTJ0" completed keep alive response.
2018-01-12 20:54:39.404 +00:00 [INF] Request finished in 59.552ms 304 text/css
2018-01-12 20:55:10.174 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 20:55:10.204 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 20:55:10.213 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 20:55:10.228 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 20:55:10.242 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:55:10.243 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 20:55:10.244 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 20:55:10.244 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 20:55:10.247 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 20:55:10.250 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 20:55:10.251 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 20:55:10.473 +00:00 [DBG] Hosting starting
2018-01-12 20:55:10.645 +00:00 [DBG] Hosting started
2018-01-12 20:55:10.645 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 20:55:10.645 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 20:55:10.645 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 20:55:10.726 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" started.
2018-01-12 20:55:10.726 +00:00 [DBG] Connection id "0HLAPVR2IJG7H" started.
2018-01-12 20:55:10.751 +00:00 [DBG] Connection id "0HLAPVR2IJG7H" reset.
2018-01-12 20:55:10.752 +00:00 [DBG] Connection id "0HLAPVR2IJG7H" disconnecting.
2018-01-12 20:55:10.753 +00:00 [DBG] Connection id "0HLAPVR2IJG7H" sending FIN.
2018-01-12 20:55:10.766 +00:00 [DBG] Connection id "0HLAPVR2IJG7H" stopped.
2018-01-12 20:55:10.800 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:55:10.891 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:55:10.894 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:55:10.907 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:55:11.000 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:55:11.036 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:55:11.046 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:55:11.050 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:55:11.056 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 20:55:11.735 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 20:55:12.757 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 1020.2862ms.
2018-01-12 20:55:12.815 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 20:55:12.869 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 53.848000000000006ms.
2018-01-12 20:55:12.873 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:55:12.873 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:55:12.897 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 20:55:12.975 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 20:55:13.388 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 412.6365ms.
2018-01-12 20:55:13.402 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:55:13.403 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:55:13.421 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:55:13.421 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:55:13.460 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2423.0074ms
2018-01-12 20:55:13.466 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" completed keep alive response.
2018-01-12 20:55:13.472 +00:00 [INF] Request finished in 2669.1407ms 200 text/html; charset=utf-8
2018-01-12 20:55:17.275 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-12 20:55:17.279 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:55:17.279 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:55:17.283 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-12 20:55:17.297 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" completed keep alive response.
2018-01-12 20:55:17.297 +00:00 [INF] Request finished in 21.9264ms 200 text/plain
2018-01-12 20:55:36.920 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 20:55:36.923 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:36.923 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 20:55:36.923 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:55:36.924 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 20:55:36.924 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:55:36.926 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:55:36.926 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-12 20:55:36.927 +00:00 [DBG] The view 'Index' was found.
2018-01-12 20:55:36.927 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 20:55:36.929 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:55:36.929 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:55:36.929 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:55:36.929 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:55:36.929 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:55:36.930 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5.9891000000000005ms
2018-01-12 20:55:36.932 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" completed keep alive response.
2018-01-12 20:55:36.932 +00:00 [INF] Request finished in 12.2471ms 200 text/html; charset=utf-8
2018-01-12 20:55:36.947 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 20:55:36.955 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:36.955 +00:00 [DBG] Connection id "0HLAPVR2IJG7I" started.
2018-01-12 20:55:36.956 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" started.
2018-01-12 20:55:36.956 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-12 20:55:36.956 +00:00 [DBG] Connection id "0HLAPVR2IJG7K" started.
2018-01-12 20:55:36.957 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" started.
2018-01-12 20:55:36.958 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 20:55:36.958 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 20:55:36.958 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 20:55:36.958 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 20:55:36.982 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:36.984 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:36.985 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-12 20:55:36.985 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-12 20:55:36.985 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:36.985 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-12 20:55:37.008 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:37.008 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-12 20:55:37.012 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" completed keep alive response.
2018-01-12 20:55:37.014 +00:00 [INF] Request finished in 55.8999ms 200 application/javascript
2018-01-12 20:55:37.048 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:55:37.048 +00:00 [INF] Request finished in 90.4689ms 200 text/css
2018-01-12 20:55:37.050 +00:00 [DBG] Connection id "0HLAPVR2IJG7I" completed keep alive response.
2018-01-12 20:55:37.050 +00:00 [INF] Request finished in 92.6836ms 200 application/javascript
2018-01-12 20:55:37.087 +00:00 [DBG] Connection id "0HLAPVR2IJG7K" completed keep alive response.
2018-01-12 20:55:37.087 +00:00 [INF] Request finished in 129.5674ms 200 application/javascript
2018-01-12 20:55:37.087 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" completed keep alive response.
2018-01-12 20:55:37.132 +00:00 [INF] Request finished in 183.8893ms 200 text/css
2018-01-12 20:55:37.195 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-12 20:55:37.197 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:37.197 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-12 20:55:37.202 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" completed keep alive response.
2018-01-12 20:55:37.202 +00:00 [INF] Request finished in 7.0272ms 200 text/plain
2018-01-12 20:55:38.838 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 20:55:38.841 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-12 20:55:38.841 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 20:55:38.841 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:55:38.844 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 20:55:38.852 +00:00 [INF] Authorization failed for user: null.
2018-01-12 20:55:38.857 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-12 20:55:38.862 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-12 20:55:38.870 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-12 20:55:38.870 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-12 20:55:39.827 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 20:55:39.830 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 20:55:39.830 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-12 20:55:39.833 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 988.5308ms
2018-01-12 20:55:39.835 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:55:39.835 +00:00 [INF] Request finished in 997.1104ms 302 
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7I" received FIN.
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7K" received FIN.
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7I" disconnecting.
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7I" sending FIN.
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" received FIN.
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" disconnecting.
2018-01-12 20:56:37.581 +00:00 [DBG] Connection id "0HLAPVR2IJG7K" disconnecting.
2018-01-12 20:56:37.582 +00:00 [DBG] Connection id "0HLAPVR2IJG7K" sending FIN.
2018-01-12 20:56:37.582 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" received FIN.
2018-01-12 20:56:37.582 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" disconnecting.
2018-01-12 20:56:37.582 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" sending FIN.
2018-01-12 20:56:37.582 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" sending FIN.
2018-01-12 20:56:37.583 +00:00 [DBG] Connection id "0HLAPVR2IJG7I" stopped.
2018-01-12 20:56:37.583 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2466
2018-01-12 20:56:37.588 +00:00 [DBG] Connection id "0HLAPVR2IJG7K" stopped.
2018-01-12 20:56:37.608 +00:00 [DBG] Connection id "0HLAPVR2IJG7L" stopped.
2018-01-12 20:56:37.608 +00:00 [DBG] Connection id "0HLAPVR2IJG7G" stopped.
2018-01-12 20:56:37.621 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-12 20:56:37.627 +00:00 [DBG] Connection id "0HLAPVR2IJG7J", Request id "0HLAPVR2IJG7J:00000003": started reading request body.
2018-01-12 20:56:37.631 +00:00 [DBG] Connection id "0HLAPVR2IJG7J", Request id "0HLAPVR2IJG7J:00000003": done reading request body.
2018-01-12 20:56:37.638 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-12 20:56:37.639 +00:00 [VRB] MessageReceived: '?code=845a90fa44b6126e5ae8421eedfa5ea333af2c4345e859c354c9aa003d68c70c&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3OTA1OTcsImV4cCI6MTUxNTc5MDg5NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTM4NzMzOTgyNjc3MTkuTmpabU5tVXpNMlF0WkRReE9DMDBNVFF5TFRoalpqWXRPVFJsTWprd09UYzJaR0UzTnpFMk5EVm1PR1F0WmpWaU55MDBZemszTFRrNVpXWXRZVFV3TldGbE1EUXdZMkkxIiwiaWF0IjoxNTE1NzkwNTk3LCJhdF9oYXNoIjoiWldLVml4QjRXSkFBVDROY1kyWDNrdyIsImNfaGFzaCI6Ik4tdGc0VFFfNDVESmt0cWUyd2M0VUEiLCJzaWQiOiJkMjMwNzNhYzE3NTViMTQ1NDcxNDlmMDhiMTkwN2ViOSIsInN1YiI6IjhhNDBmOTBiLTQyZTYtNDFjMy04Mzk4LWZlMGMzMmFjNmM5NCIsImF1dGhfdGltZSI6MTUxNTc5MDU4OSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.YVmRFrLyXxYsD3FcPeL9bjKlJZn_sZduXZ_2vnlbwJw_qr-c4G9p3GIKTQQDA-QfvFjB6My1FzYvgOiuK-_n4g-yjUCSG6wY6GOxmEJsgZpEEMZzR3tmGYMuJAWLkN6UYDCH52dRNZqdP83foC25btt2o_qit-WOsmVc9Hl2lnRDv3iHU8UfDN7Dw9E_fyj5e_7YKfTcOx8NomI30Yz00QKEH916hp1Y5yCSktERI6Z6JWN2vHO27DmzRKZAx1-inouOSweGNZuK89zuJtVW_VR4WEZ0sEcmPnXUJSDz1rIgrDzEd-erX5YIDp89iWQstwcEy913rD9RBxaaJUhNyw&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTU3OTA1OTcsImV4cCI6MTUxNTc5NDE5NywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6IjhhNDBmOTBiLTQyZTYtNDFjMy04Mzk4LWZlMGMzMmFjNmM5NCIsImF1dGhfdGltZSI6MTUxNTc5MDU4OSwiaWRwIjoibG9jYWwiLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiYWRtaW5wZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.NXIgZwdwuqVH-22pY6TwbTqsg19ij4Rnf5aozpU06dG9m4zPEVXJ7pTJbbOoTiWMsf4lrnp0YUA60X6wO62ucQs8ddbv20vYByhc9fI6VI7EC0ruZz_vBT10SX2SUEPmg8mfnhwTUENwnsitA8U5JIBeXJuv_lHel_3Pvjw5021Ov5ZN-6yLlP70gDs-r2bxHD1nBkyhGCHZ-s86ILCRwGq46B5lgqRGh6Y-iGubh3NG9DSDSg2bW2U1V7fA20Uj2naj_jL0z_Rikr0ZvUExCxiurQoqzGKMFwBBOua0nF3YYtjiUdxzF8i88V_irl7_olliI-JfWF9W9ow2En35aw&token_type=Bearer&expires_in=3600&scope=openid%20profile%20adminpermission%20api1%20offline_access&state=CfDJ8Ee-yGnFPVRLuLTeaQxA6XNNUA4FSz8HeAcTkcr-AvZYc18fYuxGg0cpHCXFjgfR0PTmkyxs-rm2FABcgfsHxtoPuz2pzFdj5B7a4sEE21x-M5nFHfE1HENj98G63QUgm9WcmbY0LRJqDi0L-uNVLLa63-dmG1KtarAq6D-E5yZoqL0ZcEIM6OSlivYOahA-DMlghHs48THDckXkbLVk0lWTiW1oiap-qz5ByO6riuMXpC6xS9Phuh6G8GKrm5qsoNpf0Ch4599QYaZtkWCcVOm1zGyFQh6sn9uIQkH5z0Ah1fOPvTYptZxVU3GQjwCw_LKJblqkiOB6mID5w7WDc90&session_state=YoMGTYXR5m8fo-K83jF5iNJkAIeJOQJv-dopLAJ6vP8.3187c1a2f91ab1f54a3528eb8035fe78'.
2018-01-12 20:56:37.640 +00:00 [DBG] Updating configuration
2018-01-12 20:56:37.641 +00:00 [DBG] Received 'id_token'
2018-01-12 20:56:37.681 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-12 20:56:37.684 +00:00 [VRB] Authorization code received.
2018-01-12 20:56:37.685 +00:00 [DBG] Redeeming code for tokens.
2018-01-12 20:56:38.220 +00:00 [VRB] Token response received.
2018-01-12 20:56:38.223 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-12 20:56:38.456 +00:00 [VRB] User information received: {
  "sub": "8a40f90b-42e6-41c3-8398-fe0c32ac6c94",
  "adminpermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com"
}
2018-01-12 20:56:38.462 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.463 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-12 20:56:38.466 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:56:38.466 +00:00 [INF] Request finished in 883.7163ms 302 
2018-01-12 20:56:38.472 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 20:56:38.475 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.475 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.477 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 20:56:38.478 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:56:38.478 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 20:56:38.479 +00:00 [INF] Authorization was successful for user: 8a40f90b-42e6-41c3-8398-fe0c32ac6c94.
2018-01-12 20:56:38.481 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:56:38.483 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:56:38.484 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 20:56:38.555 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 20:56:38.696 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 140.2559ms.
2018-01-12 20:56:38.697 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 20:56:38.697 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 20:56:38.707 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.710 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.712 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:56:38.712 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:56:38.712 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:56:38.713 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:56:38.713 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:56:38.713 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 235.3744ms
2018-01-12 20:56:38.715 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:56:38.715 +00:00 [INF] Request finished in 243.2501ms 200 text/html; charset=utf-8
2018-01-12 20:56:38.733 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 20:56:38.738 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" started.
2018-01-12 20:56:38.738 +00:00 [DBG] Connection id "0HLAPVR2IJG7N" started.
2018-01-12 20:56:38.741 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.741 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 20:56:38.741 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.741 +00:00 [DBG] Connection id "0HLAPVR2IJG7O" started.
2018-01-12 20:56:38.766 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 20:56:38.766 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 20:56:38.768 +00:00 [DBG] Connection id "0HLAPVR2IJG7P" started.
2018-01-12 20:56:38.769 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.770 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.773 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-12 20:56:38.774 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 20:56:38.774 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.795 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-12 20:56:38.795 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.824 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" completed keep alive response.
2018-01-12 20:56:38.824 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.825 +00:00 [INF] Request finished in 84.4039ms 200 text/css
2018-01-12 20:56:38.828 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.837 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:56:38.839 +00:00 [INF] Request finished in 105.948ms 200 text/css
2018-01-12 20:56:38.837 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.842 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.849 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-12 20:56:38.872 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-12 20:56:38.895 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-12 20:56:38.898 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-12 20:56:38.906 +00:00 [DBG] Connection id "0HLAPVR2IJG7P" completed keep alive response.
2018-01-12 20:56:38.906 +00:00 [INF] Request finished in 132.7366ms 200 application/javascript
2018-01-12 20:56:38.906 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:56:38.908 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:56:38.915 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-12 20:56:38.915 +00:00 [DBG] Connection id "0HLAPVR2IJG7O" completed keep alive response.
2018-01-12 20:56:38.916 +00:00 [INF] Request finished in 150.1094ms 200 application/javascript
2018-01-12 20:56:38.924 +00:00 [DBG] Connection id "0HLAPVR2IJG7N" completed keep alive response.
2018-01-12 20:56:38.924 +00:00 [INF] Request finished in 158.0276ms 200 application/javascript
2018-01-12 20:56:38.955 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" completed keep alive response.
2018-01-12 20:56:38.955 +00:00 [INF] Request finished in 58.2873ms 200 text/plain
2018-01-12 20:57:10.807 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-12 20:57:10.811 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:10.811 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:10.814 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-12 20:57:10.814 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:57:10.815 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-12 20:57:10.815 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:57:56.181 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:57:56.181 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-12 20:57:56.304 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-12 20:57:56.356 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Administrator.cshtml' completed in 52.392500000000005ms.
2018-01-12 20:57:56.358 +00:00 [DBG] The view 'Administrator' was found.
2018-01-12 20:57:56.358 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-12 20:57:56.363 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:57:56.364 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:57:56.364 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:57:56.364 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:57:56.364 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:57:56.364 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 45548.6239ms
2018-01-12 20:57:56.367 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:57:56.367 +00:00 [INF] Request finished in 45559.5539ms 200 text/html; charset=utf-8
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7P" received FIN.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7O" received FIN.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7P" disconnecting.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7O" disconnecting.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" received FIN.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7P" stopped.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" disconnecting.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7O" stopped.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7P" sending FIN.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" sending FIN.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7N" received FIN.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7N" disconnecting.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7M" stopped.
2018-01-12 20:57:56.401 +00:00 [DBG] Connection id "0HLAPVR2IJG7Q" started.
2018-01-12 20:57:56.401 +00:00 [DBG] Connection id "0HLAPVR2IJG7R" started.
2018-01-12 20:57:56.401 +00:00 [DBG] Connection id "0HLAPVR2IJG7N" sending FIN.
2018-01-12 20:57:56.401 +00:00 [DBG] Connection id "0HLAPVR2IJG7N" stopped.
2018-01-12 20:57:56.400 +00:00 [DBG] Connection id "0HLAPVR2IJG7O" sending FIN.
2018-01-12 20:57:56.403 +00:00 [DBG] Connection id "0HLAPVR2IJG7S" started.
2018-01-12 20:57:56.403 +00:00 [DBG] Connection id "0HLAPVR2IJG7T" started.
2018-01-12 20:57:56.403 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 20:57:56.403 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 20:57:56.403 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 20:57:56.456 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:56.456 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 20:57:56.457 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:56.457 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:56.457 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:56.456 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 20:57:56.480 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:56.482 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:56.483 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:56.505 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:56.505 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:56.505 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-12 20:57:56.526 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-12 20:57:56.546 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:56.548 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-12 20:57:56.550 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-12 20:57:56.553 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:57:56.553 +00:00 [INF] Request finished in 150.0854ms 200 text/css
2018-01-12 20:57:56.575 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-12 20:57:56.587 +00:00 [DBG] Connection id "0HLAPVR2IJG7T" completed keep alive response.
2018-01-12 20:57:56.589 +00:00 [INF] Request finished in 132.2032ms 200 application/javascript
2018-01-12 20:57:56.591 +00:00 [DBG] Connection id "0HLAPVR2IJG7S" completed keep alive response.
2018-01-12 20:57:56.591 +00:00 [INF] Request finished in 134.4455ms 200 text/css
2018-01-12 20:57:56.639 +00:00 [DBG] Connection id "0HLAPVR2IJG7R" completed keep alive response.
2018-01-12 20:57:56.641 +00:00 [INF] Request finished in 238.5575ms 200 application/javascript
2018-01-12 20:57:56.645 +00:00 [DBG] Connection id "0HLAPVR2IJG7Q" completed keep alive response.
2018-01-12 20:57:56.645 +00:00 [INF] Request finished in 241.8787ms 200 application/javascript
2018-01-12 20:57:56.757 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-12 20:57:56.760 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:57:56.760 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:57:56.763 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-12 20:57:56.767 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:57:56.767 +00:00 [INF] Request finished in 10.3746ms 200 text/plain
2018-01-12 20:58:21.213 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 20:58:21.216 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.216 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.218 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 20:58:21.218 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 20:58:21.218 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 20:58:21.218 +00:00 [INF] Authorization was successful for user: 8a40f90b-42e6-41c3-8398-fe0c32ac6c94.
2018-01-12 20:58:21.221 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 20:58:21.223 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 20:58:21.223 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 20:58:21.223 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 20:58:21.223 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 20:58:21.225 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.227 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.229 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 20:58:21.229 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:58:21.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:58:21.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 20:58:21.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 20:58:21.230 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 11.5213ms
2018-01-12 20:58:21.232 +00:00 [DBG] Connection id "0HLAPVR2IJG7T" completed keep alive response.
2018-01-12 20:58:21.232 +00:00 [INF] Request finished in 19.2065ms 200 text/html; charset=utf-8
2018-01-12 20:58:21.248 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-12 20:58:21.248 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-12 20:58:21.295 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-12 20:58:21.295 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-12 20:58:21.295 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-12 20:58:21.317 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.317 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.320 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.321 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.321 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.321 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.324 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.324 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-12 20:58:21.347 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-12 20:58:21.347 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-12 20:58:21.347 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.374 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-12 20:58:21.375 +00:00 [DBG] Connection id "0HLAPVR2IJG7R" completed keep alive response.
2018-01-12 20:58:21.379 +00:00 [INF] Request finished in 84.632ms 200 application/javascript
2018-01-12 20:58:21.435 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.436 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.459 +00:00 [DBG] Connection id "0HLAPVR2IJG7S" completed keep alive response.
2018-01-12 20:58:21.460 +00:00 [DBG] Connection id "0HLAPVR2IJG7J" completed keep alive response.
2018-01-12 20:58:21.461 +00:00 [INF] Request finished in 211.5956ms 200 text/css
2018-01-12 20:58:21.461 +00:00 [INF] Request finished in 166.7956ms 200 text/css
2018-01-12 20:58:21.466 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-12 20:58:21.509 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-12 20:58:21.514 +00:00 [DBG] Connection id "0HLAPVR2IJG7Q" completed keep alive response.
2018-01-12 20:58:21.514 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 20:58:21.515 +00:00 [INF] Request finished in 266.2379ms 200 application/javascript
2018-01-12 20:58:21.515 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 20:58:21.560 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-12 20:58:21.584 +00:00 [DBG] Connection id "0HLAPVR2IJG7T" completed keep alive response.
2018-01-12 20:58:21.584 +00:00 [INF] Request finished in 289.3795ms 200 application/javascript
2018-01-12 20:58:21.592 +00:00 [DBG] Connection id "0HLAPVR2IJG7R" completed keep alive response.
2018-01-12 20:58:21.592 +00:00 [INF] Request finished in 83.1677ms 200 text/plain
2018-01-12 20:58:52.284 +00:00 [DBG] Connection id "0HLAPVR2IJG7S" reset.
2018-01-12 21:00:56.700 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-12 21:00:56.732 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-12 21:00:56.741 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-12 21:00:56.755 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-12 21:00:56.768 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 21:00:56.768 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-12 21:00:56.769 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-12 21:00:56.770 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-12 21:00:56.772 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-12 21:00:56.775 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-12 21:00:56.776 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-12 21:00:57.001 +00:00 [DBG] Hosting starting
2018-01-12 21:00:57.141 +00:00 [DBG] Hosting started
2018-01-12 21:00:57.141 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-12 21:00:57.141 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-12 21:00:57.141 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-12 21:00:57.291 +00:00 [DBG] Connection id "0HLAPVU9RMLHC" started.
2018-01-12 21:00:57.291 +00:00 [DBG] Connection id "0HLAPVU9RMLHB" started.
2018-01-12 21:00:57.318 +00:00 [DBG] Connection id "0HLAPVU9RMLHC" reset.
2018-01-12 21:00:57.318 +00:00 [DBG] Connection id "0HLAPVU9RMLHC" disconnecting.
2018-01-12 21:00:57.319 +00:00 [DBG] Connection id "0HLAPVU9RMLHC" sending FIN.
2018-01-12 21:00:57.334 +00:00 [DBG] Connection id "0HLAPVU9RMLHC" stopped.
2018-01-12 21:00:57.365 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-12 21:00:57.469 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 21:00:57.470 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:00:57.482 +00:00 [DBG] The request path / does not match a supported file type
2018-01-12 21:00:57.573 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 21:00:57.607 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-12 21:00:57.619 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 21:00:57.623 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 21:00:57.629 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-12 21:00:58.332 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-12 21:00:59.370 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 1033.8409000000001ms.
2018-01-12 21:00:59.450 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-12 21:00:59.503 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 53.0229ms.
2018-01-12 21:00:59.507 +00:00 [DBG] The view 'Index' was found.
2018-01-12 21:00:59.508 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-12 21:00:59.535 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-12 21:00:59.606 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-12 21:00:59.995 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 389.7293ms.
2018-01-12 21:01:00.006 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:00.007 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:00.021 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:00.022 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:00.054 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2446.9555ms
2018-01-12 21:01:00.061 +00:00 [DBG] Connection id "0HLAPVU9RMLHB" completed keep alive response.
2018-01-12 21:01:00.062 +00:00 [INF] Request finished in 2700.7983ms 200 text/html; charset=utf-8
2018-01-12 21:01:02.960 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 21:01:02.962 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 21:01:02.963 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:02.964 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 21:01:02.965 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 21:01:02.967 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 21:01:02.974 +00:00 [INF] Authorization was successful for user: 8a40f90b-42e6-41c3-8398-fe0c32ac6c94.
2018-01-12 21:01:02.977 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 21:01:02.980 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 21:01:02.980 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-12 21:01:03.024 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-12 21:01:03.147 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 122.4381ms.
2018-01-12 21:01:03.149 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 21:01:03.149 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 21:01:03.159 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:03.161 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:03.163 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 21:01:03.163 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:03.163 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:03.163 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:03.164 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:03.164 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 197.5805ms
2018-01-12 21:01:03.166 +00:00 [DBG] Connection id "0HLAPVU9RMLHB" completed keep alive response.
2018-01-12 21:01:03.167 +00:00 [INF] Request finished in 207.0094ms 200 text/html; charset=utf-8
2018-01-12 21:01:09.587 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 21:01:09.590 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 21:01:09.590 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:09.592 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 21:01:09.593 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 21:01:09.598 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 21:01:09.598 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 21:01:09.614 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:10.956 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 21:01:10.956 +00:00 [DBG] View lookup cache miss for view 'json' in controller 'Home'.
2018-01-12 21:01:11.002 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\json.cshtml' started.
2018-01-12 21:01:11.108 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\json.cshtml' completed in 106.43440000000001ms.
2018-01-12 21:01:11.110 +00:00 [DBG] The view 'json' was found.
2018-01-12 21:01:11.110 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 21:01:11.136 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 21:01:11.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:11.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:11.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:11.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:11.136 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) in 1538.4622000000002ms
2018-01-12 21:01:11.139 +00:00 [DBG] Connection id "0HLAPVU9RMLHB" completed keep alive response.
2018-01-12 21:01:11.139 +00:00 [INF] Request finished in 1551.2437ms 200 text/html; charset=utf-8
2018-01-12 21:01:20.199 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingClientCredentials  
2018-01-12 21:01:20.202 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 21:01:20.203 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:20.205 +00:00 [DBG] The request path /Home/CallApiUsingClientCredentials does not match a supported file type
2018-01-12 21:01:20.205 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 21:01:20.209 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient)
2018-01-12 21:01:20.209 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 21:01:21.007 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 21:01:21.007 +00:00 [DBG] View lookup cache hit for view 'json' in controller 'Home'.
2018-01-12 21:01:21.007 +00:00 [DBG] The view 'json' was found.
2018-01-12 21:01:21.008 +00:00 [INF] Executing ViewResult, running view at path /Views/Shared/json.cshtml.
2018-01-12 21:01:21.009 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 21:01:21.010 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:21.010 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:21.010 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:21.010 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:21.010 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.CallApiUsingClientCredentials (MvcClient) in 801.5592ms
2018-01-12 21:01:21.013 +00:00 [DBG] Connection id "0HLAPVU9RMLHB" completed keep alive response.
2018-01-12 21:01:21.013 +00:00 [INF] Request finished in 813.4355ms 200 text/html; charset=utf-8
2018-01-12 21:01:29.102 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-12 21:01:29.105 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 21:01:29.105 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:29.107 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-12 21:01:29.107 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 21:01:29.107 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-12 21:01:29.108 +00:00 [INF] Authorization was successful for user: 8a40f90b-42e6-41c3-8398-fe0c32ac6c94.
2018-01-12 21:01:29.110 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 21:01:29.112 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-12 21:01:29.112 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-12 21:01:29.112 +00:00 [DBG] The view 'Secure' was found.
2018-01-12 21:01:29.112 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-12 21:01:29.114 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:29.116 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:29.119 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-12 21:01:29.119 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:29.119 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:29.119 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-12 21:01:29.119 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-12 21:01:29.119 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 11.6056ms
2018-01-12 21:01:29.121 +00:00 [DBG] Connection id "0HLAPVU9RMLHB" completed keep alive response.
2018-01-12 21:01:29.121 +00:00 [INF] Request finished in 19.4471ms 200 text/html; charset=utf-8
2018-01-12 21:01:52.712 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/CallApiUsingUserAccessToken  
2018-01-12 21:01:52.715 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-12 21:01:52.715 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-12 21:01:52.717 +00:00 [DBG] The request path /Home/CallApiUsingUserAccessToken does not match a supported file type
2018-01-12 21:01:52.718 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-12 21:01:52.718 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient)
2018-01-12 21:01:52.718 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.CallApiUsingUserAccessToken (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-12 21:01:52.720 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:45.824 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:15:45.853 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:15:45.861 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:15:45.876 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:15:45.891 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:15:45.892 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:15:45.893 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:15:45.893 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:15:45.895 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:15:45.898 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:15:45.899 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:15:46.151 +00:00 [DBG] Hosting starting
2018-01-15 09:15:46.296 +00:00 [DBG] Hosting started
2018-01-15 09:15:46.297 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:15:46.297 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:15:46.297 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:15:46.307 +00:00 [DBG] Connection id "0HLARV27QHC04" started.
2018-01-15 09:15:46.307 +00:00 [DBG] Connection id "0HLARV27QHC05" started.
2018-01-15 09:15:46.328 +00:00 [DBG] Connection id "0HLARV27QHC05" reset.
2018-01-15 09:15:46.328 +00:00 [DBG] Connection id "0HLARV27QHC05" disconnecting.
2018-01-15 09:15:46.330 +00:00 [DBG] Connection id "0HLARV27QHC05" sending FIN.
2018-01-15 09:15:46.344 +00:00 [DBG] Connection id "0HLARV27QHC05" stopped.
2018-01-15 09:15:46.375 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:15:46.468 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:46.470 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:46.481 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:15:46.586 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:15:46.630 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:15:46.640 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:15:46.643 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:15:46.647 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:15:47.326 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:15:48.327 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 998.195ms.
2018-01-15 09:15:48.374 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:15:48.421 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 46.5285ms.
2018-01-15 09:15:48.426 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:15:48.426 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:15:48.452 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:15:48.533 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:15:48.994 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 461.26480000000004ms.
2018-01-15 09:15:49.004 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:15:49.005 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:15:49.019 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:15:49.019 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:15:49.059 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2428.8876ms
2018-01-15 09:15:49.071 +00:00 [DBG] Connection id "0HLARV27QHC04" completed keep alive response.
2018-01-15 09:15:49.072 +00:00 [DBG] Connection id "0HLARV27QHC06" started.
2018-01-15 09:15:49.073 +00:00 [INF] Request finished in 2699.7454ms 200 text/html; charset=utf-8
2018-01-15 09:15:49.075 +00:00 [DBG] Connection id "0HLARV27QHC07" started.
2018-01-15 09:15:49.080 +00:00 [DBG] Connection id "0HLARV27QHC08" started.
2018-01-15 09:15:49.080 +00:00 [DBG] Connection id "0HLARV27QHC09" started.
2018-01-15 09:15:49.082 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-15 09:15:49.082 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-15 09:15:49.082 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-15 09:15:49.083 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-15 09:15:49.092 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:49.092 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:49.092 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:49.092 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:49.092 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:49.092 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:49.116 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:49.118 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:49.145 +00:00 [INF] The file /lib/jquery/dist/jquery.js was not modified
2018-01-15 09:15:49.145 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.css was not modified
2018-01-15 09:15:49.145 +00:00 [INF] The file /js/site.js was not modified
2018-01-15 09:15:49.145 +00:00 [INF] The file /css/site.css was not modified
2018-01-15 09:15:49.175 +00:00 [DBG] Handled. Status code: 304 File: /js/site.js
2018-01-15 09:15:49.175 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/css/bootstrap.css
2018-01-15 09:15:49.175 +00:00 [DBG] Handled. Status code: 304 File: /css/site.css
2018-01-15 09:15:49.175 +00:00 [DBG] Handled. Status code: 304 File: /lib/jquery/dist/jquery.js
2018-01-15 09:15:49.198 +00:00 [DBG] Connection id "0HLARV27QHC07" completed keep alive response.
2018-01-15 09:15:49.198 +00:00 [DBG] Connection id "0HLARV27QHC06" completed keep alive response.
2018-01-15 09:15:49.199 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-15 09:15:49.199 +00:00 [DBG] Connection id "0HLARV27QHC08" completed keep alive response.
2018-01-15 09:15:49.199 +00:00 [INF] Request finished in 117.3393ms 304 text/css
2018-01-15 09:15:49.199 +00:00 [INF] Request finished in 116.2745ms 304 application/javascript
2018-01-15 09:15:49.199 +00:00 [INF] Request finished in 117.3926ms 304 application/javascript
2018-01-15 09:15:49.198 +00:00 [DBG] Connection id "0HLARV27QHC09" completed keep alive response.
2018-01-15 09:15:49.223 +00:00 [INF] Request finished in 141.0816ms 304 text/css
2018-01-15 09:15:49.229 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:49.231 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:49.265 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.js was not modified
2018-01-15 09:15:49.267 +00:00 [DBG] Handled. Status code: 304 File: /lib/bootstrap/dist/js/bootstrap.js
2018-01-15 09:15:49.267 +00:00 [DBG] Connection id "0HLARV27QHC04" completed keep alive response.
2018-01-15 09:15:49.268 +00:00 [INF] Request finished in 68.5422ms 304 application/javascript
2018-01-15 09:15:51.725 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:15:51.728 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:15:51.728 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:51.731 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:15:51.731 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:15:51.733 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:15:51.739 +00:00 [INF] Authorization was successful for user: 8a40f90b-42e6-41c3-8398-fe0c32ac6c94.
2018-01-15 09:15:51.741 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:15:51.744 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:15:51.745 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-15 09:15:51.787 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-15 09:15:51.905 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 118.42930000000001ms.
2018-01-15 09:15:51.907 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:15:51.907 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:15:51.916 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:51.919 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:15:51.921 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:15:51.921 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:15:51.921 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:15:51.922 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:15:51.922 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:15:51.922 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 189.333ms
2018-01-15 09:15:51.925 +00:00 [DBG] Connection id "0HLARV27QHC07" completed keep alive response.
2018-01-15 09:15:51.925 +00:00 [INF] Request finished in 200.2622ms 200 text/html; charset=utf-8
2018-01-15 09:16:44.195 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:16:44.228 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:16:44.237 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:16:44.253 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:16:44.270 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:16:44.270 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:16:44.271 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:16:44.272 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:16:44.274 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:16:44.277 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:16:44.278 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:16:44.527 +00:00 [DBG] Hosting starting
2018-01-15 09:16:44.684 +00:00 [DBG] Hosting started
2018-01-15 09:16:44.684 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:16:44.684 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:16:44.684 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:16:44.752 +00:00 [DBG] Connection id "0HLARV2P7T8OD" started.
2018-01-15 09:16:44.752 +00:00 [DBG] Connection id "0HLARV2P7T8OE" started.
2018-01-15 09:16:44.780 +00:00 [DBG] Connection id "0HLARV2P7T8OD" reset.
2018-01-15 09:16:44.780 +00:00 [DBG] Connection id "0HLARV2P7T8OD" disconnecting.
2018-01-15 09:16:44.781 +00:00 [DBG] Connection id "0HLARV2P7T8OD" sending FIN.
2018-01-15 09:16:44.797 +00:00 [DBG] Connection id "0HLARV2P7T8OD" stopped.
2018-01-15 09:16:44.834 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:16:44.925 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:16:44.926 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:16:44.936 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:16:45.007 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:16:45.042 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:16:45.052 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:16:45.057 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:16:45.063 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:16:45.692 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:16:46.659 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 964.6774ms.
2018-01-15 09:16:46.706 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:16:46.753 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 47.110400000000006ms.
2018-01-15 09:16:46.757 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:16:46.758 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:16:46.781 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:16:46.844 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:16:47.226 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 381.4852ms.
2018-01-15 09:16:47.237 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:16:47.238 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:16:47.259 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:16:47.259 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:16:47.293 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2250.7035ms
2018-01-15 09:16:47.300 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:16:47.301 +00:00 [INF] Request finished in 2471.0812ms 200 text/html; charset=utf-8
2018-01-15 09:16:48.966 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:16:48.970 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:16:48.970 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:16:48.972 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:16:48.973 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:16:48.974 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:16:48.980 +00:00 [INF] Authorization was successful for user: 8a40f90b-42e6-41c3-8398-fe0c32ac6c94.
2018-01-15 09:16:48.983 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:16:48.985 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:16:48.986 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-15 09:16:49.032 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-15 09:16:49.154 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 122.4966ms.
2018-01-15 09:16:49.156 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:16:49.156 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:16:49.166 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:16:49.169 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:16:49.171 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:16:49.171 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:16:49.171 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:16:49.171 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:16:49.171 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:16:49.172 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 197.3099ms
2018-01-15 09:16:49.174 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:16:49.175 +00:00 [INF] Request finished in 209.0927ms 200 text/html; charset=utf-8
2018-01-15 09:17:05.020 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-15 09:17:05.022 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:17:05.022 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:05.024 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-15 09:17:05.024 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:17:05.030 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-15 09:17:05.030 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:17:05.036 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-15 09:17:05.040 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-15 09:17:05.895 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-15 09:17:05.895 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:05.897 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 09:17:05.899 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-15 09:17:05.901 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-15 09:17:05.902 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 872.1135ms
2018-01-15 09:17:05.904 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:17:05.905 +00:00 [INF] Request finished in 884.8045ms 302 
2018-01-15 09:17:28.780 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:17:28.783 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:17:28.783 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:17:28.783 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:17:28.783 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:17:28.789 +00:00 [INF] Authorization failed for user: null.
2018-01-15 09:17:28.794 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:17:28.799 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-15 09:17:28.804 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-15 09:17:28.804 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-15 09:17:28.805 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-15 09:17:28.806 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 09:17:28.806 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-15 09:17:28.808 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 24.709600000000002ms
2018-01-15 09:17:28.810 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:17:28.810 +00:00 [INF] Request finished in 30.0792ms 302 
2018-01-15 09:17:35.379 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 2826
2018-01-15 09:17:35.382 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-15 09:17:35.389 +00:00 [DBG] Connection id "0HLARV2P7T8OE", Request id "0HLARV2P7T8OE:00000005": started reading request body.
2018-01-15 09:17:35.392 +00:00 [DBG] Connection id "0HLARV2P7T8OE", Request id "0HLARV2P7T8OE:00000005": done reading request body.
2018-01-15 09:17:35.397 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 09:17:35.398 +00:00 [VRB] MessageReceived: '?code=8680456e3ff75267d4819e278fec1c0c674a5da91f25280ba9dea70c58579017&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwMDc4NTUsImV4cCI6MTUxNjAwODE1NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTYwNDY0ODgwNTE2MDYuWWpObFltWmhPVFF0T0RFME5DMDBOV1EwTFdJMk5EZ3RPR05pTURRME56UTBNVFJrTkRobU16SXdZMk10TkdFME1TMDBZVEppTFRnMFl6SXRNamd5TjJWa1lUSmxZbU5tIiwiaWF0IjoxNTE2MDA3ODU1LCJhdF9oYXNoIjoidExKeEotU05iYkJHUFlIM25iTVBjUSIsImNfaGFzaCI6IjlvdG1IR01nTG5OS2djNlBSYXAyRUEiLCJzaWQiOiIxZTNhYTAyYWYyZDA5M2QyMTI1ZWY2OTUwMGE4ZTEzYiIsInN1YiI6Ijg0MzEwN2U1LTQyNTYtNGQ5ZC1hNmIwLTRjZGRiNTQ4YTljMiIsImF1dGhfdGltZSI6MTUxNjAwNzgzOSwiaWRwIjoibG9jYWwiLCJhbXIiOlsicHdkIl19.hckVSKvwJXEu5xRU6xlH4qlelfmzPS2WFH6iWVl5aQaraf7N5lmqC--A7nv0yLDdOoewjwg_7x66fY9tkm7PvmHnhZNKRv9bhYpujUX_aGxHebqMuFQuTY_qU0j9gNylxKpW3YUg42djlztBL0qYKuptLKnQa_xNLH5IFCfR9XZPDkNSgRx10MltPUyW8wHe-RH5j4LQySxRZmBqNKUMM1xrrOMtDMe7KuHWDiKgXs9lru4vL5DuS4Obkzb5xGQlDd9LvfxUPcpbsuILDvzKwT9t53JqaB3JusUCd1oQgevT02BqeobkUoVb5Nh44qYZG2C_3nKm_GsYbw0DfZm-pw&access_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwMDc4NTUsImV4cCI6MTUxNjAxMTQ1NSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjpbImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9yZXNvdXJjZXMiLCJhcGkxIl0sImNsaWVudF9pZCI6Im12YyIsInN1YiI6Ijg0MzEwN2U1LTQyNTYtNGQ5ZC1hNmIwLTRjZGRiNTQ4YTljMiIsImF1dGhfdGltZSI6MTUxNjAwNzgzOSwiaWRwIjoibG9jYWwiLCJBc3BOZXQuSWRlbnRpdHkuU2VjdXJpdHlTdGFtcCI6IjU2NWZlOTA3LTQ1ZGYtNDczMC05MDE1LWZiY2ZiNTc2MWEwYiIsImFkbWlucGVybWlzc2lvbiI6WyJDcmVhdGUiLCJVcGRhdGUiLCJEZWxldGUiLCJSZWFkIl0sInJvbGUiOiJBZG1pbmlzdHJhdG9yIiwicHJlZmVycmVkX3VzZXJuYW1lIjoic3VwZXJ1c2VyQG1haWwuY29tIiwibmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsIjoic3VwZXJ1c2VyQG1haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiYWRtaW5wZXJtaXNzaW9uIiwiYXBpMSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.Ukj714hXt6o1c3oRZIpaf6iivJuw8AGyjR5dV5d5ptAluogrurhIUmiVVXEfixGEnlWB-w5mxYbK0SR0NWnB0rRQRTnq2G1ex_-PNhw8Wr2VNb-RDHkJJcsj6QQRaGA8ZhPe6MsBYX_akW5IBHIZ09bj1qV0RVcIab-BRFftjvWrgookCbI2k4cYAn3k3mFhp9a-n2l7g5bdah2fIbV_Ne-WoQXnxl6mZfQHNXJCWYBh2ZJRmRqIHbL-EdxYwHN8rdD2uFdR181h-jWVcZ-6uTRJ45V8YPFdrDk0Wf1Vq7_NOV5mTM9b6zJfzMLcJDoFJ3OymoYnbLx9i3lpf6It6A&token_type=Bearer&expires_in=3600&scope=openid%20profile%20adminpermission%20api1%20offline_access&state=CfDJ8Ee-yGnFPVRLuLTeaQxA6XPbbXETLz28fQWPEF7B3V5QT1HHwtv4GJU8tO28AsSoKBJhe7aBI5kwE6Cd9Qlx3buqF1W-zIo7Qbs_v1hQtwJkeQ6-qpXyBtqvtXaV-oGZvhFgrDDCzlDrEPYdUjoOZpwLZtOnrZY-CtxDmHA_OrqztCS6r42tD93Jhj7uevqhEW5XYGVuwNQJMYbcr0XVpNiOItFznowBynmHW6fvE2_TCQ1ofQWLZF4sDtJV48Sa8K52nAkN2MnrLLA35nZNn0PVamdRJIFh-WljFN_Xoyrzo-DIjeaiVtzHUoOao8Mt8zF72RqJoFt9cglO5ghEIjo&session_state=10uoLVSTWBNUX-tmf0odvoyYa490_a-Dv2Bzu1jTV2c.c64a31db66d950b4aeae1828ccab47cc'.
2018-01-15 09:17:35.399 +00:00 [DBG] Updating configuration
2018-01-15 09:17:35.399 +00:00 [DBG] Received 'id_token'
2018-01-15 09:17:35.440 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-15 09:17:35.443 +00:00 [VRB] Authorization code received.
2018-01-15 09:17:35.444 +00:00 [DBG] Redeeming code for tokens.
2018-01-15 09:17:35.864 +00:00 [VRB] Token response received.
2018-01-15 09:17:35.866 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-15 09:17:36.069 +00:00 [VRB] User information received: {
  "sub": "843107e5-4256-4d9d-a6b0-4cddb548a9c2",
  "auth_time": 1516007839,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "565fe907-45df-4730-9015-fbcfb5761a0b",
  "adminpermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-15 09:17:36.073 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:17:36.074 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-15 09:17:36.076 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:17:36.076 +00:00 [INF] Request finished in 697.4053ms 302 
2018-01-15 09:17:36.080 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:17:36.082 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:17:36.082 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:36.084 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:17:36.084 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:17:36.084 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:17:36.084 +00:00 [INF] Authorization was successful for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:17:36.085 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:17:36.087 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:17:36.087 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-15 09:17:36.087 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:17:36.087 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:17:36.089 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:36.090 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:36.091 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:17:36.091 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:17:36.091 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:17:36.092 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:17:36.092 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:17:36.092 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 8.0367ms
2018-01-15 09:17:36.093 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:17:36.094 +00:00 [INF] Request finished in 13.7302ms 200 text/html; charset=utf-8
2018-01-15 09:17:38.742 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:17:38.747 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:17:38.747 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:38.752 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:17:38.752 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:17:38.753 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:17:38.753 +00:00 [INF] Authorization was successful for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:17:38.754 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:17:38.756 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:17:38.756 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-15 09:17:38.756 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:17:38.756 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:17:38.758 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:38.760 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:17:38.762 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:17:38.762 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:17:38.762 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:17:38.762 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:17:38.762 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:17:38.762 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 9.5717ms
2018-01-15 09:17:38.764 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:17:38.764 +00:00 [INF] Request finished in 22.6309ms 200 text/html; charset=utf-8
2018-01-15 09:18:00.156 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:18:00.159 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:18:00.159 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:18:00.161 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:18:00.161 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:18:00.162 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:18:00.162 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:18:49.126 +00:00 [INF] Authorization failed for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:18:49.128 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:18:49.132 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-15 09:18:49.140 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-15 09:18:49.142 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 48979.535ms
2018-01-15 09:18:49.144 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:18:49.144 +00:00 [INF] Request finished in 48987.4785ms 302 
2018-01-15 09:18:49.148 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-15 09:18:49.150 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:18:49.150 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:18:49.152 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-15 09:18:49.152 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:18:49.154 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:18:49.154 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:18:49.154 +00:00 [DBG] Request did not match any routes.
2018-01-15 09:18:49.154 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:18:49.154 +00:00 [INF] Request finished in 6.5086ms 404 
2018-01-15 09:19:06.788 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:19:06.791 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:19:06.791 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:19:06.793 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:19:06.793 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:19:06.793 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:19:06.793 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:20:52.845 +00:00 [INF] Authorization failed for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:20:52.847 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:20:52.854 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-15 09:20:52.857 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-15 09:20:52.860 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 106067.0856ms
2018-01-15 09:20:52.864 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:20:52.864 +00:00 [INF] Request finished in 106075.8146ms 302 
2018-01-15 09:20:52.871 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-15 09:20:52.874 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:20:52.874 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:20:52.877 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-15 09:20:52.877 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:20:52.877 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:20:52.878 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:20:52.878 +00:00 [DBG] Request did not match any routes.
2018-01-15 09:20:52.878 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:20:52.878 +00:00 [INF] Request finished in 7.1674ms 404 
2018-01-15 09:20:55.108 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:20:55.111 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:20:55.111 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:20:55.113 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:20:55.113 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:20:55.113 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:20:55.113 +00:00 [INF] Authorization was successful for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:20:55.115 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:20:55.116 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:20:55.117 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-15 09:20:55.117 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:20:55.117 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:20:55.119 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:20:55.121 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:20:55.123 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:20:55.123 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:20:55.123 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:20:55.123 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:20:55.123 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:20:55.123 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 10.1781ms
2018-01-15 09:20:55.125 +00:00 [DBG] Connection id "0HLARV2P7T8OE" completed keep alive response.
2018-01-15 09:20:55.125 +00:00 [INF] Request finished in 17.0312ms 200 text/html; charset=utf-8
2018-01-15 09:22:14.740 +00:00 [DBG] Connection id "0HLARV2P7T8OE" received FIN.
2018-01-15 09:22:14.740 +00:00 [DBG] Connection id "0HLARV2P7T8OE" disconnecting.
2018-01-15 09:22:14.740 +00:00 [DBG] Connection id "0HLARV2P7T8OE" sending FIN.
2018-01-15 09:22:14.740 +00:00 [DBG] Connection id "0HLARV2P7T8OE" stopped.
2018-01-15 09:29:25.709 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:29:25.741 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:29:25.751 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:29:25.764 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:29:25.776 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:29:25.777 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:29:25.778 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:29:25.779 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:29:25.781 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:29:25.785 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:29:25.785 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:29:26.017 +00:00 [DBG] Hosting starting
2018-01-15 09:29:26.183 +00:00 [DBG] Hosting started
2018-01-15 09:29:26.183 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:29:26.183 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:29:26.183 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:29:26.233 +00:00 [DBG] Connection id "0HLARV9S5UI19" started.
2018-01-15 09:29:26.233 +00:00 [DBG] Connection id "0HLARV9S5UI18" started.
2018-01-15 09:29:26.263 +00:00 [DBG] Connection id "0HLARV9S5UI18" reset.
2018-01-15 09:29:26.263 +00:00 [DBG] Connection id "0HLARV9S5UI18" disconnecting.
2018-01-15 09:29:26.264 +00:00 [DBG] Connection id "0HLARV9S5UI18" sending FIN.
2018-01-15 09:29:26.267 +00:00 [DBG] Connection id "0HLARV9S5UI18" stopped.
2018-01-15 09:29:26.316 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:29:26.420 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:29:26.423 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:29:26.438 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:29:26.522 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:29:26.551 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:29:26.559 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:29:26.563 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:29:26.567 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:29:27.175 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:29:28.117 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 939.43090000000007ms.
2018-01-15 09:29:28.169 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:29:28.212 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 42.368300000000005ms.
2018-01-15 09:29:28.216 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:29:28.216 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:29:28.243 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:29:28.308 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:29:28.711 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 402.8184ms.
2018-01-15 09:29:28.721 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:29:28.721 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:29:28.733 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:29:28.733 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:29:28.770 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2218.3511000000003ms
2018-01-15 09:29:28.776 +00:00 [DBG] Connection id "0HLARV9S5UI19" completed keep alive response.
2018-01-15 09:29:28.782 +00:00 [INF] Request finished in 2468.2513ms 200 text/html; charset=utf-8
2018-01-15 09:29:30.742 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:29:30.745 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:29:30.746 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:29:30.748 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:29:30.748 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:29:30.750 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:29:30.756 +00:00 [INF] Authorization failed for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:29:30.761 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:29:30.766 +00:00 [INF] Executing ForbidResult with authentication schemes ([]).
2018-01-15 09:29:30.773 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-15 09:29:30.775 +00:00 [INF] AuthenticationScheme: oidc was forbidden.
2018-01-15 09:29:30.776 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 26.360300000000002ms
2018-01-15 09:29:30.778 +00:00 [DBG] Connection id "0HLARV9S5UI19" completed keep alive response.
2018-01-15 09:29:30.779 +00:00 [INF] Request finished in 36.835ms 302 
2018-01-15 09:29:30.783 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FSecure  
2018-01-15 09:29:30.785 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:29:30.785 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:29:30.787 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-15 09:29:30.787 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:29:30.789 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:29:30.792 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:29:30.793 +00:00 [DBG] Request did not match any routes.
2018-01-15 09:29:30.793 +00:00 [DBG] Connection id "0HLARV9S5UI19" completed keep alive response.
2018-01-15 09:29:30.793 +00:00 [INF] Request finished in 10.0701ms 404 
2018-01-15 09:38:15.349 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:38:15.379 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:38:15.386 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:38:15.399 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:38:15.412 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:38:15.412 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:38:15.413 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:38:15.414 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:38:15.416 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:38:15.419 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:38:15.419 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:38:15.622 +00:00 [DBG] Hosting starting
2018-01-15 09:38:15.751 +00:00 [DBG] Hosting started
2018-01-15 09:38:15.751 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:38:15.751 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:38:15.751 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:38:15.981 +00:00 [DBG] Connection id "0HLARVEQ212ID" started.
2018-01-15 09:38:15.981 +00:00 [DBG] Connection id "0HLARVEQ212IC" started.
2018-01-15 09:38:16.003 +00:00 [DBG] Connection id "0HLARVEQ212IC" reset.
2018-01-15 09:38:16.003 +00:00 [DBG] Connection id "0HLARVEQ212IC" disconnecting.
2018-01-15 09:38:16.004 +00:00 [DBG] Connection id "0HLARVEQ212IC" sending FIN.
2018-01-15 09:38:16.016 +00:00 [DBG] Connection id "0HLARVEQ212IC" stopped.
2018-01-15 09:38:16.047 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:38:16.150 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:38:16.152 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:38:16.162 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:38:16.229 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:38:16.258 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:38:16.267 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:38:16.271 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:38:16.275 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:38:16.836 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:38:17.728 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 889.182ms.
2018-01-15 09:38:17.773 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:38:17.820 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 47.2783ms.
2018-01-15 09:38:17.824 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:38:17.824 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:38:17.847 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:38:17.911 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:38:18.330 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 418.4694ms.
2018-01-15 09:38:18.339 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:38:18.340 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:38:18.353 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:38:18.353 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:38:18.383 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2124.6571ms
2018-01-15 09:38:18.388 +00:00 [DBG] Connection id "0HLARVEQ212ID" completed keep alive response.
2018-01-15 09:38:18.389 +00:00 [INF] Request finished in 2345.9289ms 200 text/html; charset=utf-8
2018-01-15 09:38:46.821 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:38:46.854 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:38:46.864 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:38:46.876 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:38:46.888 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:38:46.889 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:38:46.890 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:38:46.890 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:38:46.892 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:38:46.895 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:38:46.896 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:38:47.115 +00:00 [DBG] Hosting starting
2018-01-15 09:38:47.263 +00:00 [DBG] Hosting started
2018-01-15 09:38:47.263 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:38:47.263 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:38:47.263 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:38:47.483 +00:00 [DBG] Connection id "0HLARVF3EF0GE" started.
2018-01-15 09:38:47.483 +00:00 [DBG] Connection id "0HLARVF3EF0GD" started.
2018-01-15 09:38:47.507 +00:00 [DBG] Connection id "0HLARVF3EF0GD" reset.
2018-01-15 09:38:47.507 +00:00 [DBG] Connection id "0HLARVF3EF0GD" disconnecting.
2018-01-15 09:38:47.508 +00:00 [DBG] Connection id "0HLARVF3EF0GD" sending FIN.
2018-01-15 09:38:47.520 +00:00 [DBG] Connection id "0HLARVF3EF0GD" stopped.
2018-01-15 09:38:47.555 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:38:47.649 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:38:47.651 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:38:47.670 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:38:47.754 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:38:47.790 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:38:47.798 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:38:47.803 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:38:47.808 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:38:48.443 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:38:49.418 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 972.431ms.
2018-01-15 09:38:49.534 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:38:49.591 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 56.708400000000005ms.
2018-01-15 09:38:49.595 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:38:49.595 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:38:49.620 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:38:49.689 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:38:50.072 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 382.9413ms.
2018-01-15 09:38:50.084 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:38:50.085 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:38:50.098 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:38:50.098 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:38:50.133 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2342.6553ms
2018-01-15 09:38:50.141 +00:00 [DBG] Connection id "0HLARVF3EF0GE" completed keep alive response.
2018-01-15 09:38:50.142 +00:00 [INF] Request finished in 2589.9527ms 200 text/html; charset=utf-8
2018-01-15 09:39:03.128 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:39:03.132 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:39:03.133 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:39:03.135 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:39:03.135 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:39:03.137 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:39:03.144 +00:00 [INF] Authorization failed for user: 843107e5-4256-4d9d-a6b0-4cddb548a9c2.
2018-01-15 09:39:03.148 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:39:03.153 +00:00 [INF] Executing ForbidResult with authentication schemes ([]).
2018-01-15 09:39:03.160 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-15 09:39:03.162 +00:00 [INF] AuthenticationScheme: oidc was forbidden.
2018-01-15 09:39:03.164 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 26.573600000000003ms
2018-01-15 09:39:03.166 +00:00 [DBG] Connection id "0HLARVF3EF0GE" completed keep alive response.
2018-01-15 09:39:03.166 +00:00 [INF] Request finished in 37.6076ms 302 
2018-01-15 09:39:03.170 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FSecure  
2018-01-15 09:39:03.172 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:39:03.172 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:39:03.174 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-15 09:39:03.174 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:39:03.177 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:39:03.181 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:39:03.181 +00:00 [DBG] Request did not match any routes.
2018-01-15 09:39:03.181 +00:00 [DBG] Connection id "0HLARVF3EF0GE" completed keep alive response.
2018-01-15 09:39:03.181 +00:00 [INF] Request finished in 11.2279ms 404 
2018-01-15 09:39:18.120 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:39:18.123 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:39:18.123 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:39:18.125 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:39:18.125 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:39:18.125 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:39:18.125 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:39:18.127 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:39:18.128 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-15 09:39:18.128 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:39:18.128 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:39:18.131 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:39:18.131 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:39:18.131 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:39:18.131 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:39:18.131 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:39:18.132 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 7.0782000000000007ms
2018-01-15 09:39:18.135 +00:00 [DBG] Connection id "0HLARVF3EF0GE" completed keep alive response.
2018-01-15 09:39:18.135 +00:00 [INF] Request finished in 14.8068ms 200 text/html; charset=utf-8
2018-01-15 09:39:19.990 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:39:19.992 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:39:19.993 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:39:19.995 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:39:19.995 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:39:19.995 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:39:19.995 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:39:19.997 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:39:19.997 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-15 09:39:19.997 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:39:19.997 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:39:19.999 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:39:19.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:39:19.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:39:19.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:39:19.999 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:39:19.999 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4.0846ms
2018-01-15 09:39:20.001 +00:00 [DBG] Connection id "0HLARVF3EF0GE" completed keep alive response.
2018-01-15 09:39:20.001 +00:00 [INF] Request finished in 11.5609ms 200 text/html; charset=utf-8
2018-01-15 09:39:22.695 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-15 09:39:22.697 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:39:22.698 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:39:22.700 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-15 09:39:22.700 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:39:22.704 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-15 09:39:22.705 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:39:22.712 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-15 09:39:22.715 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-15 09:39:23.241 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-15 09:39:23.242 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:39:23.245 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 09:39:23.246 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-15 09:39:23.249 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-15 09:39:23.249 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 544.4195ms
2018-01-15 09:39:23.251 +00:00 [DBG] Connection id "0HLARVF3EF0GE" completed keep alive response.
2018-01-15 09:39:23.251 +00:00 [INF] Request finished in 556.1557ms 302 
2018-01-15 09:39:41.551 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:39:41.583 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:39:41.591 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:39:41.607 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:39:41.622 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:39:41.622 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:39:41.624 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:39:41.624 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:39:41.627 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:39:41.631 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:39:41.631 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:39:41.885 +00:00 [DBG] Hosting starting
2018-01-15 09:39:42.035 +00:00 [DBG] Hosting started
2018-01-15 09:39:42.035 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:39:42.035 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:39:42.035 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:39:42.256 +00:00 [DBG] Connection id "0HLARVFJOQAU2" started.
2018-01-15 09:39:42.256 +00:00 [DBG] Connection id "0HLARVFJOQAU1" started.
2018-01-15 09:39:42.279 +00:00 [DBG] Connection id "0HLARVFJOQAU2" reset.
2018-01-15 09:39:42.280 +00:00 [DBG] Connection id "0HLARVFJOQAU2" disconnecting.
2018-01-15 09:39:42.281 +00:00 [DBG] Connection id "0HLARVFJOQAU2" sending FIN.
2018-01-15 09:39:42.294 +00:00 [DBG] Connection id "0HLARVFJOQAU2" stopped.
2018-01-15 09:39:42.331 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:39:42.411 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:39:42.424 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:39:42.497 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:39:42.531 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:39:42.543 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:39:42.547 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:39:42.551 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:39:43.154 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:39:44.068 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 912.0048ms.
2018-01-15 09:39:44.114 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:39:44.160 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 45.992000000000004ms.
2018-01-15 09:39:44.164 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:39:44.164 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:39:44.193 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:39:44.261 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:39:44.657 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 395.91970000000003ms.
2018-01-15 09:39:44.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:39:44.671 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:39:44.687 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:39:44.687 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:39:44.729 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2197.2709ms
2018-01-15 09:39:44.742 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:39:44.743 +00:00 [INF] Request finished in 2415.5899ms 200 text/html; charset=utf-8
2018-01-15 09:39:53.669 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-15 09:39:53.671 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:39:53.673 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-15 09:39:53.688 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:39:53.689 +00:00 [INF] Request finished in 19.7599ms 200 text/plain
2018-01-15 09:40:02.032 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:40:02.034 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.034 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:40:02.034 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:40:02.035 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:40:02.035 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:40:02.037 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:40:02.037 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-15 09:40:02.037 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:40:02.037 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:40:02.040 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:40:02.040 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:40:02.040 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:40:02.040 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:40:02.040 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:40:02.041 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6.0612ms
2018-01-15 09:40:02.043 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:40:02.044 +00:00 [INF] Request finished in 11.8811ms 200 text/html; charset=utf-8
2018-01-15 09:40:02.058 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-15 09:40:02.065 +00:00 [DBG] Connection id "0HLARVFJOQAU3" started.
2018-01-15 09:40:02.065 +00:00 [DBG] Connection id "0HLARVFJOQAU4" started.
2018-01-15 09:40:02.069 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.069 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-15 09:40:02.069 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-15 09:40:02.069 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-15 09:40:02.069 +00:00 [DBG] Connection id "0HLARVFJOQAU6" started.
2018-01-15 09:40:02.069 +00:00 [DBG] Connection id "0HLARVFJOQAU5" started.
2018-01-15 09:40:02.095 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-15 09:40:02.095 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.095 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-15 09:40:02.100 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.100 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-15 09:40:02.100 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-15 09:40:02.102 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.123 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-15 09:40:02.124 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.124 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:40:02.124 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-15 09:40:02.124 +00:00 [INF] Request finished in 65.637ms 200 text/css
2018-01-15 09:40:02.160 +00:00 [DBG] Connection id "0HLARVFJOQAU4" completed keep alive response.
2018-01-15 09:40:02.165 +00:00 [INF] Request finished in 90.4692ms 200 text/css
2018-01-15 09:40:02.170 +00:00 [DBG] Connection id "0HLARVFJOQAU6" completed keep alive response.
2018-01-15 09:40:02.193 +00:00 [INF] Request finished in 100.0247ms 200 application/javascript
2018-01-15 09:40:02.193 +00:00 [DBG] Connection id "0HLARVFJOQAU3" completed keep alive response.
2018-01-15 09:40:02.193 +00:00 [INF] Request finished in 123.5437ms 200 application/javascript
2018-01-15 09:40:02.222 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-15 09:40:02.226 +00:00 [DBG] Connection id "0HLARVFJOQAU5" completed keep alive response.
2018-01-15 09:40:02.228 +00:00 [INF] Request finished in 128.3081ms 200 application/javascript
2018-01-15 09:40:02.232 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:02.232 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-15 09:40:02.247 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:40:02.247 +00:00 [INF] Request finished in 25.1449ms 200 text/plain
2018-01-15 09:40:04.702 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:40:04.704 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 09:40:04.704 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:40:04.704 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:40:04.706 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:40:04.712 +00:00 [INF] Authorization failed for user: null.
2018-01-15 09:40:04.716 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:40:04.721 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-15 09:40:04.727 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-15 09:40:04.727 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-15 09:40:05.608 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-15 09:40:05.611 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 09:40:05.611 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-15 09:40:05.614 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 907.68350000000009ms
2018-01-15 09:40:05.616 +00:00 [DBG] Connection id "0HLARVFJOQAU4" completed keep alive response.
2018-01-15 09:40:05.616 +00:00 [INF] Request finished in 914.7575ms 302 
2018-01-15 09:40:22.153 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-15 09:40:22.158 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-15 09:40:22.173 +00:00 [DBG] Connection id "0HLARVFJOQAU6", Request id "0HLARVFJOQAU6:00000002": started reading request body.
2018-01-15 09:40:22.174 +00:00 [DBG] Connection id "0HLARVFJOQAU6", Request id "0HLARVFJOQAU6:00000002": done reading request body.
2018-01-15 09:40:22.181 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 09:40:22.183 +00:00 [VRB] MessageReceived: '?code=3a15e00016dda05c2143107b2096412ea24fbf065fa47e795b5b8b356801d9ee&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwMDkyMjEsImV4cCI6MTUxNjAwOTUyMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTYwNjAwNTYwNDUwMDEuTm1SaVpqUTJPV1F0WW1JNVlpMDBOVEZpTFRreFlUQXRZamhpTkdGaE9XRTVNR1kxTnprMk5HVmhZakV0T0dNek15MDBOV0k0TFRrek9HVXRaVE0yTlRka1lXWXhNek5rIiwiaWF0IjoxNTE2MDA5MjIxLCJjX2hhc2giOiJua212dmRHUEphSG9ONUhxV0dTakJ3Iiwic2lkIjoiYWQyZjM2ZGViZDk4NmE3ZDRkMTk4ZTdmNDdmMDMyZGYiLCJzdWIiOiIxMTZkOWNjZi03ZDdiLTRlYmQtYmM3Mi1iMmU1MWI0YjhlNzkiLCJhdXRoX3RpbWUiOjE1MTYwMDkyMTcsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIwYTlmY2UzMC1iMTBlLTRjOTctYTk0Yi1jYzk4MGJlY2QyM2IiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiVXBkYXRlIiwiRGVsZXRlIiwiUmVhZCJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.Z0WQn1F5_IICFSdrO7oQC2zjn2uZmaoyoV8nPXPJtK-OqsXuGvDSRHi1c10JTGxNGYdZ0owqlAaEzRJNiWz0Kyg0fhWb2XFKdhh8n0CSbN6sAkdvzDRypRov8F-jXX6rxwYa_umHLHjpONpFLbLZ3YaEpkYBP1D9tVr8GuIuhDhuBcShcn5PE7MN85VM5sd6VBK3DbLrmG8XElavxRlWoPF1RJsAFASp8Fe4vVktCrapk9bgGPA5OhQGzU7rST1T1dXsXH14e8X2PeXPB6LXdW9K1yWBUBo5EXv2kkDjqSHVPqFNOms8_XQZcaVcrKVb27s1waARJgvc5B8Px2LEjg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8Ee-yGnFPVRLuLTeaQxA6XN0BpBwVwPQOMXASJS0bMKsjgQkJ_k8lI07HjZYSefj6R2Dakm17y9W9Vdi0HhWy4YdGVPHe3Ol6-tV5-OAW5ZRCO3tsUNLxSCpXCrtLrEcs_abwo3jHnadXHF8lbMtNKPw89TTHE7_Sr-7F0aCSC-1tiHrpe1Apw1ZlDHtzxOrQDzXvruG8XVU7hcj5najFqxssGwzOGUV-FOpcHV0EmnTdKduP3qebW31g6yAyVEbpjruQP-NC2bWpubq0woXF77wwx9k5k6MYXxG-DCtbd4u8CfAABGzUnorWf6F22u3G9IDF0XRAG_nn-4JqbUc6x0&session_state=WFc4ZhAfB8ov9CAIIjKvN44U8igwrrNviwmu6A1FV8I.40a89d42778aae3304c54bc18136bdd2'.
2018-01-15 09:40:22.184 +00:00 [DBG] Updating configuration
2018-01-15 09:40:22.184 +00:00 [DBG] Received 'id_token'
2018-01-15 09:40:22.233 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-15 09:40:22.240 +00:00 [VRB] Authorization code received.
2018-01-15 09:40:22.241 +00:00 [DBG] Redeeming code for tokens.
2018-01-15 09:40:22.698 +00:00 [VRB] Token response received.
2018-01-15 09:40:22.701 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-15 09:40:22.907 +00:00 [VRB] User information received: {
  "sub": "116d9ccf-7d7b-4ebd-bc72-b2e51b4b8e79",
  "auth_time": 1516009217,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "0a9fce30-b10e-4c97-a94b-cc980becd23b",
  "adminpermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-15 09:40:22.912 +00:00 [VRB] Performing protect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:22.914 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-15 09:40:22.917 +00:00 [DBG] Connection id "0HLARVFJOQAU6" completed keep alive response.
2018-01-15 09:40:22.917 +00:00 [INF] Request finished in 763.675ms 302 
2018-01-15 09:40:22.922 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:40:22.924 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:22.925 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:22.927 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:40:22.927 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:40:22.927 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:40:22.928 +00:00 [INF] Authorization was successful for user: 116d9ccf-7d7b-4ebd-bc72-b2e51b4b8e79.
2018-01-15 09:40:22.930 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:40:22.931 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:40:22.932 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-15 09:40:23.032 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-15 09:40:23.166 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Secure.cshtml' completed in 134.1867ms.
2018-01-15 09:40:23.168 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:40:23.168 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:40:23.177 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.179 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.181 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:40:23.181 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:40:23.181 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:40:23.181 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:40:23.181 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:40:23.183 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 255.7923ms
2018-01-15 09:40:23.185 +00:00 [DBG] Connection id "0HLARVFJOQAU3" completed keep alive response.
2018-01-15 09:40:23.185 +00:00 [INF] Request finished in 263.5514ms 200 text/html; charset=utf-8
2018-01-15 09:40:23.201 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-15 09:40:23.217 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-15 09:40:23.217 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-15 09:40:23.217 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-15 09:40:23.240 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:23.241 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-15 09:40:23.241 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:23.242 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.242 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.246 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:23.246 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:23.246 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.246 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-15 09:40:23.247 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.252 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-15 09:40:23.253 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-15 09:40:23.283 +00:00 [DBG] Connection id "0HLARVFJOQAU4" completed keep alive response.
2018-01-15 09:40:23.284 +00:00 [INF] Request finished in 67.2396ms 200 application/javascript
2018-01-15 09:40:23.288 +00:00 [DBG] Connection id "0HLARVFJOQAU5" completed keep alive response.
2018-01-15 09:40:23.310 +00:00 [INF] Request finished in 109.3978ms 200 text/css
2018-01-15 09:40:23.311 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-15 09:40:23.335 +00:00 [DBG] Connection id "0HLARVFJOQAU3" completed keep alive response.
2018-01-15 09:40:23.336 +00:00 [INF] Request finished in 118.7452ms 200 application/javascript
2018-01-15 09:40:23.336 +00:00 [DBG] Connection id "0HLARVFJOQAU6" completed keep alive response.
2018-01-15 09:40:23.336 +00:00 [INF] Request finished in 118.8897ms 200 application/javascript
2018-01-15 09:40:23.365 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:23.368 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.392 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-15 09:40:23.395 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:40:23.395 +00:00 [INF] Request finished in 154.1102ms 200 text/css
2018-01-15 09:40:23.495 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-15 09:40:23.497 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:23.497 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:23.500 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-15 09:40:23.505 +00:00 [DBG] Connection id "0HLARVFJOQAU5" completed keep alive response.
2018-01-15 09:40:23.505 +00:00 [INF] Request finished in 10.7512ms 200 text/plain
2018-01-15 09:40:25.735 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 09:40:25.738 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.738 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.740 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 09:40:25.740 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:40:25.740 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 09:40:25.740 +00:00 [INF] Authorization was successful for user: 116d9ccf-7d7b-4ebd-bc72-b2e51b4b8e79.
2018-01-15 09:40:25.742 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:40:25.744 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:40:25.744 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-15 09:40:25.744 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 09:40:25.744 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 09:40:25.746 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.748 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.750 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:40:25.750 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:40:25.751 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:40:25.751 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:40:25.751 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:40:25.751 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 10.975900000000001ms
2018-01-15 09:40:25.754 +00:00 [DBG] Connection id "0HLARVFJOQAU4" completed keep alive response.
2018-01-15 09:40:25.755 +00:00 [INF] Request finished in 19.1843ms 200 text/html; charset=utf-8
2018-01-15 09:40:25.770 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-15 09:40:25.770 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=EWaMeWsJBYWmL2g_KkgXZQ5nPe-a3Ichp0LEgzXczKo  
2018-01-15 09:40:25.772 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-15 09:40:25.775 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-15 09:40:25.776 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-15 09:40:25.776 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.776 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.780 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.780 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.785 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.785 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-15 09:40:25.785 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.786 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.786 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.790 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.791 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.793 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\js\site.js'
2018-01-15 09:40:25.794 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-15 09:40:25.816 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-15 09:40:25.820 +00:00 [DBG] Connection id "0HLARVFJOQAU1" completed keep alive response.
2018-01-15 09:40:25.820 +00:00 [DBG] Connection id "0HLARVFJOQAU6" completed keep alive response.
2018-01-15 09:40:25.820 +00:00 [INF] Request finished in 48.7312ms 200 application/javascript
2018-01-15 09:40:25.820 +00:00 [INF] Request finished in 50.7227ms 200 application/javascript
2018-01-15 09:40:25.823 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\css\site.css'
2018-01-15 09:40:25.832 +00:00 [DBG] Connection id "0HLARVFJOQAU3" completed keep alive response.
2018-01-15 09:40:25.832 +00:00 [INF] Request finished in 62.1448ms 200 text/css
2018-01-15 09:40:25.847 +00:00 [DBG] Connection id "0HLARVFJOQAU5" completed keep alive response.
2018-01-15 09:40:25.848 +00:00 [INF] Request finished in 71.883ms 200 text/css
2018-01-15 09:40:25.866 +00:00 [DBG] Connection id "0HLARVFJOQAU4" completed keep alive response.
2018-01-15 09:40:25.866 +00:00 [INF] Request finished in 90.8823ms 200 application/javascript
2018-01-15 09:40:25.924 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css.map  
2018-01-15 09:40:25.926 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:40:25.926 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:40:25.929 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'E:\GitHub\IdentityServer4\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map'
2018-01-15 09:40:25.932 +00:00 [DBG] Connection id "0HLARVFJOQAU6" completed keep alive response.
2018-01-15 09:40:25.932 +00:00 [INF] Request finished in 8.5294ms 200 text/plain
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU1" received FIN.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU6" received FIN.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU6" disconnecting.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU1" disconnecting.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU4" received FIN.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU6" sending FIN.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU4" disconnecting.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU5" received FIN.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU4" sending FIN.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU5" disconnecting.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU6" stopped.
2018-01-15 09:41:33.196 +00:00 [DBG] Connection id "0HLARVFJOQAU1" sending FIN.
2018-01-15 09:41:33.196 +00:00 [DBG] Connection id "0HLARVFJOQAU4" stopped.
2018-01-15 09:41:33.196 +00:00 [DBG] Connection id "0HLARVFJOQAU5" sending FIN.
2018-01-15 09:41:33.197 +00:00 [DBG] Connection id "0HLARVFJOQAU5" stopped.
2018-01-15 09:41:33.195 +00:00 [DBG] Connection id "0HLARVFJOQAU3" received FIN.
2018-01-15 09:41:33.207 +00:00 [DBG] Connection id "0HLARVFJOQAU3" disconnecting.
2018-01-15 09:41:33.207 +00:00 [DBG] Connection id "0HLARVFJOQAU3" sending FIN.
2018-01-15 09:41:33.207 +00:00 [DBG] Connection id "0HLARVFJOQAU3" stopped.
2018-01-15 09:41:33.207 +00:00 [DBG] Connection id "0HLARVFJOQAU1" stopped.
2018-01-15 09:42:11.251 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:42:11.283 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:42:11.291 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:42:11.304 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:42:11.319 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:42:11.320 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:42:11.321 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:42:11.322 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:42:11.324 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:42:11.329 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:42:11.330 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:42:11.567 +00:00 [DBG] Hosting starting
2018-01-15 09:42:11.712 +00:00 [DBG] Hosting started
2018-01-15 09:42:11.712 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:42:11.712 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:42:11.712 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:42:11.926 +00:00 [DBG] Connection id "0HLARVH0C5G43" started.
2018-01-15 09:42:11.926 +00:00 [DBG] Connection id "0HLARVH0C5G42" started.
2018-01-15 09:42:11.953 +00:00 [DBG] Connection id "0HLARVH0C5G42" reset.
2018-01-15 09:42:11.953 +00:00 [DBG] Connection id "0HLARVH0C5G42" disconnecting.
2018-01-15 09:42:11.954 +00:00 [DBG] Connection id "0HLARVH0C5G42" sending FIN.
2018-01-15 09:42:11.966 +00:00 [DBG] Connection id "0HLARVH0C5G42" stopped.
2018-01-15 09:42:12.001 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:42:12.098 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:42:12.100 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:42:12.112 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:42:12.201 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:42:12.240 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:42:12.248 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:42:12.252 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:42:12.256 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:42:12.890 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:42:13.857 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 963.78190000000006ms.
2018-01-15 09:42:13.911 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:42:13.955 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 43.937200000000004ms.
2018-01-15 09:42:13.959 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:42:13.960 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:42:13.986 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:42:14.133 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:42:14.527 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 394.57120000000003ms.
2018-01-15 09:42:14.537 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:42:14.538 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:42:14.551 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:42:14.551 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:42:14.582 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2342.6413000000002ms
2018-01-15 09:42:14.589 +00:00 [DBG] Connection id "0HLARVH0C5G43" completed keep alive response.
2018-01-15 09:42:14.591 +00:00 [INF] Request finished in 2593.3298ms 200 text/html; charset=utf-8
2018-01-15 09:42:32.729 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:42:32.733 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:42:32.733 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:42:32.735 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:42:32.735 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:42:32.736 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:42:32.737 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:42:49.114 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:42:49.143 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:42:49.151 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:42:49.165 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:42:49.179 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:42:49.180 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:42:49.181 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:42:49.182 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:42:49.185 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:42:49.188 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:42:49.189 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:42:49.424 +00:00 [DBG] Hosting starting
2018-01-15 09:42:49.567 +00:00 [DBG] Hosting started
2018-01-15 09:42:49.567 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:42:49.567 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:42:49.567 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:42:49.742 +00:00 [DBG] Connection id "0HLARVHBKQJE5" started.
2018-01-15 09:42:49.742 +00:00 [DBG] Connection id "0HLARVHBKQJE4" started.
2018-01-15 09:42:49.830 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:42:49.830 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:42:49.953 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:42:49.953 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:42:49.954 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:42:49.954 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:42:49.989 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:42:49.989 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:42:50.076 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:42:50.076 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:42:50.129 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:42:50.129 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:42:50.133 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:42:52.598 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:42:59.850 +00:00 [WRN] Heartbeat took longer than ""00:00:01"" at ""2018-01-15T09:42:52.6066278+00:00"".
2018-01-15 09:43:00.297 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:43:11.276 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:43:38.461 +00:00 [INF] Authorization failed for user: 116d9ccf-7d7b-4ebd-bc72-b2e51b4b8e79.
2018-01-15 09:43:38.467 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 09:43:38.473 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-15 09:43:38.484 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-15 09:43:38.489 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 48356.340500000006ms
2018-01-15 09:43:38.497 +00:00 [DBG] Connection id "0HLARVHBKQJE5" completed keep alive response.
2018-01-15 09:43:38.498 +00:00 [INF] Request finished in 48671.5368ms 302 
2018-01-15 09:43:38.514 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-15 09:43:38.517 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:43:38.517 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:43:38.519 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-15 09:43:38.519 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:43:38.521 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:43:38.522 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-15 09:43:38.522 +00:00 [DBG] Request did not match any routes.
2018-01-15 09:43:38.522 +00:00 [DBG] Connection id "0HLARVHBKQJE5" completed keep alive response.
2018-01-15 09:43:38.522 +00:00 [INF] Request finished in 8.1605ms 404 
2018-01-15 09:43:39.159 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:43:40.143 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 983.78640000000007ms.
2018-01-15 09:43:40.222 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:43:40.266 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 43.5583ms.
2018-01-15 09:43:40.270 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:43:40.270 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:43:40.295 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:43:40.363 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:43:40.737 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 373.77660000000003ms.
2018-01-15 09:43:40.746 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:43:40.747 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:43:40.768 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:43:40.768 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:43:40.795 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 50666.0434ms
2018-01-15 09:43:40.800 +00:00 [DBG] Connection id "0HLARVHBKQJE4" completed keep alive response.
2018-01-15 09:43:40.803 +00:00 [INF] Request finished in 50974.7113ms 200 text/html; charset=utf-8
2018-01-15 09:43:45.247 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:43:45.250 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:43:45.250 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:43:45.252 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:43:45.252 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:43:45.252 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:43:45.252 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:51:51.253 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:51:51.287 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:51:51.296 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:51:51.310 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:51:51.322 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:51:51.323 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:51:51.324 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:51:51.325 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:51:51.327 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:51:51.330 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:51:51.331 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:51:51.568 +00:00 [DBG] Hosting starting
2018-01-15 09:51:51.721 +00:00 [DBG] Hosting started
2018-01-15 09:51:51.721 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:51:51.721 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:51:51.721 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:51:51.805 +00:00 [DBG] Connection id "0HLARVMD6AQH7" started.
2018-01-15 09:51:51.805 +00:00 [DBG] Connection id "0HLARVMD6AQH6" started.
2018-01-15 09:51:51.828 +00:00 [DBG] Connection id "0HLARVMD6AQH7" reset.
2018-01-15 09:51:51.828 +00:00 [DBG] Connection id "0HLARVMD6AQH7" disconnecting.
2018-01-15 09:51:51.829 +00:00 [DBG] Connection id "0HLARVMD6AQH7" sending FIN.
2018-01-15 09:51:51.837 +00:00 [DBG] Connection id "0HLARVMD6AQH7" stopped.
2018-01-15 09:51:51.885 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:51:51.979 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:51:51.981 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:51:51.995 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:51:52.079 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:51:52.116 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:51:52.125 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:51:52.128 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:51:52.133 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:51:52.760 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:51:53.719 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 956.29900000000009ms.
2018-01-15 09:51:53.767 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:51:53.815 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 48.4675ms.
2018-01-15 09:51:53.821 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:51:53.821 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:51:53.843 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:51:53.911 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:51:54.303 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 392.0229ms.
2018-01-15 09:51:54.315 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:51:54.315 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:51:54.327 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:51:54.328 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:51:54.358 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2241.8337ms
2018-01-15 09:51:54.364 +00:00 [DBG] Connection id "0HLARVMD6AQH6" completed keep alive response.
2018-01-15 09:51:54.368 +00:00 [INF] Request finished in 2486.4417ms 200 text/html; charset=utf-8
2018-01-15 09:52:03.120 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:52:03.124 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:52:03.124 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:52:03.127 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:52:03.127 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:52:03.129 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:52:03.132 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:55:10.973 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:55:11.004 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:55:11.014 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:55:11.028 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:55:11.042 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:55:11.043 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:55:11.044 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:55:11.044 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:55:11.047 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:55:11.050 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:55:11.051 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:55:11.301 +00:00 [DBG] Hosting starting
2018-01-15 09:55:11.457 +00:00 [DBG] Hosting started
2018-01-15 09:55:11.457 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:55:11.457 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:55:11.457 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:55:11.667 +00:00 [DBG] Connection id "0HLARVO8OBRT1" started.
2018-01-15 09:55:11.667 +00:00 [DBG] Connection id "0HLARVO8OBRT2" started.
2018-01-15 09:55:11.696 +00:00 [DBG] Connection id "0HLARVO8OBRT2" reset.
2018-01-15 09:55:11.696 +00:00 [DBG] Connection id "0HLARVO8OBRT2" disconnecting.
2018-01-15 09:55:11.697 +00:00 [DBG] Connection id "0HLARVO8OBRT2" sending FIN.
2018-01-15 09:55:11.711 +00:00 [DBG] Connection id "0HLARVO8OBRT2" stopped.
2018-01-15 09:55:11.744 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:55:11.833 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:55:11.835 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:55:11.848 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:55:11.930 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:55:11.959 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:55:11.967 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:55:11.971 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:55:11.976 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:55:12.595 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:55:13.541 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 942.2138ms.
2018-01-15 09:55:13.646 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:55:13.693 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 46.067800000000005ms.
2018-01-15 09:55:13.697 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:55:13.697 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:55:13.719 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:55:13.790 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:55:14.179 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 388.32230000000004ms.
2018-01-15 09:55:14.192 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:55:14.193 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:55:14.206 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:55:14.206 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:55:14.239 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2279.9637000000002ms
2018-01-15 09:55:14.253 +00:00 [DBG] Connection id "0HLARVO8OBRT1" completed keep alive response.
2018-01-15 09:55:14.254 +00:00 [INF] Request finished in 2514.7411ms 200 text/html; charset=utf-8
2018-01-15 09:55:33.106 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:55:33.110 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:55:33.110 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:55:33.113 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:55:33.113 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:55:33.115 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:55:33.117 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:56:28.533 +00:00 [INF] User profile is available. Using 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 09:56:28.563 +00:00 [DBG] Reading data from file 'C:\Users\Derek\AppData\Local\ASP.NET\DataProtection-Keys\key-69c8be47-3dc5-4b54-b8b4-de690c40e973.xml'.
2018-01-15 09:56:28.575 +00:00 [DBG] Found key "69c8be47-3dc5-4b54-b8b4-de690c40e973".
2018-01-15 09:56:28.590 +00:00 [DBG] Considering key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with expiration date "2018-01-25T12:46:40.7874721+00:00" as default key.
2018-01-15 09:56:28.603 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:56:28.603 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 09:56:28.604 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 09:56:28.605 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 09:56:28.607 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 09:56:28.610 +00:00 [DBG] Using key "69c8be47-3dc5-4b54-b8b4-de690c40e973" as the default key.
2018-01-15 09:56:28.611 +00:00 [DBG] Key ring with default key "69c8be47-3dc5-4b54-b8b4-de690c40e973" was loaded during application startup.
2018-01-15 09:56:28.825 +00:00 [DBG] Hosting starting
2018-01-15 09:56:28.966 +00:00 [DBG] Hosting started
2018-01-15 09:56:28.966 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 09:56:28.966 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 09:56:28.966 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Server.IISIntegration
2018-01-15 09:56:29.068 +00:00 [DBG] Connection id "0HLARVOVQGA9B" started.
2018-01-15 09:56:29.068 +00:00 [DBG] Connection id "0HLARVOVQGA9A" started.
2018-01-15 09:56:29.097 +00:00 [DBG] Connection id "0HLARVOVQGA9B" reset.
2018-01-15 09:56:29.097 +00:00 [DBG] Connection id "0HLARVOVQGA9B" disconnecting.
2018-01-15 09:56:29.098 +00:00 [DBG] Connection id "0HLARVOVQGA9B" sending FIN.
2018-01-15 09:56:29.115 +00:00 [DBG] Connection id "0HLARVOVQGA9B" stopped.
2018-01-15 09:56:29.155 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 09:56:29.267 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:56:29.270 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:56:29.286 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 09:56:29.377 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:56:29.418 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 09:56:29.426 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:56:29.430 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:56:29.434 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 09:56:30.074 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 09:56:31.016 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Index.cshtml' completed in 940.1639ms.
2018-01-15 09:56:31.064 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 09:56:31.114 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\_ViewStart.cshtml' completed in 49.3331ms.
2018-01-15 09:56:31.118 +00:00 [DBG] The view 'Index' was found.
2018-01-15 09:56:31.118 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 09:56:31.142 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 09:56:31.210 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 09:56:31.593 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 382.38050000000004ms.
2018-01-15 09:56:31.603 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:56:31.603 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:56:31.616 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:56:31.616 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:56:31.649 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 2231.0696000000003ms
2018-01-15 09:56:31.655 +00:00 [DBG] Connection id "0HLARVOVQGA9A" completed keep alive response.
2018-01-15 09:56:31.660 +00:00 [INF] Request finished in 2509.3375ms 200 text/html; charset=utf-8
2018-01-15 09:56:38.057 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 09:56:38.061 +00:00 [VRB] Performing unprotect operation to key "69c8be47-3dc5-4b54-b8b4-de690c40e973" with purposes ('E:\GitHub\IdentityServer4\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 09:56:38.061 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:56:38.064 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 09:56:38.064 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 09:56:38.065 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 09:56:38.067 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 09:56:50.885 +00:00 [INF] Authorization was successful for user: 116d9ccf-7d7b-4ebd-bc72-b2e51b4b8e79.
2018-01-15 09:56:50.887 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 09:56:57.309 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 09:56:57.310 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-15 09:56:57.398 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-15 09:56:57.443 +00:00 [DBG] Compilation of the generated code for the Razor file at 'E:\GitHub\IdentityServer4\src\MvcClient\Views\Home\Administrator.cshtml' completed in 44.5565ms.
2018-01-15 09:56:57.444 +00:00 [DBG] The view 'Administrator' was found.
2018-01-15 09:56:57.444 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-15 09:56:57.449 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 09:56:57.449 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:56:57.449 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:56:57.449 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 09:56:57.449 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 09:56:57.450 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 19384.5082ms
2018-01-15 09:56:57.452 +00:00 [DBG] Connection id "0HLARVOVQGA9A" completed keep alive response.
2018-01-15 09:56:57.452 +00:00 [INF] Request finished in 19394.856ms 200 text/html; charset=utf-8
2018-01-15 11:34:52.595 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 11:34:52.684 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-15 11:34:52.715 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-15 11:34:52.751 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-15 11:34:52.793 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 11:34:52.796 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 11:34:52.799 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 11:34:52.804 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 11:34:52.813 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 11:34:52.827 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-15 11:34:52.830 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-15 11:34:53.465 +00:00 [DBG] Hosting starting
2018-01-15 11:34:53.872 +00:00 [DBG] Hosting started
2018-01-15 11:34:53.875 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 11:34:53.876 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 11:34:53.953 +00:00 [DBG] Connection id "0HLAS1FVJQH5J" started.
2018-01-15 11:34:54.039 +00:00 [DBG] Connection id "0HLAS1FVJQH5J" received FIN.
2018-01-15 11:34:54.041 +00:00 [DBG] Connection id "0HLAS1FVJQH5J" disconnecting.
2018-01-15 11:34:54.043 +00:00 [DBG] Connection id "0HLAS1FVJQH5J" sending FIN.
2018-01-15 11:34:54.047 +00:00 [DBG] Connection id "0HLAS1FVJQH5J" stopped.
2018-01-15 11:34:57.996 +00:00 [DBG] Connection id "0HLAS1FVJQH5K" started.
2018-01-15 11:34:58.422 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 11:34:58.768 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 11:34:58.927 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 11:34:59.271 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 11:34:59.472 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 11:34:59.499 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 11:34:59.510 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 11:34:59.524 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 11:35:02.975 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 11:35:06.073 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 3086.9758ms.
2018-01-15 11:35:06.250 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 11:35:06.397 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 143.298ms.
2018-01-15 11:35:06.423 +00:00 [DBG] The view 'Index' was found.
2018-01-15 11:35:06.425 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 11:35:06.518 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 11:35:06.738 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 11:35:08.099 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1359.276ms.
2018-01-15 11:35:08.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:35:08.141 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:35:08.182 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:35:08.192 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:35:08.290 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8814.2398000000012ms
2018-01-15 11:35:08.394 +00:00 [DBG] Connection id "0HLAS1FVJQH5K" completed keep alive response.
2018-01-15 11:35:08.407 +00:00 [INF] Request finished in 9995.7519ms 200 text/html; charset=utf-8
2018-01-15 11:35:09.693 +00:00 [DBG] Connection id "0HLAS1FVJQH5K" received FIN.
2018-01-15 11:35:09.699 +00:00 [DBG] Connection id "0HLAS1FVJQH5K" disconnecting.
2018-01-15 11:35:09.701 +00:00 [DBG] Connection id "0HLAS1FVJQH5K" sending FIN.
2018-01-15 11:35:09.701 +00:00 [DBG] Connection id "0HLAS1FVJQH5K" stopped.
2018-01-15 11:35:18.990 +00:00 [DBG] Connection id "0HLAS1FVJQH5L" started.
2018-01-15 11:35:18.993 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 11:35:19.004 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 11:35:19.010 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 11:35:19.013 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 11:35:19.019 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 11:35:19.040 +00:00 [INF] Authorization failed for user: null.
2018-01-15 11:35:19.070 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-15 11:35:19.120 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-15 11:35:19.151 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-15 11:35:19.157 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-15 11:35:24.807 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-15 11:35:24.823 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 11:35:24.832 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-15 11:35:24.876 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 5854.1514000000006ms
2018-01-15 11:35:24.905 +00:00 [DBG] Connection id "0HLAS1FVJQH5L" completed keep alive response.
2018-01-15 11:35:24.925 +00:00 [INF] Request finished in 5931.7541ms 302 
2018-01-15 11:35:29.696 +00:00 [DBG] Connection id "0HLAS1FVJQH5L" received FIN.
2018-01-15 11:35:29.716 +00:00 [DBG] Connection id "0HLAS1FVJQH5L" disconnecting.
2018-01-15 11:35:29.717 +00:00 [DBG] Connection id "0HLAS1FVJQH5L" sending FIN.
2018-01-15 11:35:29.718 +00:00 [DBG] Connection id "0HLAS1FVJQH5L" stopped.
2018-01-15 11:36:01.545 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" started.
2018-01-15 11:36:01.566 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-15 11:36:01.609 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-15 11:36:01.628 +00:00 [DBG] Connection id "0HLAS1FVJQH5M", Request id "0HLAS1FVJQH5M:00000001": started reading request body.
2018-01-15 11:36:01.642 +00:00 [DBG] Connection id "0HLAS1FVJQH5M", Request id "0HLAS1FVJQH5M:00000001": done reading request body.
2018-01-15 11:36:01.660 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-15 11:36:01.668 +00:00 [VRB] MessageReceived: '?code=abd5da4db3bdb78441cac7d6b633ae29c3a308e3d4be3beaccace7c6789a7fc0&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwMTYxNjEsImV4cCI6MTUxNjAxNjQ2MSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTYxMjkyNDc5ODAwNDMuWmpGa1lqZzFOMll0T1dVNE1pMDBNVEkzTFRrek16a3RaRGt5TmpZeFpEVmxaVGcxTlRjM05UUTVaVFV0Tnpnd1lpMDBPR1kyTFRsaE5tSXRObUU1T0dZd01UQmhOak0zIiwiaWF0IjoxNTE2MDE2MTYxLCJjX2hhc2giOiJCVjdQUnpLUWN0N0s0YVZhTm0wM3BRIiwic2lkIjoiZDJmMDA2ZmQyOWU0MzAzYjFmYWYxZmY3MTZjYjNjYzgiLCJzdWIiOiJlODQwZTBjZC00ZTViLTRiMTctYWJlOC0wYTU0M2QwMjc2OGMiLCJhdXRoX3RpbWUiOjE1MTYwMTYxNTIsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI0MmJjZjY3Ni1mNzM1LTRlMDctYmEwYS1kNmIzZmQxZWNmOTgiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiVXBkYXRlIiwiRGVsZXRlIiwiUmVhZCJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.b6VX3qpzcsA5b1nhWie_tzZpxTSW0MFlGyPtakiL9-_NW-1GEyicVqh7M2nJKQjCSWNG9hekJa-Sqhc7OP19eP-_8n48B_gvujNWjNN9kyy_OTxCCvfzuZFlIuW1fm2irpkdwHWB6gWvJAMYvXJiSFnnva4fm53w_z7kNLixAh_Ovu5DH2D-qlOz9swHKTrbUWka_1h-rtJDE8Iaz02Eoh2pugRsOJ5a_3VKQfxyFTJCgAu-zfC8Svbbj687Jhy-QpM7efjQqfJZ7srrBV53yKCuxoOMP12k3BHet9zL0Te6OYIqPapRwQ0WBn3T1BBvgZDltqUJUNfguCH4jCksuw&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3rNlKhLlmKnlwIRIv5KhAhO1HFHgYGRuFpmYOSG604VECXPOmtfj7Mt9_30IEhDJ7Y8A-P2unIqGUkiz30QZpbljQiJAtE1YEh8HU_lW_c_lRujgOdFDKoBtpfcm6q7EpYI2RipWOkhG_AE-QDci5coaX0Db9ffmpAWp5fboi0KKzemb9nIkHkHtk6ZFWtrmaFjwoIF6R4vXQmsfa-MeGcCcLJriNHeshNl5J22t4shiLz3TB86hioSiX5V9uloZlaZeU_W8pX5VU6uZhUiIlbSm7CO7V-I67b1glbLLAQGlDfRPmYgJXVZ8Yp6xXq5RY&session_state=Ry8gvxJwUiDzsHtBNzGvwwJSXrtiezjVHSLuK9W956Y.9a90fe832fdecdb4dc7ed7c271f55ed4'.
2018-01-15 11:36:01.677 +00:00 [DBG] Updating configuration
2018-01-15 11:36:01.678 +00:00 [DBG] Received 'id_token'
2018-01-15 11:36:01.794 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-15 11:36:01.822 +00:00 [VRB] Authorization code received.
2018-01-15 11:36:01.828 +00:00 [DBG] Redeeming code for tokens.
2018-01-15 11:36:12.002 +00:00 [VRB] Token response received.
2018-01-15 11:36:12.009 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-15 11:36:15.142 +00:00 [VRB] User information received: {
  "sub": "e840e0cd-4e5b-4b17-abe8-0a543d02768c",
  "auth_time": 1516016152,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "42bcf676-f735-4e07-ba0a-d6b3fd1ecf98",
  "adminpermission": [
    "Create",
    "Update",
    "Delete",
    "Read"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-15 11:36:15.165 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 11:36:15.176 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-15 11:36:15.192 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" completed keep alive response.
2018-01-15 11:36:15.195 +00:00 [INF] Request finished in 13628.4152ms 302 
2018-01-15 11:36:15.208 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-15 11:36:15.213 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 11:36:15.216 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 11:36:15.221 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-15 11:36:15.223 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 11:36:15.224 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-15 11:36:15.229 +00:00 [INF] Authorization was successful for user: e840e0cd-4e5b-4b17-abe8-0a543d02768c.
2018-01-15 11:36:15.240 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 11:36:15.246 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 11:36:15.248 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-15 11:36:15.418 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-15 11:36:15.854 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 416.04310000000004ms.
2018-01-15 11:36:15.862 +00:00 [DBG] The view 'Secure' was found.
2018-01-15 11:36:15.864 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-15 11:36:15.926 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 11:36:15.959 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 11:36:15.989 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 11:36:15.993 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:36:15.995 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:36:15.997 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:36:16.004 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:36:16.009 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 784.077ms
2018-01-15 11:36:16.025 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" completed keep alive response.
2018-01-15 11:36:16.044 +00:00 [INF] Request finished in 836.2478ms 200 text/html; charset=utf-8
2018-01-15 11:36:24.702 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" received FIN.
2018-01-15 11:36:24.704 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" disconnecting.
2018-01-15 11:36:24.706 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" sending FIN.
2018-01-15 11:36:24.707 +00:00 [DBG] Connection id "0HLAS1FVJQH5M" stopped.
2018-01-15 11:38:14.588 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" started.
2018-01-15 11:38:14.592 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 11:38:14.611 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 11:38:14.621 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 11:38:14.626 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 11:38:14.628 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 11:38:14.629 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 11:38:14.633 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 11:38:14.641 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 11:38:14.644 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-15 11:38:14.649 +00:00 [DBG] The view 'Index' was found.
2018-01-15 11:38:14.650 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 11:38:14.654 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 11:38:14.656 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:38:14.667 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:38:14.681 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:38:14.683 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:38:14.752 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 118.5061ms
2018-01-15 11:38:14.759 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" completed keep alive response.
2018-01-15 11:38:14.767 +00:00 [INF] Request finished in 174.6715ms 200 text/html; charset=utf-8
2018-01-15 11:38:15.455 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-15 11:38:15.462 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-15 11:38:15.467 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 11:38:15.471 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-15 11:38:15.472 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 11:38:15.475 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-15 11:38:15.478 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-15 11:38:15.537 +00:00 [INF] Authorization was successful for user: e840e0cd-4e5b-4b17-abe8-0a543d02768c.
2018-01-15 11:38:15.543 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 11:38:15.551 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 11:38:15.552 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-15 11:38:15.705 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-15 11:38:15.823 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 116.0314ms.
2018-01-15 11:38:15.829 +00:00 [DBG] The view 'Administrator' was found.
2018-01-15 11:38:15.853 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-15 11:38:15.886 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-15 11:38:15.893 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:38:15.906 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:38:15.911 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 11:38:15.921 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 11:38:15.924 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 445.64390000000003ms
2018-01-15 11:38:15.990 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" completed keep alive response.
2018-01-15 11:38:15.999 +00:00 [INF] Request finished in 544.2973ms 200 text/html; charset=utf-8
2018-01-15 11:38:24.722 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" received FIN.
2018-01-15 11:38:24.730 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" disconnecting.
2018-01-15 11:38:24.732 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" sending FIN.
2018-01-15 11:38:24.732 +00:00 [DBG] Connection id "0HLAS1FVJQH5N" stopped.
2018-01-15 12:17:25.119 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-15 12:17:25.193 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-15 12:17:25.207 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-15 12:17:25.226 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-15 12:17:25.247 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 12:17:25.250 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-15 12:17:25.290 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-15 12:17:25.295 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-15 12:17:25.335 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-15 12:17:25.345 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-15 12:17:25.351 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-15 12:17:25.776 +00:00 [DBG] Hosting starting
2018-01-15 12:17:25.919 +00:00 [DBG] Hosting started
2018-01-15 12:17:25.919 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-15 12:17:25.921 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-15 12:17:26.120 +00:00 [DBG] Connection id "0HLAS27O76QPV" started.
2018-01-15 12:17:26.177 +00:00 [DBG] Connection id "0HLAS27O76QPV" received FIN.
2018-01-15 12:17:26.178 +00:00 [DBG] Connection id "0HLAS27O76QPV" disconnecting.
2018-01-15 12:17:26.180 +00:00 [DBG] Connection id "0HLAS27O76QPV" sending FIN.
2018-01-15 12:17:26.189 +00:00 [DBG] Connection id "0HLAS27O76QPV" stopped.
2018-01-15 12:17:28.528 +00:00 [DBG] Connection id "0HLAS27O76QQ0" started.
2018-01-15 12:17:28.709 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-15 12:17:28.872 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-15 12:17:28.892 +00:00 [DBG] The request path / does not match a supported file type
2018-01-15 12:17:29.079 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-15 12:17:29.174 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-15 12:17:29.201 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-15 12:17:29.222 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-15 12:17:29.242 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-15 12:17:30.968 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-15 12:17:32.634 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1662.0445ms.
2018-01-15 12:17:32.706 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-15 12:17:32.770 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 62.7849ms.
2018-01-15 12:17:32.780 +00:00 [DBG] The view 'Index' was found.
2018-01-15 12:17:32.783 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-15 12:17:32.838 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-15 12:17:32.931 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-15 12:17:33.590 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 657.28960000000006ms.
2018-01-15 12:17:33.614 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 12:17:33.621 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 12:17:33.649 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-15 12:17:33.651 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-15 12:17:33.709 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4533.0347ms
2018-01-15 12:17:33.722 +00:00 [DBG] Connection id "0HLAS27O76QQ0" completed keep alive response.
2018-01-15 12:17:33.726 +00:00 [INF] Request finished in 5023.9688ms 200 text/html; charset=utf-8
2018-01-16 08:05:32.652 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 08:05:32.727 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 08:05:32.747 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 08:05:32.777 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 08:05:32.820 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:05:32.823 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 08:05:32.825 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:05:32.826 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 08:05:32.831 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 08:05:32.837 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 08:05:32.843 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 08:05:33.439 +00:00 [DBG] Hosting starting
2018-01-16 08:05:33.634 +00:00 [DBG] Hosting started
2018-01-16 08:05:33.635 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 08:05:33.635 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 08:05:34.016 +00:00 [DBG] Connection id "0HLASMVLLI91U" started.
2018-01-16 08:05:34.016 +00:00 [DBG] Connection id "0HLASMVLLI91V" started.
2018-01-16 08:05:34.087 +00:00 [DBG] Connection id "0HLASMVLLI91U" received FIN.
2018-01-16 08:05:34.087 +00:00 [DBG] Connection id "0HLASMVLLI91V" received FIN.
2018-01-16 08:05:34.088 +00:00 [DBG] Connection id "0HLASMVLLI91U" disconnecting.
2018-01-16 08:05:34.089 +00:00 [DBG] Connection id "0HLASMVLLI91U" sending FIN.
2018-01-16 08:05:34.093 +00:00 [DBG] Connection id "0HLASMVLLI91U" stopped.
2018-01-16 08:05:34.103 +00:00 [DBG] Connection id "0HLASMVLLI91V" disconnecting.
2018-01-16 08:05:34.108 +00:00 [DBG] Connection id "0HLASMVLLI91V" sending FIN.
2018-01-16 08:05:34.110 +00:00 [DBG] Connection id "0HLASMVLLI91V" stopped.
2018-01-16 08:05:36.819 +00:00 [DBG] Connection id "0HLASMVLLI920" started.
2018-01-16 08:05:37.083 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:05:37.257 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:05:37.290 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:05:37.486 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:05:37.618 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:05:37.644 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:05:37.663 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:05:37.676 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 08:05:39.412 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 08:05:41.454 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 2035.1529ms.
2018-01-16 08:05:41.525 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 08:05:41.593 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 67.0887ms.
2018-01-16 08:05:41.602 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:05:41.603 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:05:41.668 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 08:05:41.753 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 08:05:42.309 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 554.6488ms.
2018-01-16 08:05:42.324 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:05:42.326 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:05:42.346 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:05:42.347 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:05:42.395 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4767.9924ms
2018-01-16 08:05:42.413 +00:00 [DBG] Connection id "0HLASMVLLI920" completed keep alive response.
2018-01-16 08:05:42.420 +00:00 [DBG] Connection id "0HLASMVLLI921" started.
2018-01-16 08:05:42.420 +00:00 [DBG] Connection id "0HLASMVLLI922" started.
2018-01-16 08:05:42.424 +00:00 [DBG] Connection id "0HLASMVLLI923" started.
2018-01-16 08:05:42.424 +00:00 [DBG] Connection id "0HLASMVLLI924" started.
2018-01-16 08:05:42.424 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/css/site.css  
2018-01-16 08:05:42.424 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/jquery/dist/jquery.js  
2018-01-16 08:05:42.430 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/js/site.js?v=Ynfdc1vuMNOWZfqTj4N3SPcebazoGXiIPgtfE-b2TO4  
2018-01-16 08:05:42.435 +00:00 [INF] Request finished in 5343.9163ms 200 text/html; charset=utf-8
2018-01-16 08:05:42.446 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:05:42.446 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:05:42.469 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:05:42.479 +00:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\lib\jquery\dist\jquery.js'
2018-01-16 08:05:42.479 +00:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\js\site.js'
2018-01-16 08:05:42.479 +00:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\css\site.css'
2018-01-16 08:05:42.497 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/css/bootstrap.css  
2018-01-16 08:05:42.501 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:05:42.503 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\lib\bootstrap\dist\css\bootstrap.css'
2018-01-16 08:05:42.509 +00:00 [DBG] Connection id "0HLASMVLLI923" completed keep alive response.
2018-01-16 08:05:42.509 +00:00 [DBG] Connection id "0HLASMVLLI921" completed keep alive response.
2018-01-16 08:05:42.511 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/lib/bootstrap/dist/js/bootstrap.js  
2018-01-16 08:05:42.514 +00:00 [INF] Request finished in 84.0453ms 200 application/javascript
2018-01-16 08:05:42.559 +00:00 [DBG] Connection id "0HLASMVLLI920" completed keep alive response.
2018-01-16 08:05:42.561 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:05:42.578 +00:00 [INF] Request finished in 154.4982ms 200 text/css
2018-01-16 08:05:42.578 +00:00 [DBG] Connection id "0HLASMVLLI922" completed keep alive response.
2018-01-16 08:05:42.584 +00:00 [INF] Request finished in 86.8248ms 200 text/css
2018-01-16 08:05:42.587 +00:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\lib\bootstrap\dist\js\bootstrap.js'
2018-01-16 08:05:42.619 +00:00 [INF] Request finished in 195.4742ms 200 application/javascript
2018-01-16 08:05:42.675 +00:00 [DBG] Connection id "0HLASMVLLI924" completed keep alive response.
2018-01-16 08:05:42.677 +00:00 [INF] Request finished in 166.1119ms 200 application/javascript
2018-01-16 08:06:39.012 +00:00 [DBG] Connection id "0HLASMVLLI923" received FIN.
2018-01-16 08:06:39.012 +00:00 [DBG] Connection id "0HLASMVLLI921" received FIN.
2018-01-16 08:06:39.020 +00:00 [DBG] Connection id "0HLASMVLLI923" disconnecting.
2018-01-16 08:06:39.027 +00:00 [DBG] Connection id "0HLASMVLLI920" received FIN.
2018-01-16 08:06:39.029 +00:00 [DBG] Connection id "0HLASMVLLI920" disconnecting.
2018-01-16 08:06:39.031 +00:00 [DBG] Connection id "0HLASMVLLI922" received FIN.
2018-01-16 08:06:39.034 +00:00 [DBG] Connection id "0HLASMVLLI922" disconnecting.
2018-01-16 08:06:39.035 +00:00 [DBG] Connection id "0HLASMVLLI923" sending FIN.
2018-01-16 08:06:39.038 +00:00 [DBG] Connection id "0HLASMVLLI920" sending FIN.
2018-01-16 08:06:39.043 +00:00 [DBG] Connection id "0HLASMVLLI922" sending FIN.
2018-01-16 08:06:39.043 +00:00 [DBG] Connection id "0HLASMVLLI922" stopped.
2018-01-16 08:06:39.053 +00:00 [DBG] Connection id "0HLASMVLLI923" stopped.
2018-01-16 08:06:39.060 +00:00 [DBG] Connection id "0HLASMVLLI920" stopped.
2018-01-16 08:06:39.073 +00:00 [DBG] Connection id "0HLASMVLLI921" disconnecting.
2018-01-16 08:06:39.073 +00:00 [DBG] Connection id "0HLASMVLLI924" received FIN.
2018-01-16 08:06:39.075 +00:00 [DBG] Connection id "0HLASMVLLI924" disconnecting.
2018-01-16 08:06:39.076 +00:00 [DBG] Connection id "0HLASMVLLI921" sending FIN.
2018-01-16 08:06:39.076 +00:00 [DBG] Connection id "0HLASMVLLI921" stopped.
2018-01-16 08:06:39.077 +00:00 [DBG] Connection id "0HLASMVLLI924" sending FIN.
2018-01-16 08:06:39.080 +00:00 [DBG] Connection id "0HLASMVLLI924" stopped.
2018-01-16 08:37:35.234 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 08:37:35.327 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 08:37:35.355 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 08:37:35.390 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 08:37:35.422 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:37:35.425 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 08:37:35.428 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:37:35.430 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 08:37:35.437 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 08:37:35.448 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 08:37:35.454 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 08:37:35.987 +00:00 [DBG] Hosting starting
2018-01-16 08:37:36.339 +00:00 [DBG] Hosting started
2018-01-16 08:37:36.359 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 08:37:36.361 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 08:37:36.404 +00:00 [DBG] Connection id "0HLASNHIIPTKF" started.
2018-01-16 08:37:36.493 +00:00 [DBG] Connection id "0HLASNHIIPTKF" received FIN.
2018-01-16 08:37:36.498 +00:00 [DBG] Connection id "0HLASNHIIPTKF" disconnecting.
2018-01-16 08:37:36.502 +00:00 [DBG] Connection id "0HLASNHIIPTKF" sending FIN.
2018-01-16 08:37:36.510 +00:00 [DBG] Connection id "0HLASNHIIPTKF" stopped.
2018-01-16 08:37:41.675 +00:00 [DBG] Connection id "0HLASNHIIPTKG" started.
2018-01-16 08:37:41.901 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:37:42.267 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:37:42.395 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:37:42.634 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:37:42.729 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:37:42.768 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:37:42.791 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:37:42.818 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 08:37:45.848 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 08:37:49.220 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 3349.7299000000003ms.
2018-01-16 08:37:49.477 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 08:37:49.695 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 214.47070000000002ms.
2018-01-16 08:37:49.738 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:37:49.745 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:37:49.843 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 08:37:50.096 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 08:37:51.338 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1205.7441000000001ms.
2018-01-16 08:37:51.378 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:37:51.383 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:37:51.436 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:37:51.465 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:37:51.577 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8843.4074ms
2018-01-16 08:37:51.755 +00:00 [DBG] Connection id "0HLASNHIIPTKG" completed keep alive response.
2018-01-16 08:37:51.801 +00:00 [INF] Request finished in 9929.1842ms 200 text/html; charset=utf-8
2018-01-16 08:37:56.763 +00:00 [DBG] Connection id "0HLASNHIIPTKG" received FIN.
2018-01-16 08:37:56.765 +00:00 [DBG] Connection id "0HLASNHIIPTKG" disconnecting.
2018-01-16 08:37:56.766 +00:00 [DBG] Connection id "0HLASNHIIPTKG" sending FIN.
2018-01-16 08:37:56.766 +00:00 [DBG] Connection id "0HLASNHIIPTKG" stopped.
2018-01-16 08:38:11.405 +00:00 [DBG] Connection id "0HLASNHIIPTKH" started.
2018-01-16 08:38:11.411 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:38:11.415 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:38:11.418 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:38:11.421 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:38:11.426 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:38:11.443 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:38:11.452 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:38:11.476 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:38:11.498 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:38:11.500 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:38:14.372 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:38:14.384 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:38:14.401 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:38:14.488 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 3059.6877ms
2018-01-16 08:38:14.536 +00:00 [DBG] Connection id "0HLASNHIIPTKH" completed keep alive response.
2018-01-16 08:38:14.565 +00:00 [INF] Request finished in 3153.8691ms 302 
2018-01-16 08:38:16.765 +00:00 [DBG] Connection id "0HLASNHIIPTKH" received FIN.
2018-01-16 08:38:16.782 +00:00 [DBG] Connection id "0HLASNHIIPTKH" disconnecting.
2018-01-16 08:38:16.783 +00:00 [DBG] Connection id "0HLASNHIIPTKH" sending FIN.
2018-01-16 08:38:16.783 +00:00 [DBG] Connection id "0HLASNHIIPTKH" stopped.
2018-01-16 08:38:52.078 +00:00 [DBG] Connection id "0HLASNHIIPTKI" started.
2018-01-16 08:38:52.096 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 08:38:52.122 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:38:52.144 +00:00 [DBG] Connection id "0HLASNHIIPTKI", Request id "0HLASNHIIPTKI:00000001": started reading request body.
2018-01-16 08:38:52.150 +00:00 [DBG] Connection id "0HLASNHIIPTKI", Request id "0HLASNHIIPTKI:00000001": done reading request body.
2018-01-16 08:38:52.178 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:38:52.186 +00:00 [VRB] MessageReceived: '?code=3f65d52d71a1631f27cdc552e075a9f20f9398184578799f9d920bdbb0a1771b&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTE5MzEsImV4cCI6MTUxNjA5MjIzMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4ODY5NDM2MzMwNzguTmpVd05EY3pNbVV0TjJVNU1DMDBOemt3TFRsaU1Ea3RObVZpWWpBMlltVTVZMlkzT0RWak1HWmlaRGt0T1RaaU5DMDBObU01TFdKalpHTXRNMlkxTTJJeU5USTBOREk1IiwiaWF0IjoxNTE2MDkxOTMxLCJjX2hhc2giOiJvRDAta0JFbFVqRUwybzBjYk5oWDZnIiwic2lkIjoiNDMzZWQ1YTQxMzYzMDBkODdiZTAxZGUyMWNjZjhlNjAiLCJzdWIiOiIwZjA5NGUxNy1iMTczLTQxNWItYTE3NC1mNDNkZTUxZDBiNDQiLCJhdXRoX3RpbWUiOjE1MTYwOTE5MjAsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI5NjNkMTVhNC0zYzg0LTRhN2YtOGZlNC01MmU3ZTAxN2NhNTEiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.F7BJKKY6McS-r44tkyzeEi2WIYPkof1LSvJXozKPiGMwSSghEA5MB0nlHgK6rTtpzCNLSpZpB80nfjj2PYLV_ts5zD2LMHCchavimBiUgsENBkD7GwJ-l8DnpebWZhRRFrUktxj4DuGjNfksDJ__rx7ifAkhd75n3m2zfQHCdB22IvLEf076fkeLRBwBgPR5Xs_UpDm_fQ_hg0ZW5h6BJm4Qgq_f_vuoFEfd3gogPyj-YfDR53Vv4_v3Exxbldgt8QcGWuLPdYqzPGtt3AuzHftPyWGwDrc2hCGwob_7wyz9-iAtf42iK2wl9JkIb32soISrPMGQZ2dYUNydo5syzg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3uj4iwdAmPbLS7ipOr6l5G60zygVsgfZY07E3qcaJFuTDAyu4W9G9Qk_Gvud-Usq-GTiHuITNH4PYWj3ScgudQnrbygA-OpRS8lYfdZRWHERRgUkXbmJb3OoD-l6A_sLomw3ODqtLGkl7LdlyCBCvEZYW6D9hVpNjG1qjez13GOIV4jpHwgT1ZlPEIOrs98m7V3cgiYvteinxW7KHbhoi753bUos5AY9AJwbByYn1OlFFfzuRuqMjA09RInitNLc2goBu-GO3Ss1WAGAGkTx1C-fXoxtvdkubg0EKbbnnc-at2pulrzsy0nfKdWoOvoh4&session_state=Jp-d0LlbQD361I8D6P17quFDsONTCQnCvmvSk-Kut24.381b8c92b840f3e3db462937c4af6854'.
2018-01-16 08:38:52.200 +00:00 [DBG] Updating configuration
2018-01-16 08:38:52.203 +00:00 [DBG] Received 'id_token'
2018-01-16 08:38:52.306 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:38:52.328 +00:00 [VRB] Authorization code received.
2018-01-16 08:38:52.331 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:38:54.527 +00:00 [VRB] Token response received.
2018-01-16 08:38:54.534 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:38:55.346 +00:00 [VRB] User information received: {
  "sub": "0f094e17-b173-415b-a174-f43de51d0b44",
  "auth_time": 1516091920,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "963d15a4-3c84-4a7f-8fe4-52e7e017ca51",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:38:55.366 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:38:55.376 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:38:55.393 +00:00 [DBG] Connection id "0HLASNHIIPTKI" completed keep alive response.
2018-01-16 08:38:55.400 +00:00 [INF] Request finished in 3304.2804ms 302 
2018-01-16 08:38:55.413 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:38:55.420 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:38:55.425 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:38:55.432 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:38:55.434 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:38:55.441 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:38:55.445 +00:00 [INF] Authorization was successful for user: 0f094e17-b173-415b-a174-f43de51d0b44.
2018-01-16 08:38:55.454 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:38:55.461 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:38:55.464 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 08:38:55.660 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 08:38:56.065 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 400.8045ms.
2018-01-16 08:38:56.071 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 08:38:56.116 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 08:38:56.161 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:38:56.169 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:38:56.184 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:38:56.186 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:38:56.188 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:38:56.195 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:38:56.196 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:38:56.202 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 759.9448ms
2018-01-16 08:38:56.292 +00:00 [DBG] Connection id "0HLASNHIIPTKI" completed keep alive response.
2018-01-16 08:38:56.347 +00:00 [INF] Request finished in 934.0201ms 200 text/html; charset=utf-8
2018-01-16 08:38:56.770 +00:00 [DBG] Connection id "0HLASNHIIPTKI" received FIN.
2018-01-16 08:38:56.773 +00:00 [DBG] Connection id "0HLASNHIIPTKI" disconnecting.
2018-01-16 08:38:56.774 +00:00 [DBG] Connection id "0HLASNHIIPTKI" sending FIN.
2018-01-16 08:38:56.774 +00:00 [DBG] Connection id "0HLASNHIIPTKI" stopped.
2018-01-16 08:39:05.387 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" started.
2018-01-16 08:39:05.394 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:39:05.398 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:39:05.403 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:05.410 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:39:05.411 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:05.415 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:39:05.416 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:39:05.423 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:39:05.427 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:39:05.428 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:39:05.430 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:39:05.437 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:39:05.438 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:39:05.441 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:39:05.443 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:39:05.444 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:39:05.450 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.845600000000005ms
2018-01-16 08:39:05.496 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" completed keep alive response.
2018-01-16 08:39:05.502 +00:00 [INF] Request finished in 108.4043ms 200 text/html; charset=utf-8
2018-01-16 08:39:06.301 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:39:06.317 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:39:06.321 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:06.337 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:39:06.343 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:06.347 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:39:06.349 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:06.361 +00:00 [INF] Authorization was successful for user: 0f094e17-b173-415b-a174-f43de51d0b44.
2018-01-16 08:39:06.366 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:39:06.371 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:39:06.373 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 08:39:06.526 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 08:39:06.699 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 155.3971ms.
2018-01-16 08:39:06.703 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 08:39:06.704 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 08:39:06.716 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:39:06.718 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:39:06.719 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:39:06.721 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:39:06.725 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:39:06.727 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 378.678ms
2018-01-16 08:39:06.735 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" completed keep alive response.
2018-01-16 08:39:06.738 +00:00 [INF] Request finished in 436.5555ms 200 text/html; charset=utf-8
2018-01-16 08:39:06.773 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" received FIN.
2018-01-16 08:39:06.812 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" disconnecting.
2018-01-16 08:39:06.820 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" sending FIN.
2018-01-16 08:39:06.820 +00:00 [DBG] Connection id "0HLASNHIIPTKJ" stopped.
2018-01-16 08:39:09.882 +00:00 [DBG] Connection id "0HLASNHIIPTKK" started.
2018-01-16 08:39:09.887 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 08:39:09.895 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:39:09.897 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:09.901 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 08:39:09.909 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:09.923 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 08:39:09.926 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:39:09.942 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 08:39:09.953 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 08:39:09.955 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 08:39:09.959 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:09.963 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:39:09.979 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 08:39:09.993 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 08:39:09.996 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 69.8759ms
2018-01-16 08:39:10.014 +00:00 [DBG] Connection id "0HLASNHIIPTKK" completed keep alive response.
2018-01-16 08:39:10.021 +00:00 [INF] Request finished in 133.8851ms 302 
2018-01-16 08:39:14.036 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO08j_Q_7kRXxV3gz2Sz4vcmuYGWUTrJBqhVMv7zGFk0Tp_QxYpgYRm8E2UnmxQXdys1IRJRP8XaBI_HBCi3gCwRguX2Giyq-lNMgZIuvyrRk1CBx0DUywFt-3Jfni6gNkGxGWL2NnmL9vPi2s2Ssk3V  
2018-01-16 08:39:14.069 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:39:14.075 +00:00 [DBG] Connection id "0HLASNHIIPTKK" completed keep alive response.
2018-01-16 08:39:14.077 +00:00 [INF] Request finished in 41.3374ms 302 
2018-01-16 08:39:14.083 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:39:14.086 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:39:14.087 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:39:14.088 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:14.093 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:39:14.094 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:39:14.098 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:39:14.099 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:39:14.100 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:39:14.101 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:39:14.109 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:39:14.110 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:39:14.111 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:39:14.114 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:39:14.115 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:39:14.117 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 22.734ms
2018-01-16 08:39:14.128 +00:00 [DBG] Connection id "0HLASNHIIPTKK" completed keep alive response.
2018-01-16 08:39:14.130 +00:00 [INF] Request finished in 47.2655ms 200 text/html; charset=utf-8
2018-01-16 08:39:15.356 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:39:15.362 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:39:15.363 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:39:15.364 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:15.365 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:39:15.366 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:39:15.370 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:39:15.377 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:39:15.381 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:39:15.382 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:39:15.384 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:39:15.387 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:39:15.390 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:39:15.396 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 30.224400000000003ms
2018-01-16 08:39:15.400 +00:00 [DBG] Connection id "0HLASNHIIPTKK" completed keep alive response.
2018-01-16 08:39:15.402 +00:00 [INF] Request finished in 45.9578ms 302 
2018-01-16 08:39:16.773 +00:00 [DBG] Connection id "0HLASNHIIPTKK" received FIN.
2018-01-16 08:39:16.789 +00:00 [DBG] Connection id "0HLASNHIIPTKK" disconnecting.
2018-01-16 08:39:16.790 +00:00 [DBG] Connection id "0HLASNHIIPTKK" sending FIN.
2018-01-16 08:39:16.791 +00:00 [DBG] Connection id "0HLASNHIIPTKK" stopped.
2018-01-16 08:39:33.228 +00:00 [DBG] Connection id "0HLASNHIIPTKL" started.
2018-01-16 08:39:33.236 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 08:39:33.247 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:39:33.249 +00:00 [DBG] Connection id "0HLASNHIIPTKL", Request id "0HLASNHIIPTKL:00000001": started reading request body.
2018-01-16 08:39:33.266 +00:00 [DBG] Connection id "0HLASNHIIPTKL", Request id "0HLASNHIIPTKL:00000001": done reading request body.
2018-01-16 08:39:33.272 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:39:33.278 +00:00 [VRB] MessageReceived: '?code=97aab65762b382029ec7aa8aa50f2c7dd956222de6f69b45973ff37ebc665279&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTE5NzMsImV4cCI6MTUxNjA5MjI3MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4ODc1NTM4NDgwNjQuTmpZellXSmhaRE10WmpJME1DMDBZVGczTFdKbU9XRXRNV1ZsWXpFeE16bGlNVGN6WmpRMk9UVmpaR1V0TUdGak5pMDBNall3TFdFd1pHTXRZekkzWkdRMVkyRTFOek00IiwiaWF0IjoxNTE2MDkxOTczLCJjX2hhc2giOiJmd1ZIZXJjaXY4QjduX1JUQ2xldDZRIiwic2lkIjoiM2ZmYmY0N2QyNDAxMzliN2ZiYTU5MzUyOGFhMjllMDEiLCJzdWIiOiJlNmYyN2U5Yi00N2E3LTRlODktYjg5ZC0yMzMyZTRlMzBjODQiLCJhdXRoX3RpbWUiOjE1MTYwOTE5NjUsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJiNWIxZGI4YS0xMTY1LTQ1NzgtOThhYy0wZTdiZTA2MDk4YWYiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.j_4kxPGPmG_7RMyoqEGbAHfrABcKlRWn2bGz1eypwtCktjhqv53Wxo2pYGRG0kub75k90cG4eKPulLyRzZwmbw3OSzMBNIxemes4BYJE0crxaSplEGWZW5YgjZvuNx9pmHVUrfj9Cx_BldV3_yu88M8MaYv_120gdMmVwMRbLA5n09trPskLn3nDNKXnDfX4kX0jGCggW4I24_Smldbd6d1P9Hf9ZVDDF3w-Ut8MfGhdQdpR1IPg4epAEp2MpUiJ_FITpcjeng5UF0V0T_pDRwURJOa6C-tLPIElgItLuBb--FV3AoLa8P6J2jKc5WEeFiBEVIgeElEXFUU5QtkfgQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO34Qt4AdTbry5KwVeGzM6NL7o7W4Pqdn-DICUhZRM6M9r1oLIRNHvjnlbuiC3VaIMyZZjLK5fkmN0p9MqGzecVif9LDzRsjfAh1dTseW85iUgWNWpr-cG4MVfpdV33qFvAiTunIlwqI2QCsWjwqlt5UEp9oGhdXZoOZ-rrl74iQ0jIzouUitSZOF3polmX0_7AvqrC6KrR6aWfhgqml4zCSJJSy3cvDvvEs9jR0136umYsZNrTGpXOO6-4wkrVEEVO0VmQJBw8Qv_SEGlrUGxl8vChkgRQi7h5Dmlf_I1imsqSQ7ELOHqiXw3U-Q6ctMak&session_state=15TQX5shr_6DGOr1WGrH4VozSMkXdsWwTHmbVIpsm3U.af51ec05ce1aa493112c6d155bf6a66c'.
2018-01-16 08:39:33.295 +00:00 [DBG] Updating configuration
2018-01-16 08:39:33.296 +00:00 [DBG] Received 'id_token'
2018-01-16 08:39:33.298 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:39:33.301 +00:00 [VRB] Authorization code received.
2018-01-16 08:39:33.304 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:39:35.166 +00:00 [VRB] Token response received.
2018-01-16 08:39:35.169 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:39:35.617 +00:00 [VRB] User information received: {
  "sub": "e6f27e9b-47a7-4e89-b89d-2332e4e30c84",
  "auth_time": 1516091965,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "b5b1db8a-1165-4578-98ac-0e7be06098af",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:39:35.627 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:39:35.636 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:39:35.646 +00:00 [DBG] Connection id "0HLASNHIIPTKL" completed keep alive response.
2018-01-16 08:39:35.649 +00:00 [INF] Request finished in 2413.335ms 302 
2018-01-16 08:39:35.662 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:39:35.669 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:39:35.671 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:35.676 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:39:35.678 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:35.679 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:39:35.681 +00:00 [INF] Authorization failed for user: e6f27e9b-47a7-4e89-b89d-2332e4e30c84.
2018-01-16 08:39:35.686 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:39:35.694 +00:00 [INF] Executing ForbidResult with authentication schemes ([]).
2018-01-16 08:39:35.708 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 08:39:35.712 +00:00 [INF] AuthenticationScheme: oidc was forbidden.
2018-01-16 08:39:35.719 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 38.1822ms
2018-01-16 08:39:35.725 +00:00 [DBG] Connection id "0HLASNHIIPTKL" completed keep alive response.
2018-01-16 08:39:35.726 +00:00 [INF] Request finished in 63.8286ms 302 
2018-01-16 08:39:35.735 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FSecure  
2018-01-16 08:39:35.742 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:39:35.744 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:39:35.758 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 08:39:35.760 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:39:35.769 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-16 08:39:35.781 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-16 08:39:35.783 +00:00 [DBG] Request did not match any routes.
2018-01-16 08:39:35.784 +00:00 [DBG] Connection id "0HLASNHIIPTKL" completed keep alive response.
2018-01-16 08:39:35.786 +00:00 [INF] Request finished in 50.9024ms 404 
2018-01-16 08:39:36.773 +00:00 [DBG] Connection id "0HLASNHIIPTKL" received FIN.
2018-01-16 08:39:36.776 +00:00 [DBG] Connection id "0HLASNHIIPTKL" disconnecting.
2018-01-16 08:39:36.778 +00:00 [DBG] Connection id "0HLASNHIIPTKL" sending FIN.
2018-01-16 08:39:36.778 +00:00 [DBG] Connection id "0HLASNHIIPTKL" stopped.
2018-01-16 08:40:01.562 +00:00 [DBG] Connection id "0HLASNHIIPTKM" started.
2018-01-16 08:40:01.562 +00:00 [DBG] Connection id "0HLASNHIIPTKN" started.
2018-01-16 08:40:01.575 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:40:01.587 +00:00 [DBG] Connection id "0HLASNHIIPTKO" started.
2018-01-16 08:40:01.587 +00:00 [DBG] Connection id "0HLASNHIIPTKP" started.
2018-01-16 08:40:01.592 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:40:01.599 +00:00 [DBG] Connection id "0HLASNHIIPTKQ" started.
2018-01-16 08:40:01.614 +00:00 [DBG] Connection id "0HLASNHIIPTKR" started.
2018-01-16 08:40:01.641 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:40:01.650 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:40:01.652 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:40:01.656 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:40:01.659 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:40:01.666 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:40:01.667 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:40:01.687 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:40:01.694 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:40:01.708 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:40:01.711 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:40:01.713 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:40:01.714 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:40:01.721 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:40:01.725 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 65.6461ms
2018-01-16 08:40:01.781 +00:00 [DBG] Connection id "0HLASNHIIPTKM" completed keep alive response.
2018-01-16 08:40:01.786 +00:00 [INF] Request finished in 211.126ms 200 text/html; charset=utf-8
2018-01-16 08:40:02.787 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:40:02.794 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:40:02.796 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:40:02.800 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:40:02.802 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:40:02.803 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:40:02.804 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:40:02.811 +00:00 [INF] Authorization failed for user: e6f27e9b-47a7-4e89-b89d-2332e4e30c84.
2018-01-16 08:40:02.814 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:40:02.819 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 08:40:02.826 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 08:40:02.830 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 25.8895ms
2018-01-16 08:40:02.835 +00:00 [DBG] Connection id "0HLASNHIIPTKM" completed keep alive response.
2018-01-16 08:40:02.837 +00:00 [INF] Request finished in 49.4105ms 302 
2018-01-16 08:40:02.850 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 08:40:02.862 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:40:02.865 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:40:02.877 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 08:40:02.879 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:40:02.880 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-16 08:40:02.883 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=AccessDenied"]
2018-01-16 08:40:02.885 +00:00 [DBG] Request did not match any routes.
2018-01-16 08:40:02.887 +00:00 [DBG] Connection id "0HLASNHIIPTKM" completed keep alive response.
2018-01-16 08:40:02.911 +00:00 [INF] Request finished in 60.7642ms 404 
2018-01-16 08:40:06.777 +00:00 [DBG] Connection id "0HLASNHIIPTKN" received FIN.
2018-01-16 08:40:06.777 +00:00 [DBG] Connection id "0HLASNHIIPTKP" received FIN.
2018-01-16 08:40:06.779 +00:00 [DBG] Connection id "0HLASNHIIPTKN" disconnecting.
2018-01-16 08:40:06.780 +00:00 [DBG] Connection id "0HLASNHIIPTKO" received FIN.
2018-01-16 08:40:06.781 +00:00 [DBG] Connection id "0HLASNHIIPTKP" disconnecting.
2018-01-16 08:40:06.782 +00:00 [DBG] Connection id "0HLASNHIIPTKR" received FIN.
2018-01-16 08:40:06.783 +00:00 [DBG] Connection id "0HLASNHIIPTKR" disconnecting.
2018-01-16 08:40:06.783 +00:00 [DBG] Connection id "0HLASNHIIPTKM" received FIN.
2018-01-16 08:40:06.784 +00:00 [DBG] Connection id "0HLASNHIIPTKO" disconnecting.
2018-01-16 08:40:06.785 +00:00 [DBG] Connection id "0HLASNHIIPTKQ" received FIN.
2018-01-16 08:40:06.786 +00:00 [DBG] Connection id "0HLASNHIIPTKQ" disconnecting.
2018-01-16 08:40:06.787 +00:00 [DBG] Connection id "0HLASNHIIPTKN" sending FIN.
2018-01-16 08:40:06.787 +00:00 [DBG] Connection id "0HLASNHIIPTKN" stopped.
2018-01-16 08:40:06.788 +00:00 [DBG] Connection id "0HLASNHIIPTKM" disconnecting.
2018-01-16 08:40:06.793 +00:00 [DBG] Connection id "0HLASNHIIPTKP" sending FIN.
2018-01-16 08:40:06.793 +00:00 [DBG] Connection id "0HLASNHIIPTKP" stopped.
2018-01-16 08:40:06.794 +00:00 [DBG] Connection id "0HLASNHIIPTKR" sending FIN.
2018-01-16 08:40:06.795 +00:00 [DBG] Connection id "0HLASNHIIPTKM" sending FIN.
2018-01-16 08:40:06.796 +00:00 [DBG] Connection id "0HLASNHIIPTKR" stopped.
2018-01-16 08:40:06.796 +00:00 [DBG] Connection id "0HLASNHIIPTKM" stopped.
2018-01-16 08:40:06.806 +00:00 [DBG] Connection id "0HLASNHIIPTKO" sending FIN.
2018-01-16 08:40:06.806 +00:00 [DBG] Connection id "0HLASNHIIPTKO" stopped.
2018-01-16 08:40:06.808 +00:00 [DBG] Connection id "0HLASNHIIPTKQ" sending FIN.
2018-01-16 08:40:06.808 +00:00 [DBG] Connection id "0HLASNHIIPTKQ" stopped.
2018-01-16 08:44:26.204 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 08:44:26.301 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 08:44:26.331 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 08:44:26.371 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 08:44:26.405 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:44:26.408 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 08:44:26.411 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:44:26.413 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 08:44:26.419 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 08:44:26.430 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 08:44:26.432 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 08:44:27.049 +00:00 [DBG] Hosting starting
2018-01-16 08:44:27.326 +00:00 [DBG] Hosting started
2018-01-16 08:44:27.328 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 08:44:27.329 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 08:44:27.379 +00:00 [DBG] Connection id "0HLASNLD273CD" started.
2018-01-16 08:44:27.447 +00:00 [DBG] Connection id "0HLASNLD273CD" received FIN.
2018-01-16 08:44:27.458 +00:00 [DBG] Connection id "0HLASNLD273CD" disconnecting.
2018-01-16 08:44:27.461 +00:00 [DBG] Connection id "0HLASNLD273CD" sending FIN.
2018-01-16 08:44:27.467 +00:00 [DBG] Connection id "0HLASNLD273CD" stopped.
2018-01-16 08:44:29.016 +00:00 [DBG] Connection id "0HLASNLD273CE" started.
2018-01-16 08:44:29.185 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:44:29.448 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:44:29.532 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:44:29.846 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:44:29.952 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:44:29.977 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:44:29.987 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:44:30.004 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 08:44:31.774 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 08:44:33.812 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 2030.2641ms.
2018-01-16 08:44:34.110 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 08:44:34.193 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 80.4799ms.
2018-01-16 08:44:34.207 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:44:34.209 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:44:34.282 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 08:44:34.440 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 08:44:35.218 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 776.61110000000008ms.
2018-01-16 08:44:35.245 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:44:35.250 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:44:35.284 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:44:35.286 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:44:35.377 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5422.9521ms
2018-01-16 08:44:35.449 +00:00 [DBG] Connection id "0HLASNLD273CE" completed keep alive response.
2018-01-16 08:44:35.455 +00:00 [INF] Request finished in 6277.1969ms 200 text/html; charset=utf-8
2018-01-16 08:44:42.633 +00:00 [DBG] Connection id "0HLASNLD273CE" received FIN.
2018-01-16 08:44:42.635 +00:00 [DBG] Connection id "0HLASNLD273CE" disconnecting.
2018-01-16 08:44:42.636 +00:00 [DBG] Connection id "0HLASNLD273CE" sending FIN.
2018-01-16 08:44:42.636 +00:00 [DBG] Connection id "0HLASNLD273CE" stopped.
2018-01-16 08:44:43.892 +00:00 [DBG] Connection id "0HLASNLD273CF" started.
2018-01-16 08:44:43.894 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:44:43.898 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:44:43.904 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:44:43.905 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:44:43.909 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:44:43.916 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:44:43.929 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:44:43.952 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:44:43.974 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:44:43.977 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:44:46.417 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:44:46.430 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:44:46.434 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:44:46.441 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2531.6417ms
2018-01-16 08:44:46.448 +00:00 [DBG] Connection id "0HLASNLD273CF" completed keep alive response.
2018-01-16 08:44:46.460 +00:00 [INF] Request finished in 2566.3939ms 302 
2018-01-16 08:44:52.635 +00:00 [DBG] Connection id "0HLASNLD273CF" received FIN.
2018-01-16 08:44:52.640 +00:00 [DBG] Connection id "0HLASNLD273CF" disconnecting.
2018-01-16 08:44:52.641 +00:00 [DBG] Connection id "0HLASNLD273CF" sending FIN.
2018-01-16 08:44:52.642 +00:00 [DBG] Connection id "0HLASNLD273CF" stopped.
2018-01-16 08:45:16.249 +00:00 [DBG] Connection id "0HLASNLD273CG" started.
2018-01-16 08:45:16.262 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 08:45:16.322 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:45:16.387 +00:00 [DBG] Connection id "0HLASNLD273CG", Request id "0HLASNLD273CG:00000001": started reading request body.
2018-01-16 08:45:16.435 +00:00 [DBG] Connection id "0HLASNLD273CG", Request id "0HLASNLD273CG:00000001": done reading request body.
2018-01-16 08:45:16.486 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:45:16.496 +00:00 [VRB] MessageReceived: '?code=204cc07467c6d7cfaab43d5be01c4c844bfc61a46549ce273c121559f251823a&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTIzMTYsImV4cCI6MTUxNjA5MjYxNiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4OTA4NjM5NzM3OTcuWmpJeE1qUm1NVFV0WVRBNE5pMDBaR0kxTFRrMU1UUXRPRFZpWWpNek1qTTVaRFV5TXpZelpETTFNMkV0WVRVME1pMDBNREZoTFRnMVkyUXRaRGhsWVdNNVlURTFZelptIiwiaWF0IjoxNTE2MDkyMzE1LCJjX2hhc2giOiJNcmduTkF4Nk1RUERGazZ3QjVmUm9BIiwic2lkIjoiMTU3NTQxOGIyODMwOTA1NDk0N2I4MzZjYzA0NzliYzAiLCJzdWIiOiJmYjM1NmU5Zi1iMjI3LTQ5YTMtODIzMS0xZTk4OTM2MzFlZjgiLCJhdXRoX3RpbWUiOjE1MTYwOTIzMDYsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI5MDY0MjQwMC1iZGE0LTRlYjItYjc5OC0wZjEzODA2MjJiNzQiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.XXA3yFKoJPZMgu0WWMigKcvYW0ycnLRovDFeQB6Oun4CioIBvm2fbbGdCr3v_rkVNseTQS-dmGTDZA9jUuKBdPFWGthl81e6vOU6J7B8U0oJEeznLz2IFayTD0WQBqbEcZSqCZ4Y1vNwB2CzpP3W2PG1DrwePwszMCdF47hgml6sJIXNR1qAsyukq5A2xR_PbRc0qa35rzfadh5DIPilYoR7XGFTFL-Rkq3zd7MsLL_xKeC8a4-MN3F4Qt4D2ZSe137GccSqklEisOiCm3x_kN2Z_brf1uzlE005ExihnHFD1XaNOVAzHMSO0p7W1SraCWwW5Gpp5YDZKbNgTYUQKA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0BdLoBdD3xCaQ3W_UoUktK36aTeB78uG3CnDAhUnBVob0zinEmSB6dUdcCQv4g5E1IAOOmpIJI0B6QFfQ6Oh33OdZV9l0Io55tsM-jyV-DwacbURMmxn7ASKf28rf9RnsAhbYFddaF2gERdG5EwKF6sD8buzV2oSyY5YGWmCFkiJHSxlXcaQwv5aEct6D4GeJJuD7ap180Z0RPsW0lcprQ1t9MUkTqtppLttja9NQd_ojsBS5oiXPUN4Q4dRSqeR4mqWhVPSIqKod4Gma7Bq90MU3FTufx0-lkWfhxOxuEhDKmBPjUezLqTnG8Rogdx_8&session_state=fH8C1Ty9QcggdPREIjErvIejIwPD0AuxmRObCg1cjAQ.0ff5bfba4e117244190bfd59df456b71'.
2018-01-16 08:45:16.507 +00:00 [DBG] Updating configuration
2018-01-16 08:45:16.508 +00:00 [DBG] Received 'id_token'
2018-01-16 08:45:16.600 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:45:16.606 +00:00 [VRB] Authorization code received.
2018-01-16 08:45:16.608 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:45:18.473 +00:00 [VRB] Token response received.
2018-01-16 08:45:18.479 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:45:19.396 +00:00 [VRB] User information received: {
  "sub": "fb356e9f-b227-49a3-8231-1e9893631ef8",
  "auth_time": 1516092306,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "90642400-bda4-4eb2-b798-0f1380622b74",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:45:19.432 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:19.443 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:45:19.450 +00:00 [DBG] Connection id "0HLASNLD273CG" completed keep alive response.
2018-01-16 08:45:19.451 +00:00 [INF] Request finished in 3189.2369ms 302 
2018-01-16 08:45:19.462 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:45:19.473 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:19.477 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:19.482 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:45:19.484 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:19.488 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:45:19.494 +00:00 [INF] Authorization was successful for user: fb356e9f-b227-49a3-8231-1e9893631ef8.
2018-01-16 08:45:19.508 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:45:19.515 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:45:19.517 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 08:45:19.700 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 08:45:20.026 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 321.89590000000004ms.
2018-01-16 08:45:20.051 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 08:45:20.058 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 08:45:20.088 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:20.099 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:20.112 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:45:20.115 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:20.116 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:20.118 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:20.123 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:20.130 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 640.2287ms
2018-01-16 08:45:20.192 +00:00 [DBG] Connection id "0HLASNLD273CG" completed keep alive response.
2018-01-16 08:45:20.202 +00:00 [INF] Request finished in 739.3631ms 200 text/html; charset=utf-8
2018-01-16 08:45:22.639 +00:00 [DBG] Connection id "0HLASNLD273CG" received FIN.
2018-01-16 08:45:22.649 +00:00 [DBG] Connection id "0HLASNLD273CG" disconnecting.
2018-01-16 08:45:22.650 +00:00 [DBG] Connection id "0HLASNLD273CG" sending FIN.
2018-01-16 08:45:22.650 +00:00 [DBG] Connection id "0HLASNLD273CG" stopped.
2018-01-16 08:45:28.644 +00:00 [DBG] Connection id "0HLASNLD273CH" started.
2018-01-16 08:45:28.646 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:45:28.651 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:28.656 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:28.661 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:45:28.662 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:28.665 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:45:28.666 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:28.676 +00:00 [INF] Authorization was successful for user: fb356e9f-b227-49a3-8231-1e9893631ef8.
2018-01-16 08:45:28.682 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:45:28.693 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:45:28.696 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 08:45:28.840 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 08:45:29.001 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 137.30020000000002ms.
2018-01-16 08:45:29.007 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 08:45:29.010 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 08:45:29.028 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:45:29.032 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:29.033 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:29.060 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:29.064 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:29.072 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 405.59560000000005ms
2018-01-16 08:45:29.292 +00:00 [DBG] Connection id "0HLASNLD273CH" completed keep alive response.
2018-01-16 08:45:29.305 +00:00 [INF] Request finished in 659.0943ms 200 text/html; charset=utf-8
2018-01-16 08:45:31.785 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:45:31.851 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:31.875 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:31.884 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:45:31.885 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:31.887 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:45:31.890 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:45:31.896 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:45:31.897 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:45:31.901 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:45:31.904 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:45:31.916 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:45:31.918 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:31.923 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:31.925 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:31.926 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:31.928 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 37.955400000000004ms
2018-01-16 08:45:31.939 +00:00 [DBG] Connection id "0HLASNLD273CH" completed keep alive response.
2018-01-16 08:45:31.942 +00:00 [INF] Request finished in 156.4689ms 200 text/html; charset=utf-8
2018-01-16 08:45:32.601 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 08:45:32.608 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:32.610 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:32.615 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 08:45:32.616 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:32.628 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 08:45:32.629 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:45:32.640 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 08:45:32.645 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 08:45:32.647 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 08:45:32.647 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:32.652 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:45:32.657 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 08:45:32.662 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 08:45:32.664 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 34.409ms
2018-01-16 08:45:32.673 +00:00 [DBG] Connection id "0HLASNLD273CH" completed keep alive response.
2018-01-16 08:45:32.675 +00:00 [INF] Request finished in 73.9858ms 302 
2018-01-16 08:45:35.577 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO1Jn2A8bPuLu90csNbbGbOQeTAo1hvLz9s-OPCV-ZKC2BeuLiBcYHvp9w-gb7f3n7iEDVW0cPSPl756BoHpBTRjnO0J1I4n3o5Hn62upgznOtFgDP24jy-fZH6iHBL4noxJPZmrrQuBDduwuMQCebu6  
2018-01-16 08:45:35.584 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:45:35.588 +00:00 [DBG] Connection id "0HLASNLD273CH" completed keep alive response.
2018-01-16 08:45:35.590 +00:00 [INF] Request finished in 12.6304ms 302 
2018-01-16 08:45:35.597 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:45:35.600 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:45:35.601 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:45:35.602 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:35.603 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:45:35.604 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:45:35.609 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:45:35.611 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:45:35.612 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:45:35.613 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:45:35.616 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:45:35.618 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:35.622 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:35.623 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:45:35.624 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:45:35.625 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 21.1674ms
2018-01-16 08:45:35.633 +00:00 [DBG] Connection id "0HLASNLD273CH" completed keep alive response.
2018-01-16 08:45:35.635 +00:00 [INF] Request finished in 38.1363ms 200 text/html; charset=utf-8
2018-01-16 08:45:37.371 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:45:37.377 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:45:37.378 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:45:37.380 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:37.381 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:45:37.383 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:45:37.392 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:45:37.407 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:45:37.413 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:45:37.414 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:45:37.424 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:45:37.428 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:45:37.431 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:45:37.443 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 60.721900000000005ms
2018-01-16 08:45:37.447 +00:00 [DBG] Connection id "0HLASNLD273CH" completed keep alive response.
2018-01-16 08:45:37.451 +00:00 [INF] Request finished in 80.4223ms 302 
2018-01-16 08:45:42.641 +00:00 [DBG] Connection id "0HLASNLD273CH" received FIN.
2018-01-16 08:45:42.643 +00:00 [DBG] Connection id "0HLASNLD273CH" disconnecting.
2018-01-16 08:45:42.644 +00:00 [DBG] Connection id "0HLASNLD273CH" sending FIN.
2018-01-16 08:45:42.644 +00:00 [DBG] Connection id "0HLASNLD273CH" stopped.
2018-01-16 08:45:56.801 +00:00 [DBG] Connection id "0HLASNLD273CI" started.
2018-01-16 08:45:56.812 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 08:45:56.822 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:45:56.824 +00:00 [DBG] Connection id "0HLASNLD273CI", Request id "0HLASNLD273CI:00000001": started reading request body.
2018-01-16 08:45:56.826 +00:00 [DBG] Connection id "0HLASNLD273CI", Request id "0HLASNLD273CI:00000001": done reading request body.
2018-01-16 08:45:56.827 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:45:56.830 +00:00 [VRB] MessageReceived: '?code=fe51241ba04a020dbe0f6ed9200ce8b67afebef6d6ac23f671544f7e687df3e4&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTIzNTYsImV4cCI6MTUxNjA5MjY1NiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4OTEzNzQyNDQyODMuTVdRMU5tUmxaV1l0WTJZd1lpMDBaamswTFRnME5XRXRabVJtWTJGbU1HTXdNemMxT0RjeE1qVTFZak10WVRFeU5DMDBNVEF5TFdJMlpqUXRNMkl5TW1WaVlUSXhObU5sIiwiaWF0IjoxNTE2MDkyMzU2LCJjX2hhc2giOiJBT29RaU5DbTd1OEs3dUZ0b0EyVVZnIiwic2lkIjoiMWZmYThmN2JlYzJiNjYyNTUwYzdlZjBlMTkzMjFmN2EiLCJzdWIiOiI1NDAyMmMwNi00ZGUwLTQ2ZTAtYjY2MS02MWRlM2QyYWMyYzYiLCJhdXRoX3RpbWUiOjE1MTYwOTIzNTAsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI2ZWUwN2RmZC1iZTAxLTQ3MWUtYWE2Mi00NDc1ZTI4OTI3ODQiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.l2dYXJ_MH1k8mUtb1fBA4t7gCOaImHva9FR1J8aVFQyo_Y13s6wi4ktktybhAb9y5Auanqxc9NZfKxCcmPoNoqPnp3GqH8vJ41t0cQEQFl0-liZXITC7VsX9nQLXq8Gnjn37I9zcqqkQ3I51FsfuipOA1cFNFBfOBh2_vxiCzL5n0SW7gvf4jA9ZbCqlsc5xikQpAiRSFPpZ8Qz5CnzOEHAoAEgzpz1I4JxpOaAWMuNaLUpEgWCSXkWj_on318cAHH68wzXfglcqezMBEMRDN3NMO6vFGY3JGvCjF_mtl4bYUZ_8MtU3e6QNM_4Pzgrwd21daAIFkveKSMes6gMwrg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0Hb8DAeNBCgir-Qm2vDjaPRSx0sT7oieTEfHlhYB8qTzOSmOFtiA8t5LEn_BoW6sm49KQGPFArnNjC6WGfF6FEHwCC8AattMz8a-W6uVWiJrNmucQ_7MbanexxdOrkqsupVEuV2Rer2ZFY4ECz-xhyyQvg5gAxJ5B0IED-jsC4FQZJvM8AnIMWOb7kLO_1SHXbttCif3bPj4X4YrjlN8rhLdM1SLyxP--AoMaUmqNSAKCJdagMr5vVXfmfmKJwBBsSkUxflFjJCnsL816v0oXKljWgsA3JUR5PRjimrubGOCfJS8k6CshAJP3tkPCgcH8&session_state=lVDW_ebha5jRTnab52vi5lLxQU76sqZS37KXFbI4Jck.9a03c85785425c7f431894b1cfdbf242'.
2018-01-16 08:45:56.848 +00:00 [DBG] Updating configuration
2018-01-16 08:45:56.849 +00:00 [DBG] Received 'id_token'
2018-01-16 08:45:56.851 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:45:56.859 +00:00 [VRB] Authorization code received.
2018-01-16 08:45:56.860 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:45:58.878 +00:00 [VRB] Token response received.
2018-01-16 08:45:58.882 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:45:59.645 +00:00 [VRB] User information received: {
  "sub": "54022c06-4de0-46e0-b661-61de3d2ac2c6",
  "auth_time": 1516092350,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "6ee07dfd-be01-471e-aa62-4475e2892784",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:45:59.655 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:59.663 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:45:59.671 +00:00 [DBG] Connection id "0HLASNLD273CI" completed keep alive response.
2018-01-16 08:45:59.676 +00:00 [INF] Request finished in 2863.2533ms 302 
2018-01-16 08:45:59.683 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:45:59.690 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:59.693 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:59.699 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:45:59.701 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:45:59.707 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:45:59.710 +00:00 [INF] Authorization failed for user: 54022c06-4de0-46e0-b661-61de3d2ac2c6.
2018-01-16 08:45:59.716 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:45:59.725 +00:00 [INF] Executing ForbidResult with authentication schemes ([]).
2018-01-16 08:45:59.742 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 08:45:59.752 +00:00 [INF] AuthenticationScheme: oidc was forbidden.
2018-01-16 08:45:59.766 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 55.4739ms
2018-01-16 08:45:59.775 +00:00 [DBG] Connection id "0HLASNLD273CI" completed keep alive response.
2018-01-16 08:45:59.793 +00:00 [INF] Request finished in 109.3557ms 302 
2018-01-16 08:45:59.816 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FSecure  
2018-01-16 08:45:59.826 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:45:59.830 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:45:59.841 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 08:45:59.845 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 08:45:59.861 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 08:45:59.863 +00:00 [INF] Authorization was successful for user: 54022c06-4de0-46e0-b661-61de3d2ac2c6.
2018-01-16 08:45:59.871 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 08:45:59.875 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:45:59.880 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:45:59.881 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 08:46:00.034 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 08:46:00.204 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 158.7466ms.
2018-01-16 08:46:00.210 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 08:46:00.211 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 08:46:00.225 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 08:46:00.229 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:46:00.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:46:00.232 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:46:00.233 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:46:00.239 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 375.6888ms
2018-01-16 08:46:00.367 +00:00 [DBG] Connection id "0HLASNLD273CI" completed keep alive response.
2018-01-16 08:46:00.405 +00:00 [INF] Request finished in 589.4773ms 200 text/html; charset=utf-8
2018-01-16 08:46:02.643 +00:00 [DBG] Connection id "0HLASNLD273CI" received FIN.
2018-01-16 08:46:02.646 +00:00 [DBG] Connection id "0HLASNLD273CI" disconnecting.
2018-01-16 08:46:02.647 +00:00 [DBG] Connection id "0HLASNLD273CI" stopped.
2018-01-16 08:46:02.647 +00:00 [DBG] Connection id "0HLASNLD273CI" sending FIN.
2018-01-16 08:46:06.900 +00:00 [DBG] Connection id "0HLASNLD273CJ" started.
2018-01-16 08:46:06.907 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:46:06.911 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:46:06.914 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:46:06.918 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:46:06.920 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:46:06.923 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:46:06.925 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:46:06.929 +00:00 [INF] Authorization failed for user: 54022c06-4de0-46e0-b661-61de3d2ac2c6.
2018-01-16 08:46:06.932 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:46:06.940 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 08:46:06.948 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 08:46:06.951 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 26.9223ms
2018-01-16 08:46:06.957 +00:00 [DBG] Connection id "0HLASNLD273CJ" completed keep alive response.
2018-01-16 08:46:06.958 +00:00 [INF] Request finished in 51.4895ms 302 
2018-01-16 08:46:06.964 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 08:46:06.968 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:46:06.971 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:46:06.975 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 08:46:06.976 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 08:46:06.977 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 08:46:06.978 +00:00 [INF] Authorization was successful for user: 54022c06-4de0-46e0-b661-61de3d2ac2c6.
2018-01-16 08:46:06.981 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 08:46:06.982 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:46:06.987 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:46:06.988 +00:00 [DBG] View lookup cache hit for view 'AccessDenied' in controller 'Account'.
2018-01-16 08:46:06.990 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 08:46:06.991 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 08:46:06.998 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2018-01-16 08:46:07.000 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:46:07.005 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:46:07.010 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:46:07.011 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:46:07.022 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 44.0287ms
2018-01-16 08:46:07.109 +00:00 [DBG] Connection id "0HLASNLD273CJ" completed keep alive response.
2018-01-16 08:46:07.116 +00:00 [INF] Request finished in 151.444ms 200 text/html; charset=utf-8
2018-01-16 08:46:12.643 +00:00 [DBG] Connection id "0HLASNLD273CJ" received FIN.
2018-01-16 08:46:12.644 +00:00 [DBG] Connection id "0HLASNLD273CJ" disconnecting.
2018-01-16 08:46:12.645 +00:00 [DBG] Connection id "0HLASNLD273CJ" sending FIN.
2018-01-16 08:46:12.645 +00:00 [DBG] Connection id "0HLASNLD273CJ" stopped.
2018-01-16 08:49:28.057 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 08:49:28.208 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 08:49:28.241 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 08:49:28.327 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 08:49:28.384 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:49:28.386 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 08:49:28.388 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:49:28.390 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 08:49:28.396 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 08:49:28.406 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 08:49:28.408 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 08:49:29.645 +00:00 [DBG] Hosting starting
2018-01-16 08:49:30.044 +00:00 [DBG] Hosting started
2018-01-16 08:49:30.044 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 08:49:30.047 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 08:49:30.076 +00:00 [DBG] Connection id "0HLASNO78VAQ6" started.
2018-01-16 08:49:30.130 +00:00 [DBG] Connection id "0HLASNO78VAQ6" received FIN.
2018-01-16 08:49:30.133 +00:00 [DBG] Connection id "0HLASNO78VAQ6" disconnecting.
2018-01-16 08:49:30.138 +00:00 [DBG] Connection id "0HLASNO78VAQ6" sending FIN.
2018-01-16 08:49:30.145 +00:00 [DBG] Connection id "0HLASNO78VAQ6" stopped.
2018-01-16 08:49:32.180 +00:00 [DBG] Connection id "0HLASNO78VAQ7" started.
2018-01-16 08:49:32.510 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:49:32.726 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:49:32.755 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:49:33.182 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:49:33.337 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:49:33.365 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:49:33.376 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:49:33.391 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 08:49:35.086 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 08:49:37.337 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 2240.3545ms.
2018-01-16 08:49:37.486 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 08:49:37.641 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 152.138ms.
2018-01-16 08:49:37.659 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:49:37.663 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:49:37.740 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 08:49:37.934 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 08:49:38.845 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 909.1393ms.
2018-01-16 08:49:38.888 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:49:38.891 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:49:38.917 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:49:38.919 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:49:38.983 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5642.4157000000005ms
2018-01-16 08:49:39.033 +00:00 [DBG] Connection id "0HLASNO78VAQ7" completed keep alive response.
2018-01-16 08:49:39.036 +00:00 [INF] Request finished in 6535.4244ms 200 text/html; charset=utf-8
2018-01-16 08:49:45.445 +00:00 [DBG] Connection id "0HLASNO78VAQ7" received FIN.
2018-01-16 08:49:45.447 +00:00 [DBG] Connection id "0HLASNO78VAQ7" disconnecting.
2018-01-16 08:49:45.447 +00:00 [DBG] Connection id "0HLASNO78VAQ7" sending FIN.
2018-01-16 08:49:45.447 +00:00 [DBG] Connection id "0HLASNO78VAQ7" stopped.
2018-01-16 08:49:46.209 +00:00 [DBG] Connection id "0HLASNO78VAQ8" started.
2018-01-16 08:49:46.217 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:49:46.223 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:49:46.227 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:49:46.231 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:49:46.236 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:49:46.247 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:49:46.254 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:49:46.262 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:49:46.275 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:49:46.277 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:49:49.194 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:49:49.203 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:49:49.207 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:49:49.216 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2979.0619ms
2018-01-16 08:49:49.236 +00:00 [DBG] Connection id "0HLASNO78VAQ8" completed keep alive response.
2018-01-16 08:49:49.277 +00:00 [INF] Request finished in 3060.8452ms 302 
2018-01-16 08:49:55.447 +00:00 [DBG] Connection id "0HLASNO78VAQ8" received FIN.
2018-01-16 08:49:55.452 +00:00 [DBG] Connection id "0HLASNO78VAQ8" disconnecting.
2018-01-16 08:49:55.457 +00:00 [DBG] Connection id "0HLASNO78VAQ8" sending FIN.
2018-01-16 08:49:55.457 +00:00 [DBG] Connection id "0HLASNO78VAQ8" stopped.
2018-01-16 08:50:15.948 +00:00 [DBG] Connection id "0HLASNO78VAQ9" started.
2018-01-16 08:50:15.969 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 08:50:16.075 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:50:16.101 +00:00 [DBG] Connection id "0HLASNO78VAQ9", Request id "0HLASNO78VAQ9:00000001": started reading request body.
2018-01-16 08:50:16.109 +00:00 [DBG] Connection id "0HLASNO78VAQ9", Request id "0HLASNO78VAQ9:00000001": done reading request body.
2018-01-16 08:50:16.132 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:50:16.138 +00:00 [VRB] MessageReceived: '?code=65c43a1f9a162eb4ce45a3dd9a52bcedaed9e1e1cdb8e443e4afda803934b17d&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTI2MTUsImV4cCI6MTUxNjA5MjkxNSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4OTM4OTE4NjU0NDQuTTJVMk1USTBZVEV0WW1WbVpDMDBZVEpsTFdGa1pqZ3ROMlZoT1Raa056TXdNakk0T1RGbU0yWTFOVFl0WmpFNFppMDBOVE15TFdFNE1HVXROREUxTURNeVlUSXpaVFExIiwiaWF0IjoxNTE2MDkyNjE1LCJjX2hhc2giOiJWeHNNMWFtTmJPQXZEQ0ZTMjBHQW5RIiwic2lkIjoiYjQwNWU0YTFmMWY5M2VkOWI0NzQ4MDVlNjgzOWVmYTEiLCJzdWIiOiI1Yjc3NzcyYi1hYjBlLTQ2MGItODRmOC0xMjk2NWFmMTA5ZjQiLCJhdXRoX3RpbWUiOjE1MTYwOTI2MDYsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI4NzA5YzgzNC1mOGFiLTQxMjEtOGE2MS04NDMxZDBjNWYwYTIiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.ASItIfgYglVKe3-hMlmrZAU_3FfvOtmpgu8y6QNfDFygDfAA1I4VlHnpy9-Hl60NLl8p9S4SF3COAHzFeqajggcARan1e4ZR1mmLI6cc0QC8r36rI7sikxK6CFO2IWjQnZADbnh2rM0TMMvRlF1pIPRnIq7GOXSs8gtmBYIDJddUYGabHEV2o-yLh9XvcuQH7NyJTxMd-RUqk0Q6R441jBy5fl2ozeRIE-OWFBmLrjm-NoqoIb0ym_TI9_LoJIIDsF_uGsy3K9KEBR7dOvkNUMh7NqiaEgVtxKyjSQ7XxKoUS9ouOYQ5MzzHOpiVzqnZCaixU1DSpAqUnHeVtzqN4w&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1Mk31Yy2BsbI0BDsOupY6UnhIO7FAjgva7-iNSVF75zuoWN3KuOu3GJ2H9uxJEBpEaqCkyx1-yhY4BsJZ5FzS9j_79eekpWog9HpkABYIqOsa9MIqS9NM2QmwYZt5-LMCTNOYcM3yMVVqxb2NzVoQNFTmE3nPJ-nrI0rGNcq1qQCrjr6lkD4xW3aWv7AhssXZbU64OUvH1Jxy4wi84RyMrSH6r1GzCzdPxFS1xkAGm0wNJZrx7GenmHphRxXMa3hd1arduGl0vQATakrGrXjgL5Gc7_qpMrKacNk5Xqhxg--Q_PaXfsHEatsaaKN2PulA&session_state=H9N8yx6tvMvcQ38HK1nrzeDjeYkEcjOCKM8N5fCqofI.baf8c9fee2ea7ed390c5e1f14f0d17f0'.
2018-01-16 08:50:16.149 +00:00 [DBG] Updating configuration
2018-01-16 08:50:16.151 +00:00 [DBG] Received 'id_token'
2018-01-16 08:50:16.305 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:50:16.325 +00:00 [VRB] Authorization code received.
2018-01-16 08:50:16.331 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:50:19.575 +00:00 [VRB] Token response received.
2018-01-16 08:50:19.590 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:50:20.467 +00:00 [VRB] User information received: {
  "sub": "5b77772b-ab0e-460b-84f8-12965af109f4",
  "auth_time": 1516092606,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "8709c834-f8ab-4121-8a61-8431d0c5f0a2",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:50:20.483 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:50:20.491 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:50:20.507 +00:00 [DBG] Connection id "0HLASNO78VAQ9" completed keep alive response.
2018-01-16 08:50:20.510 +00:00 [INF] Request finished in 4540.4004ms 302 
2018-01-16 08:50:20.522 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:50:20.526 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:50:20.530 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:20.538 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:50:20.539 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:50:20.541 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:50:20.544 +00:00 [INF] Authorization was successful for user: 5b77772b-ab0e-460b-84f8-12965af109f4.
2018-01-16 08:50:20.555 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:50:20.571 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:50:20.574 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 08:50:20.770 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 08:50:21.191 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 418.2285ms.
2018-01-16 08:50:21.198 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 08:50:21.199 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 08:50:21.235 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:21.241 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:21.246 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:50:21.248 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:21.250 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:21.251 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:21.255 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:21.262 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 719.12920000000008ms
2018-01-16 08:50:21.270 +00:00 [DBG] Connection id "0HLASNO78VAQ9" completed keep alive response.
2018-01-16 08:50:21.271 +00:00 [INF] Request finished in 749.2603ms 200 text/html; charset=utf-8
2018-01-16 08:50:25.447 +00:00 [DBG] Connection id "0HLASNO78VAQ9" received FIN.
2018-01-16 08:50:25.450 +00:00 [DBG] Connection id "0HLASNO78VAQ9" disconnecting.
2018-01-16 08:50:25.450 +00:00 [DBG] Connection id "0HLASNO78VAQ9" sending FIN.
2018-01-16 08:50:25.450 +00:00 [DBG] Connection id "0HLASNO78VAQ9" stopped.
2018-01-16 08:50:32.107 +00:00 [DBG] Connection id "0HLASNO78VAQA" started.
2018-01-16 08:50:32.120 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:50:32.126 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:50:32.131 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:32.137 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:50:32.138 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:50:32.142 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:50:32.143 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:32.153 +00:00 [INF] Authorization was successful for user: 5b77772b-ab0e-460b-84f8-12965af109f4.
2018-01-16 08:50:32.157 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:50:32.166 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:50:32.168 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 08:50:32.332 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 08:50:32.538 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 203.21880000000002ms.
2018-01-16 08:50:32.543 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 08:50:32.547 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 08:50:32.564 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:50:32.566 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:32.567 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:32.570 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:32.571 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:32.573 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 430.61760000000004ms
2018-01-16 08:50:32.793 +00:00 [DBG] Connection id "0HLASNO78VAQA" completed keep alive response.
2018-01-16 08:50:32.810 +00:00 [INF] Request finished in 690.3373ms 200 text/html; charset=utf-8
2018-01-16 08:50:33.973 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 08:50:33.999 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:50:34.002 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:34.020 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 08:50:34.023 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:50:34.036 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 08:50:34.037 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:50:34.048 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 08:50:34.055 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 08:50:34.056 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 08:50:34.057 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:34.063 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:50:34.065 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 08:50:34.071 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 08:50:34.073 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 36.1441ms
2018-01-16 08:50:34.079 +00:00 [DBG] Connection id "0HLASNO78VAQA" completed keep alive response.
2018-01-16 08:50:34.089 +00:00 [INF] Request finished in 115.9497ms 302 
2018-01-16 08:50:35.448 +00:00 [DBG] Connection id "0HLASNO78VAQA" received FIN.
2018-01-16 08:50:35.455 +00:00 [DBG] Connection id "0HLASNO78VAQA" disconnecting.
2018-01-16 08:50:35.456 +00:00 [DBG] Connection id "0HLASNO78VAQA" sending FIN.
2018-01-16 08:50:35.458 +00:00 [DBG] Connection id "0HLASNO78VAQA" stopped.
2018-01-16 08:50:37.210 +00:00 [DBG] Connection id "0HLASNO78VAQB" started.
2018-01-16 08:50:37.214 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO0OFJwNvzpFP2WUu-MaJxuGh9cOATDt5w1QS5lFVklgoH6p0VPRn8RdWlMV0K9aouRovDikZRmNsi2AV_w3YzEcWaTVaSCQhiJO0TeGs0ubU24uHD91vEn5rZIBSNqXlZkOzgbRCbfh8DypUOnamWsB  
2018-01-16 08:50:37.225 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:50:37.233 +00:00 [DBG] Connection id "0HLASNO78VAQB" completed keep alive response.
2018-01-16 08:50:37.236 +00:00 [INF] Request finished in 21.6236ms 302 
2018-01-16 08:50:37.243 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:50:37.248 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:50:37.249 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:50:37.251 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:50:37.252 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:50:37.253 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:50:37.259 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:50:37.262 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:50:37.264 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:50:37.265 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:50:37.275 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:50:37.281 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:37.282 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:37.283 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:37.285 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:37.287 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.5082ms
2018-01-16 08:50:37.301 +00:00 [DBG] Connection id "0HLASNO78VAQB" completed keep alive response.
2018-01-16 08:50:37.319 +00:00 [INF] Request finished in 75.9736ms 200 text/html; charset=utf-8
2018-01-16 08:50:38.592 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:50:38.614 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:50:38.624 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:50:38.626 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:50:38.631 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:50:38.632 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:50:38.636 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:50:38.640 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:50:38.646 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:50:38.647 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:50:38.649 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:50:38.653 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:50:38.655 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:50:38.659 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 26.8409ms
2018-01-16 08:50:38.664 +00:00 [DBG] Connection id "0HLASNO78VAQB" completed keep alive response.
2018-01-16 08:50:38.666 +00:00 [INF] Request finished in 73.0588ms 302 
2018-01-16 08:50:45.448 +00:00 [DBG] Connection id "0HLASNO78VAQB" received FIN.
2018-01-16 08:50:45.452 +00:00 [DBG] Connection id "0HLASNO78VAQB" disconnecting.
2018-01-16 08:50:45.454 +00:00 [DBG] Connection id "0HLASNO78VAQB" sending FIN.
2018-01-16 08:50:45.455 +00:00 [DBG] Connection id "0HLASNO78VAQB" stopped.
2018-01-16 08:50:54.668 +00:00 [DBG] Connection id "0HLASNO78VAQC" started.
2018-01-16 08:50:54.687 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 08:50:54.750 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:50:54.753 +00:00 [DBG] Connection id "0HLASNO78VAQC", Request id "0HLASNO78VAQC:00000001": started reading request body.
2018-01-16 08:50:54.755 +00:00 [DBG] Connection id "0HLASNO78VAQC", Request id "0HLASNO78VAQC:00000001": done reading request body.
2018-01-16 08:50:54.758 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:50:54.763 +00:00 [VRB] MessageReceived: '?code=803371bce54648caa3f20eb82e2f709a39240c2828504734f0567e752ffeea4e&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTI2NTQsImV4cCI6MTUxNjA5Mjk1NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4OTQzODY0OTEwNzkuT1RCbE9HTTVPR1V0WlRBeE55MDBZVEprTFRsa01tSXRNMlJrTWpZM01UQm1OREpsWVRRM1pqVmxZV010T1dWaU9TMDBaRGRsTFRoaFkyRXRNR0UxT1RZMFptUTRNbVk1IiwiaWF0IjoxNTE2MDkyNjU0LCJjX2hhc2giOiJkSXVRelpyTVFkSFc5UGlEOTBva2l3Iiwic2lkIjoiOWZmZGVhOTdmYjJkOGZiZGI4NjRmMjE0NGU4Y2M4OTciLCJzdWIiOiI2NWI3YjU4Ny1lYjc3LTRlMzctOWY3NC0xYWJiOWNhMzdjOTUiLCJhdXRoX3RpbWUiOjE1MTYwOTI2NDcsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI3ZDBlMGY3ZS1mYzc1LTQ2OTctOThhMS05MThkMjBkYzYxMTIiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.LMytlyy-imYTviNBZ5VgAYdFVn37EXUIPYvkwsydLmRv8GrOQWB_ZEpJS7Te3SY1OsPDp7UVtVrQvyfFJOg-wGXi_Hz9544BRJ2UwDx7u5UoqW8Tbk19EvMlg7m_ugW0TnuKV7rcZHYwwnRE2UAUMdF84TIkxEqr1Fhy4Cj-2ZtokCMTflQZh6MBWY1cdV2VFJjhaEZGlL70VuJCNQcEWSzJyOZgQYMmzQZq2Y70Yjzdas5AU0vbWBl8tMHKjuM45FZB5m7Vxv7kF6g_s42yZ3Yw3dvvhFGmktskVUP0nihvWvLA38QtHpjpfD__FwBq8zk__PdeEKUuANL3vV3mJA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3327PbcD37ew5aV4IAMfg1wk-Q97XUFyCwkUsRjBoy58uBT6pE3mhRCYL347Z5aoCvZLl6xOhQX9T2E6Jd54b46Kde6kt_e-5Hnc3kKYjOi-JA5REnHPAYylCE3dnEbgqojOJ3vnN5d2UfMxogpO3KQB9A4GYoPeLuAiW1o96sG6fxPmRBewyUDS3Xwz7sgklL9HBVV8DrJ_duMb2SoaVhGuXNZLEagDpAjZdylhXn4cQYp0mAQpEXCcpw9632XDIVloewvwPki3hHi6nbrtU-lWWesDym4uypYIKRiWqtvZHFKq2YXH2WIslLMzjyVMo&session_state=Do-ebGxLNwWEN8P35cLEnaFT-Cl3lVdXMCMGi7WQh1c.f2c4f0267a0d35f46a59f5c5b5fbad1d'.
2018-01-16 08:50:54.784 +00:00 [DBG] Updating configuration
2018-01-16 08:50:54.784 +00:00 [DBG] Received 'id_token'
2018-01-16 08:50:54.786 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:50:54.789 +00:00 [VRB] Authorization code received.
2018-01-16 08:50:54.793 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:50:56.548 +00:00 [VRB] Token response received.
2018-01-16 08:50:56.551 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:50:57.214 +00:00 [VRB] User information received: {
  "sub": "65b7b587-eb77-4e37-9f74-1abb9ca37c95",
  "auth_time": 1516092647,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "7d0e0f7e-fc75-4697-98a1-918d20dc6112",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:50:57.235 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:50:57.243 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:50:57.256 +00:00 [DBG] Connection id "0HLASNO78VAQC" completed keep alive response.
2018-01-16 08:50:57.258 +00:00 [INF] Request finished in 2571.4205ms 302 
2018-01-16 08:50:57.273 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:50:57.285 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:50:57.287 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:57.294 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:50:57.296 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:50:57.298 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:50:57.301 +00:00 [INF] Authorization was successful for user: 65b7b587-eb77-4e37-9f74-1abb9ca37c95.
2018-01-16 08:50:57.307 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:50:57.322 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:50:57.324 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 08:50:57.325 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 08:50:57.331 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 08:50:57.341 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:57.357 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:50:57.366 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:50:57.368 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:57.372 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:57.375 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:50:57.378 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:50:57.430 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 129.05790000000002ms
2018-01-16 08:50:57.572 +00:00 [DBG] Connection id "0HLASNO78VAQC" completed keep alive response.
2018-01-16 08:50:57.595 +00:00 [INF] Request finished in 322.8058ms 200 text/html; charset=utf-8
2018-01-16 08:51:05.238 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:51:05.248 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:51:05.251 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:51:05.255 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:51:05.256 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:51:05.258 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:51:05.261 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:51:05.271 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:51:05.273 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:51:05.276 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:51:05.279 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:51:05.291 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:51:05.293 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:51:05.296 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:51:05.298 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:51:05.299 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:51:05.300 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 41.4089ms
2018-01-16 08:51:05.346 +00:00 [DBG] Connection id "0HLASNO78VAQC" completed keep alive response.
2018-01-16 08:51:05.350 +00:00 [INF] Request finished in 111.9066ms 200 text/html; charset=utf-8
2018-01-16 08:51:05.451 +00:00 [DBG] Connection id "0HLASNO78VAQC" received FIN.
2018-01-16 08:51:05.455 +00:00 [DBG] Connection id "0HLASNO78VAQC" disconnecting.
2018-01-16 08:51:05.456 +00:00 [DBG] Connection id "0HLASNO78VAQC" sending FIN.
2018-01-16 08:51:05.468 +00:00 [DBG] Connection id "0HLASNO78VAQC" stopped.
2018-01-16 08:51:06.188 +00:00 [DBG] Connection id "0HLASNO78VAQD" started.
2018-01-16 08:51:06.198 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:51:06.203 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:51:06.208 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:51:06.213 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:51:06.215 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:51:06.219 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:51:06.220 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:51:06.226 +00:00 [INF] Authorization failed for user: 65b7b587-eb77-4e37-9f74-1abb9ca37c95.
2018-01-16 08:51:06.232 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:51:06.240 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 08:51:06.260 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 08:51:06.265 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 44.5469ms
2018-01-16 08:51:06.269 +00:00 [DBG] Connection id "0HLASNO78VAQD" completed keep alive response.
2018-01-16 08:51:06.272 +00:00 [INF] Request finished in 74.3979ms 302 
2018-01-16 08:51:06.287 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 08:51:06.292 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:51:06.296 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:51:06.304 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 08:51:06.305 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 08:51:06.319 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 08:51:06.322 +00:00 [INF] Authorization was successful for user: 65b7b587-eb77-4e37-9f74-1abb9ca37c95.
2018-01-16 08:51:06.331 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 08:51:06.335 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:51:06.342 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:51:06.345 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 08:51:06.429 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 08:51:06.514 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 82.9728ms.
2018-01-16 08:51:06.520 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 08:51:06.521 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 08:51:06.534 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 08:51:06.539 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:51:06.540 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:51:06.541 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:51:06.542 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:51:06.566 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 244.34470000000002ms
2018-01-16 08:51:06.604 +00:00 [DBG] Connection id "0HLASNO78VAQD" completed keep alive response.
2018-01-16 08:51:06.635 +00:00 [INF] Request finished in 348.1166ms 200 text/html; charset=utf-8
2018-01-16 08:51:15.451 +00:00 [DBG] Connection id "0HLASNO78VAQD" received FIN.
2018-01-16 08:51:15.453 +00:00 [DBG] Connection id "0HLASNO78VAQD" disconnecting.
2018-01-16 08:51:15.453 +00:00 [DBG] Connection id "0HLASNO78VAQD" sending FIN.
2018-01-16 08:51:15.454 +00:00 [DBG] Connection id "0HLASNO78VAQD" stopped.
2018-01-16 08:51:25.102 +00:00 [DBG] Connection id "0HLASNO78VAQE" started.
2018-01-16 08:51:25.113 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 08:51:25.121 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:51:25.125 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:51:25.137 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 08:51:25.140 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:51:25.145 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 08:51:25.149 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:51:25.158 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 08:51:25.164 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 08:51:25.165 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 08:51:25.168 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:51:25.171 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:51:25.173 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 08:51:25.180 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 08:51:25.182 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 32.5017ms
2018-01-16 08:51:25.198 +00:00 [DBG] Connection id "0HLASNO78VAQE" completed keep alive response.
2018-01-16 08:51:25.200 +00:00 [INF] Request finished in 87.6566ms 302 
2018-01-16 08:51:25.452 +00:00 [DBG] Connection id "0HLASNO78VAQE" received FIN.
2018-01-16 08:51:25.467 +00:00 [DBG] Connection id "0HLASNO78VAQE" disconnecting.
2018-01-16 08:51:25.468 +00:00 [DBG] Connection id "0HLASNO78VAQE" sending FIN.
2018-01-16 08:51:25.468 +00:00 [DBG] Connection id "0HLASNO78VAQE" stopped.
2018-01-16 08:53:00.107 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 08:53:00.171 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 08:53:00.187 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 08:53:00.214 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 08:53:00.237 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:53:00.238 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 08:53:00.240 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 08:53:00.242 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 08:53:00.247 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 08:53:00.255 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 08:53:00.258 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 08:53:00.558 +00:00 [DBG] Hosting starting
2018-01-16 08:53:00.696 +00:00 [DBG] Hosting started
2018-01-16 08:53:00.697 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 08:53:00.698 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 08:53:00.812 +00:00 [DBG] Connection id "0HLASNQ62N6L1" started.
2018-01-16 08:53:00.865 +00:00 [DBG] Connection id "0HLASNQ62N6L1" received FIN.
2018-01-16 08:53:00.869 +00:00 [DBG] Connection id "0HLASNQ62N6L1" disconnecting.
2018-01-16 08:53:00.871 +00:00 [DBG] Connection id "0HLASNQ62N6L1" sending FIN.
2018-01-16 08:53:00.880 +00:00 [DBG] Connection id "0HLASNQ62N6L1" stopped.
2018-01-16 08:53:05.076 +00:00 [DBG] Connection id "0HLASNQ62N6L2" started.
2018-01-16 08:53:05.194 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:53:05.378 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:53:05.404 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:53:05.704 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:53:05.789 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:53:05.827 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:53:05.841 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:53:05.859 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 08:53:07.928 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 08:53:11.069 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 3125.1045000000004ms.
2018-01-16 08:53:11.334 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 08:53:11.600 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 264.7452ms.
2018-01-16 08:53:11.615 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:53:11.617 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:53:11.731 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 08:53:12.014 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 08:53:13.693 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1644.1190000000001ms.
2018-01-16 08:53:13.754 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:53:13.764 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:53:13.822 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:53:13.833 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:53:13.956 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 8157.2493ms
2018-01-16 08:53:14.082 +00:00 [DBG] Connection id "0HLASNQ62N6L2" completed keep alive response.
2018-01-16 08:53:14.095 +00:00 [INF] Request finished in 8911.3324ms 200 text/html; charset=utf-8
2018-01-16 08:53:16.168 +00:00 [DBG] Connection id "0HLASNQ62N6L2" received FIN.
2018-01-16 08:53:16.171 +00:00 [DBG] Connection id "0HLASNQ62N6L2" disconnecting.
2018-01-16 08:53:16.172 +00:00 [DBG] Connection id "0HLASNQ62N6L2" sending FIN.
2018-01-16 08:53:16.173 +00:00 [DBG] Connection id "0HLASNQ62N6L2" stopped.
2018-01-16 08:53:33.239 +00:00 [DBG] Connection id "0HLASNQ62N6L3" started.
2018-01-16 08:53:33.243 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:53:33.248 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:53:33.253 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:53:33.255 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:53:33.260 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:53:33.276 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:53:33.287 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:53:33.304 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:53:33.319 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:53:33.320 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:53:35.982 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:53:35.991 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:53:35.996 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:53:36.003 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2740.6052ms
2018-01-16 08:53:36.011 +00:00 [DBG] Connection id "0HLASNQ62N6L3" completed keep alive response.
2018-01-16 08:53:36.027 +00:00 [INF] Request finished in 2783.9235ms 302 
2018-01-16 08:53:36.170 +00:00 [DBG] Connection id "0HLASNQ62N6L3" received FIN.
2018-01-16 08:53:36.180 +00:00 [DBG] Connection id "0HLASNQ62N6L3" disconnecting.
2018-01-16 08:53:36.182 +00:00 [DBG] Connection id "0HLASNQ62N6L3" sending FIN.
2018-01-16 08:53:36.182 +00:00 [DBG] Connection id "0HLASNQ62N6L3" stopped.
2018-01-16 08:53:54.835 +00:00 [DBG] Connection id "0HLASNQ62N6L4" started.
2018-01-16 08:53:54.851 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 08:53:54.916 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:53:54.981 +00:00 [DBG] Connection id "0HLASNQ62N6L4", Request id "0HLASNQ62N6L4:00000001": started reading request body.
2018-01-16 08:53:54.994 +00:00 [DBG] Connection id "0HLASNQ62N6L4", Request id "0HLASNQ62N6L4:00000001": done reading request body.
2018-01-16 08:53:55.022 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:53:55.028 +00:00 [VRB] MessageReceived: '?code=1646b644154b1ccf5602354a9dc2f49e3a017feeb098eb169e9b4aff0239dfa0&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTI4MzQsImV4cCI6MTUxNjA5MzEzNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4OTYxNTk1Mzk5MjguTW1RM056TTNPRGd0WmpSallpMDBaakl6TFRneVlXWXRaRE5pTmpWalpUaGpNVE01TmpCa1lqQTBNVGN0WXpNd1ppMDBaVGMwTFdFek0yRXROVGhqWVRJd05qSTBZekZtIiwiaWF0IjoxNTE2MDkyODM0LCJjX2hhc2giOiI1ZXFqSldCWXdOVmotWXJhMm96Y05RIiwic2lkIjoiN2EzNDA1Mjk3NDk0MWVjMjEzMmQ0YmQzOGI4YjRmODMiLCJzdWIiOiJmNWQ2MjMyMC1kYzM0LTQ0MjEtOWU0Yi1kOWU0N2FiODY0ZDgiLCJhdXRoX3RpbWUiOjE1MTYwOTI4MzIsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI1MGIzNDE3OC02NTI1LTRmNjgtODkzNS03NmJiYjkwNWYyY2YiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.nBMhj6Wt7rfNYPbys1PYjV0aizclDSpPaOswT1kU3JWOOsQyXUGzWfni6hr7U70tf2Bn70wflCZXt-b-XwD2U1vhm1NwKTukiDT8hBGU65D2Fu3zW20ZaKRF2vUpA0OR4dIR51jn5xoEWD00cXZtgy-w-Fz9dondylFrH7vPton2UlRYvuVREQ8JcO2hfqv0zzuWpF28nWS6bnMmSCXMPeeUHQ6s8eZn02j7qRysA62j8Y2UzxcsjJ9Rw1_pM7rZpsszJ7AljJDf_GbH1gkecNSpPOnOR0NIX0ycyIHm3FrMCi_8GQakSoyAUa04IRipE123LymKOFuPZIIecy1Opg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO024IQUQBIEhK1BTbxhdk1lE7520Iya3fIG2TPU1lSsYVko4O1A8YGBomiYDW6tfDrroouPrJz50cBGZANGriHKgyC-AXU5bjEZ3G_b2LR-3OFRdDRRRT3P_QJ0ylHjS0IbvvVWzEJhUs_PMrx4oy8OMPlNzY6m82i7baOAmILsNxDMyzyGkKc7RcrxTxLIOfTSYzcAlTLeTGZxO0aO2bj2RojrPnC9jV8AGD-C5jsxcGbdsPTQhkP7wZ7EkTni7eeQOYjAy3lO488ADrlQhbDiiMRbaAgsRpql3bPNxoa_PoQiGfn8HngQTuvRsZ_Yp2k&session_state=x5-dYc8X7LVHuHPGMzEznkI4qaxX_CX4UjRJONqF0TI.86a607bd9c96a6326654236195149224'.
2018-01-16 08:53:55.042 +00:00 [DBG] Updating configuration
2018-01-16 08:53:55.044 +00:00 [DBG] Received 'id_token'
2018-01-16 08:53:55.150 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:53:55.174 +00:00 [VRB] Authorization code received.
2018-01-16 08:53:55.184 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:53:58.092 +00:00 [VRB] Token response received.
2018-01-16 08:53:58.098 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:53:58.883 +00:00 [VRB] User information received: {
  "sub": "f5d62320-dc34-4421-9e4b-d9e47ab864d8",
  "auth_time": 1516092832,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "50b34178-6525-4f68-8935-76bbb905f2cf",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:53:58.899 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:53:58.909 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:53:58.917 +00:00 [DBG] Connection id "0HLASNQ62N6L4" completed keep alive response.
2018-01-16 08:53:58.920 +00:00 [INF] Request finished in 4069.2844ms 302 
2018-01-16 08:53:58.935 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:53:58.945 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:53:58.950 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:53:59.002 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:53:59.018 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:53:59.023 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:53:59.035 +00:00 [INF] Authorization was successful for user: f5d62320-dc34-4421-9e4b-d9e47ab864d8.
2018-01-16 08:53:59.055 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:53:59.067 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:53:59.069 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 08:53:59.459 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 08:53:59.843 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 382.1788ms.
2018-01-16 08:53:59.848 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 08:53:59.849 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 08:53:59.868 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:53:59.875 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:53:59.879 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:53:59.881 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:53:59.882 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:53:59.884 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:53:59.887 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:53:59.892 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 858.1814ms
2018-01-16 08:53:59.899 +00:00 [DBG] Connection id "0HLASNQ62N6L4" completed keep alive response.
2018-01-16 08:53:59.903 +00:00 [INF] Request finished in 968.4623ms 200 text/html; charset=utf-8
2018-01-16 08:54:06.173 +00:00 [DBG] Connection id "0HLASNQ62N6L4" received FIN.
2018-01-16 08:54:06.175 +00:00 [DBG] Connection id "0HLASNQ62N6L4" disconnecting.
2018-01-16 08:54:06.176 +00:00 [DBG] Connection id "0HLASNQ62N6L4" sending FIN.
2018-01-16 08:54:06.176 +00:00 [DBG] Connection id "0HLASNQ62N6L4" stopped.
2018-01-16 08:54:14.645 +00:00 [DBG] Connection id "0HLASNQ62N6L5" started.
2018-01-16 08:54:14.650 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:54:14.657 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:54:14.660 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:54:14.663 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:54:14.664 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:54:14.667 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:54:14.670 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:54:14.678 +00:00 [INF] Authorization was successful for user: f5d62320-dc34-4421-9e4b-d9e47ab864d8.
2018-01-16 08:54:14.681 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:54:14.685 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:54:14.686 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 08:54:14.747 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 08:54:14.894 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 145.6993ms.
2018-01-16 08:54:14.900 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 08:54:14.901 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 08:54:14.916 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:54:14.919 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:54:14.920 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:54:14.923 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:54:14.925 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:54:14.928 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 257.37260000000003ms
2018-01-16 08:54:14.949 +00:00 [DBG] Connection id "0HLASNQ62N6L5" completed keep alive response.
2018-01-16 08:54:14.955 +00:00 [INF] Request finished in 304.3523ms 200 text/html; charset=utf-8
2018-01-16 08:54:16.173 +00:00 [DBG] Connection id "0HLASNQ62N6L5" received FIN.
2018-01-16 08:54:16.175 +00:00 [DBG] Connection id "0HLASNQ62N6L5" disconnecting.
2018-01-16 08:54:16.176 +00:00 [DBG] Connection id "0HLASNQ62N6L5" sending FIN.
2018-01-16 08:54:16.176 +00:00 [DBG] Connection id "0HLASNQ62N6L5" stopped.
2018-01-16 08:54:52.911 +00:00 [DBG] Connection id "0HLASNQ62N6L6" started.
2018-01-16 08:54:52.914 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 08:54:52.920 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:54:52.923 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:54:52.928 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 08:54:52.929 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:54:52.935 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 08:54:52.936 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:54:52.946 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 08:54:52.951 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 08:54:52.952 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 08:54:52.953 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:54:52.959 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:54:52.961 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 08:54:52.964 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 08:54:52.967 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 30.3567ms
2018-01-16 08:54:52.975 +00:00 [DBG] Connection id "0HLASNQ62N6L6" completed keep alive response.
2018-01-16 08:54:52.982 +00:00 [INF] Request finished in 68.1634ms 302 
2018-01-16 08:54:55.476 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO2KSrH8z0T9vi2G3sqONoGlQfb1zHBtYNskYm0Q6sJHuBK6kRi19dRE1cMxy8Satsn3N1QmnyPdH2aXBthDGyXRnfL2utEqOMHESr2yPyB99VqKiKoUUThtoclmhwjRhk1CGoo_8aNUNphGEvpnlrqK  
2018-01-16 08:54:55.495 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:54:55.499 +00:00 [DBG] Connection id "0HLASNQ62N6L6" completed keep alive response.
2018-01-16 08:54:55.514 +00:00 [INF] Request finished in 38.4762ms 302 
2018-01-16 08:54:55.560 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:54:55.570 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:54:55.576 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:54:55.578 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:54:55.580 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:54:55.583 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:54:55.587 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:54:55.589 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:54:55.591 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:54:55.595 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:54:55.599 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:54:55.601 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:54:55.604 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:54:55.608 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:54:55.610 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:54:55.612 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 29.1872ms
2018-01-16 08:54:55.649 +00:00 [DBG] Connection id "0HLASNQ62N6L6" completed keep alive response.
2018-01-16 08:54:55.659 +00:00 [INF] Request finished in 98.785ms 200 text/html; charset=utf-8
2018-01-16 08:54:56.178 +00:00 [DBG] Connection id "0HLASNQ62N6L6" received FIN.
2018-01-16 08:54:56.196 +00:00 [DBG] Connection id "0HLASNQ62N6L6" disconnecting.
2018-01-16 08:54:56.197 +00:00 [DBG] Connection id "0HLASNQ62N6L6" sending FIN.
2018-01-16 08:54:56.197 +00:00 [DBG] Connection id "0HLASNQ62N6L6" stopped.
2018-01-16 08:54:56.913 +00:00 [DBG] Connection id "0HLASNQ62N6L7" started.
2018-01-16 08:54:56.917 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:54:56.921 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 08:54:56.926 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:54:56.928 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:54:56.930 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:54:56.933 +00:00 [INF] Authorization failed for user: null.
2018-01-16 08:54:56.942 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:54:56.946 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 08:54:56.950 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 08:54:56.951 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 08:54:56.954 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:54:56.960 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:54:56.962 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 08:54:56.967 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 33.3967ms
2018-01-16 08:54:56.971 +00:00 [DBG] Connection id "0HLASNQ62N6L7" completed keep alive response.
2018-01-16 08:54:56.984 +00:00 [INF] Request finished in 67.0475ms 302 
2018-01-16 08:55:06.179 +00:00 [DBG] Connection id "0HLASNQ62N6L7" received FIN.
2018-01-16 08:55:06.181 +00:00 [DBG] Connection id "0HLASNQ62N6L7" disconnecting.
2018-01-16 08:55:06.182 +00:00 [DBG] Connection id "0HLASNQ62N6L7" sending FIN.
2018-01-16 08:55:06.182 +00:00 [DBG] Connection id "0HLASNQ62N6L7" stopped.
2018-01-16 08:55:09.041 +00:00 [DBG] Connection id "0HLASNQ62N6L8" started.
2018-01-16 08:55:09.066 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 08:55:09.185 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 08:55:09.227 +00:00 [DBG] Connection id "0HLASNQ62N6L8", Request id "0HLASNQ62N6L8:00000001": started reading request body.
2018-01-16 08:55:09.249 +00:00 [DBG] Connection id "0HLASNQ62N6L8", Request id "0HLASNQ62N6L8:00000001": done reading request body.
2018-01-16 08:55:09.252 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 08:55:09.263 +00:00 [VRB] MessageReceived: '?code=f881fffeb3101e0c961f1eabf64cf8737ffed4a3908f51a56707d35dd0a8392a&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTI5MDgsImV4cCI6MTUxNjA5MzIwOCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY4OTY5Njk1NDAxMTcuTURjeE5UY3lNemd0T0RBeE55MDBNV016TFRnelpqVXROVGt3WkdSbU5qWXdNRGhsT1RneE16QTNaRFV0TTJVek9TMDBaR1JqTFRsaVlXSXRaVFprTXpVNVpXUmlObUU0IiwiaWF0IjoxNTE2MDkyOTA4LCJjX2hhc2giOiI1OG5HVDluMmpZRERiZ1pRV1d6TUp3Iiwic2lkIjoiN2Q4NTdlNDZiODVkM2JjMWQwYzJhZmEwZjNhY2M3ZWYiLCJzdWIiOiIyZmYxZTFlNC00ZWRmLTQyNjEtODZiNS1iZDM1OGYxODUxNzEiLCJhdXRoX3RpbWUiOjE1MTYwOTI5MDcsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI2NGFiODFhMi1kN2FkLTQ3YjYtYmVmNi1lZDY2MmVlZWVmMjgiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.GXNxJqk8uVsvQU1g9znvjpmADEpwIRtvPJ8rxXYTVaiH8Yq5BrAQBNEo7TsIcQvybjKCfrtHVDxcTceKR_nCwNYtdBewcfDog7xwlBOFlc5GLyCrH-C-Co7FQr_el_R5vxettBROh-_d6s6M-uX3LtPIalGo_Kq6oRE99RjIDIU5xIjZycm1CyGTKvFJo-GDmSyVmKxrvXJ4DIe3ifK7-FD_RT-uZTteyzaJT3NVhJAoQZh4r575iQT4J2_84K1gaZR2kwZg759t_ADotBAPXFj2afcedwQ_2e-JG_xyiRVNp2Dg7fh2-XFYdJggPkOloxll2543l0HObElaaFqbQA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1HkVPI2j5hZg8lSW47w2CZx8236MkL6WmRiDe0La_suiEMkzrx8Pdq0woOrmAZfJLtRxscQBUYk0jdwEmeMkBRAoFsC56z-RuIDQYzugQCf0t6FIeWQSMLR8xu9VVrlPGYIYG-TdQBgnWZVI8ipf2feKZptn0srZNCK_4xNkxZX-6RaH3Uat2mbZep0_gnZR_AKtAUVAmdZnwt4-k8iU3mgp4qgBluJaGWC1nUUlv3nQA0e8Klz5gUH35YxrxSD91hmfMSe3Vy-dunWeOolM3Yi5lEnRakJjBjlCjHDrbbxKqfneWMwVnTY8-I5cVW7Nc&session_state=sxbJja_0lswm_VBq8lW5hyqz-px-W_gIKHZpvdkOjCo.e00affe36fffeb53c9fc691683860907'.
2018-01-16 08:55:09.271 +00:00 [DBG] Updating configuration
2018-01-16 08:55:09.278 +00:00 [DBG] Received 'id_token'
2018-01-16 08:55:09.281 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 08:55:09.291 +00:00 [VRB] Authorization code received.
2018-01-16 08:55:09.293 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 08:55:11.087 +00:00 [VRB] Token response received.
2018-01-16 08:55:11.094 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 08:55:11.569 +00:00 [VRB] User information received: {
  "sub": "2ff1e1e4-4edf-4261-86b5-bd358f185171",
  "auth_time": 1516092907,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "64ab81a2-d7ad-47b6-bef6-ed662eeeef28",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 08:55:11.575 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:55:11.579 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 08:55:11.585 +00:00 [DBG] Connection id "0HLASNQ62N6L8" completed keep alive response.
2018-01-16 08:55:11.593 +00:00 [INF] Request finished in 2527.1183ms 302 
2018-01-16 08:55:11.600 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 08:55:11.604 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:55:11.609 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:11.615 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 08:55:11.616 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:55:11.618 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 08:55:11.619 +00:00 [INF] Authorization was successful for user: 2ff1e1e4-4edf-4261-86b5-bd358f185171.
2018-01-16 08:55:11.630 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:55:11.639 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:55:11.644 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 08:55:11.646 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 08:55:11.648 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 08:55:11.658 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:11.674 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:11.683 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:55:11.684 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:55:11.689 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:55:11.692 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:55:11.695 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:55:11.701 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 82.2365ms
2018-01-16 08:55:11.713 +00:00 [DBG] Connection id "0HLASNQ62N6L8" completed keep alive response.
2018-01-16 08:55:11.715 +00:00 [INF] Request finished in 114.6956ms 200 text/html; charset=utf-8
2018-01-16 08:55:16.180 +00:00 [DBG] Connection id "0HLASNQ62N6L8" received FIN.
2018-01-16 08:55:16.182 +00:00 [DBG] Connection id "0HLASNQ62N6L8" disconnecting.
2018-01-16 08:55:16.183 +00:00 [DBG] Connection id "0HLASNQ62N6L8" sending FIN.
2018-01-16 08:55:16.183 +00:00 [DBG] Connection id "0HLASNQ62N6L8" stopped.
2018-01-16 08:55:16.508 +00:00 [DBG] Connection id "0HLASNQ62N6L9" started.
2018-01-16 08:55:16.515 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 08:55:16.526 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:55:16.528 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:16.532 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 08:55:16.533 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:55:16.534 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 08:55:16.535 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:55:16.540 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:55:16.543 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 08:55:16.545 +00:00 [DBG] The view 'Index' was found.
2018-01-16 08:55:16.546 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 08:55:16.550 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 08:55:16.554 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:55:16.555 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:55:16.558 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:55:16.561 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:55:16.569 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 33.7066ms
2018-01-16 08:55:16.594 +00:00 [DBG] Connection id "0HLASNQ62N6L9" completed keep alive response.
2018-01-16 08:55:16.602 +00:00 [INF] Request finished in 87.0502ms 200 text/html; charset=utf-8
2018-01-16 08:55:17.349 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 08:55:17.358 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:55:17.361 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:17.366 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 08:55:17.367 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 08:55:17.369 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 08:55:17.378 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:17.384 +00:00 [INF] Authorization failed for user: 2ff1e1e4-4edf-4261-86b5-bd358f185171.
2018-01-16 08:55:17.397 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 08:55:17.405 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 08:55:17.420 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 08:55:17.424 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 45.63ms
2018-01-16 08:55:17.427 +00:00 [DBG] Connection id "0HLASNQ62N6L9" completed keep alive response.
2018-01-16 08:55:17.429 +00:00 [INF] Request finished in 80.1663ms 302 
2018-01-16 08:55:17.435 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 08:55:17.440 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 08:55:17.442 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 08:55:17.448 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 08:55:17.450 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 08:55:17.463 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 08:55:17.466 +00:00 [INF] Authorization was successful for user: 2ff1e1e4-4edf-4261-86b5-bd358f185171.
2018-01-16 08:55:17.475 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 08:55:17.477 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 08:55:17.481 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 08:55:17.483 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 08:55:17.555 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 08:55:17.663 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 105.68860000000001ms.
2018-01-16 08:55:17.668 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 08:55:17.669 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 08:55:17.689 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 08:55:17.693 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:55:17.694 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:55:17.696 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 08:55:17.698 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 08:55:17.702 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 236.3077ms
2018-01-16 08:55:17.758 +00:00 [DBG] Connection id "0HLASNQ62N6L9" completed keep alive response.
2018-01-16 08:55:17.768 +00:00 [INF] Request finished in 333.1957ms 200 text/html; charset=utf-8
2018-01-16 08:55:21.580 +00:00 [DBG] Connection id "0HLASNQ62N6L9" received FIN.
2018-01-16 08:55:21.585 +00:00 [DBG] Connection id "0HLASNQ62N6L9" disconnecting.
2018-01-16 08:55:21.586 +00:00 [DBG] Connection id "0HLASNQ62N6L9" sending FIN.
2018-01-16 08:55:21.586 +00:00 [DBG] Connection id "0HLASNQ62N6L9" stopped.
2018-01-16 09:04:39.344 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:04:39.488 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:04:39.516 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:04:39.550 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:04:39.583 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:04:39.585 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:04:39.587 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:04:39.589 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:04:39.595 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:04:39.604 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:04:39.608 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:04:40.341 +00:00 [DBG] Hosting starting
2018-01-16 09:04:40.686 +00:00 [DBG] Connection id "0HLASO0ML020T" started.
2018-01-16 09:04:40.721 +00:00 [DBG] Hosting started
2018-01-16 09:04:40.754 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:04:40.767 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:04:40.774 +00:00 [DBG] Connection id "0HLASO0ML020T" received FIN.
2018-01-16 09:04:40.779 +00:00 [DBG] Connection id "0HLASO0ML020T" disconnecting.
2018-01-16 09:04:40.788 +00:00 [DBG] Connection id "0HLASO0ML020T" sending FIN.
2018-01-16 09:04:40.798 +00:00 [DBG] Connection id "0HLASO0ML020T" stopped.
2018-01-16 09:04:43.065 +00:00 [DBG] Connection id "0HLASO0ML020U" started.
2018-01-16 09:04:43.415 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:04:43.720 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:04:43.817 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:04:44.248 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:04:44.334 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:04:44.363 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:04:44.375 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:04:44.393 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:04:46.588 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:04:49.576 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 2979.2147ms.
2018-01-16 09:04:49.703 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:04:49.830 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 125.37400000000001ms.
2018-01-16 09:04:49.839 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:04:49.840 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:04:49.905 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:04:50.140 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:04:51.065 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 922.3495ms.
2018-01-16 09:04:51.100 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:04:51.106 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:04:51.143 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:04:51.147 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:04:51.210 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6873.4400000000005ms
2018-01-16 09:04:51.240 +00:00 [DBG] Connection id "0HLASO0ML020U" completed keep alive response.
2018-01-16 09:04:51.254 +00:00 [INF] Request finished in 7852.6675ms 200 text/html; charset=utf-8
2018-01-16 09:04:52.553 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:04:52.565 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:04:52.569 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:04:52.570 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:04:52.574 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:04:52.581 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:04:52.591 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:04:52.601 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:04:52.610 +00:00 [INF] Executing ChallengeResult with authentication schemes (["Cookies"]).
2018-01-16 09:04:52.633 +00:00 [INF] AuthenticationScheme: Cookies was challenged.
2018-01-16 09:04:52.636 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 60.247800000000005ms
2018-01-16 09:04:52.650 +00:00 [DBG] Connection id "0HLASO0ML020U" completed keep alive response.
2018-01-16 09:04:52.652 +00:00 [INF] Request finished in 99.0712ms 302 
2018-01-16 09:04:52.667 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/Login?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:04:52.676 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:04:52.677 +00:00 [DBG] The request path /Account/Login does not match a supported file type
2018-01-16 09:04:52.680 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:04:52.686 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-16 09:04:52.688 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-16 09:04:52.690 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:04:52.690 +00:00 [DBG] Connection id "0HLASO0ML020U" completed keep alive response.
2018-01-16 09:04:52.699 +00:00 [INF] Request finished in 31.9657ms 404 
2018-01-16 09:04:56.069 +00:00 [DBG] Connection id "0HLASO0ML020U" received FIN.
2018-01-16 09:04:56.070 +00:00 [DBG] Connection id "0HLASO0ML020U" disconnecting.
2018-01-16 09:04:56.071 +00:00 [DBG] Connection id "0HLASO0ML020U" sending FIN.
2018-01-16 09:04:56.071 +00:00 [DBG] Connection id "0HLASO0ML020U" stopped.
2018-01-16 09:04:56.334 +00:00 [DBG] Connection id "0HLASO0ML020V" started.
2018-01-16 09:04:56.338 +00:00 [DBG] Connection id "0HLASO0ML0210" started.
2018-01-16 09:04:56.338 +00:00 [DBG] Connection id "0HLASO0ML0211" started.
2018-01-16 09:04:56.369 +00:00 [DBG] Connection id "0HLASO0ML0212" started.
2018-01-16 09:04:56.369 +00:00 [DBG] Connection id "0HLASO0ML0213" started.
2018-01-16 09:04:56.422 +00:00 [DBG] Connection id "0HLASO0ML0214" started.
2018-01-16 09:04:58.201 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:04:58.206 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:04:58.209 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:04:58.210 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:04:58.216 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:04:58.219 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:04:58.232 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:04:58.239 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:04:58.248 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:04:58.250 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:05:00.865 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:05:00.874 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:05:00.880 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:05:00.884 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2665.5745ms
2018-01-16 09:05:00.888 +00:00 [DBG] Connection id "0HLASO0ML020V" completed keep alive response.
2018-01-16 09:05:00.891 +00:00 [INF] Request finished in 2690.2563ms 302 
2018-01-16 09:05:06.070 +00:00 [DBG] Connection id "0HLASO0ML0211" received FIN.
2018-01-16 09:05:06.070 +00:00 [DBG] Connection id "0HLASO0ML0210" received FIN.
2018-01-16 09:05:06.086 +00:00 [DBG] Connection id "0HLASO0ML0211" disconnecting.
2018-01-16 09:05:06.087 +00:00 [DBG] Connection id "0HLASO0ML0213" received FIN.
2018-01-16 09:05:06.103 +00:00 [DBG] Connection id "0HLASO0ML0213" disconnecting.
2018-01-16 09:05:06.104 +00:00 [DBG] Connection id "0HLASO0ML0214" received FIN.
2018-01-16 09:05:06.106 +00:00 [DBG] Connection id "0HLASO0ML0214" disconnecting.
2018-01-16 09:05:06.106 +00:00 [DBG] Connection id "0HLASO0ML0211" sending FIN.
2018-01-16 09:05:06.116 +00:00 [DBG] Connection id "0HLASO0ML0213" sending FIN.
2018-01-16 09:05:06.119 +00:00 [DBG] Connection id "0HLASO0ML0214" sending FIN.
2018-01-16 09:05:06.214 +00:00 [DBG] Connection id "0HLASO0ML0213" stopped.
2018-01-16 09:05:06.214 +00:00 [DBG] Connection id "0HLASO0ML0214" stopped.
2018-01-16 09:05:06.222 +00:00 [DBG] Connection id "0HLASO0ML0211" stopped.
2018-01-16 09:05:06.237 +00:00 [DBG] Connection id "0HLASO0ML0210" disconnecting.
2018-01-16 09:05:06.321 +00:00 [DBG] Connection id "0HLASO0ML0212" received FIN.
2018-01-16 09:05:06.373 +00:00 [DBG] Connection id "0HLASO0ML0212" disconnecting.
2018-01-16 09:05:06.403 +00:00 [DBG] Connection id "0HLASO0ML020V" received FIN.
2018-01-16 09:05:06.408 +00:00 [DBG] Connection id "0HLASO0ML020V" disconnecting.
2018-01-16 09:05:06.414 +00:00 [DBG] Connection id "0HLASO0ML0210" sending FIN.
2018-01-16 09:05:06.415 +00:00 [DBG] Connection id "0HLASO0ML0210" stopped.
2018-01-16 09:05:06.419 +00:00 [DBG] Connection id "0HLASO0ML0212" sending FIN.
2018-01-16 09:05:06.419 +00:00 [DBG] Connection id "0HLASO0ML0212" stopped.
2018-01-16 09:05:06.430 +00:00 [DBG] Connection id "0HLASO0ML020V" sending FIN.
2018-01-16 09:05:06.434 +00:00 [DBG] Connection id "0HLASO0ML020V" stopped.
2018-01-16 09:05:15.163 +00:00 [DBG] Connection id "0HLASO0ML0215" started.
2018-01-16 09:05:15.168 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 09:05:15.184 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:05:15.206 +00:00 [DBG] Connection id "0HLASO0ML0215", Request id "0HLASO0ML0215:00000001": started reading request body.
2018-01-16 09:05:15.214 +00:00 [DBG] Connection id "0HLASO0ML0215", Request id "0HLASO0ML0215:00000001": done reading request body.
2018-01-16 09:05:15.232 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:05:15.239 +00:00 [VRB] MessageReceived: '?code=b4250eb29e2f129cd33eda62300239eaf000765dbcdfaebf85c77de6e8985ad3&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTM1MTQsImV4cCI6MTUxNjA5MzgxNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MDMwMDg1Njg2MDguWkRZek9XUTVNRFl0TVRJeU5DMDBPV1ExTFdFMU1qSXROVEZsTVRJNFkyUTNabVF6TnpneFlUVXlabU10WmpnME9DMDBPVGcwTFdFMk1HWXRPREJpTlRCallXSXpObVkzIiwiaWF0IjoxNTE2MDkzNTE0LCJjX2hhc2giOiI3alA2M1dWbHd5anB5eGw0WWVEZl9BIiwic2lkIjoiYTIwZTdiMjhiODQ0MTI2OWI2ODNmY2VhN2M2ZWMxMWUiLCJzdWIiOiJhYjYzNjBjOS1jNGM5LTRjZDctOWY2NS0wMjQ2MWI4MGRmNjkiLCJhdXRoX3RpbWUiOjE1MTYwOTM1MTMsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJjMGM3NGE2OC04ZWM4LTQ2MzYtYmFlNi00MTBhOTM2M2NhY2EiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.pboUEMEWUaXWV0SoEmzMOYwtIwbR_z1XQvjzWoxVBBd1rWsj49B6sAQBJzUUwKCKVIoYYcDMRm5CsL5KinBav6HBB3IfzNDwa3rONi3gwtwDBuwIBK-5s_iR6cDr-b8N1SlVj4b1ieIItt9mtmtqKAKHVLnBbqI_g1ZYfSmJCd_tTEYDdxQnUtp4fdcKb1stjH06HzrvSCLu-l9MrHaEE24HbiMl0v-3I37RX4qi_TuHZcSFK8w3h-Kt4kOm8V1VwJ8Re5Q9CjKx1rn1ZMywqG8zteQrQrYQH1eGg0sfLmd9NV9n58Qb_kYfo6QOmC5a5zjLXVsxps8GMP2fErloiA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1GQ4jgx6cz7vKSLvsQ6I2f29BbKfq0yoL6MKH_OVJhStsWkE_VMvPUHifEWjcYgp57zCcWcXsZud-WKeA1x5pIfu08OXSn9qj3Qh87isq0Wf_BaNeRWI-ebOwjMUuVwMQCqKOenwbKKAMTrd06Ti_hA3hi4JbLzCjsAI2937M1I0kIU6-p2qw7MsEAaCOeLPILUrc_X5CHBGjdfaYLPa64pBdXuCAR4pTWoDOinddAqQmX5Yuf5jHZgY5l8qpyb-bZhSOTE_8Pv1YEPKVKLxE_oLRpPpTEPek1rd8ZJXvxMwECMoQM3ueT1EWe2fB8aSM&session_state=3fXow7IFOKQrkRnp-Z6o9W4K1eoXE-pSDnaTepWOR3Y.533c7463d5c306fb5cb9e5d824b29e86'.
2018-01-16 09:05:15.255 +00:00 [DBG] Updating configuration
2018-01-16 09:05:15.256 +00:00 [DBG] Received 'id_token'
2018-01-16 09:05:15.360 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:05:15.369 +00:00 [VRB] Authorization code received.
2018-01-16 09:05:15.371 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:05:17.426 +00:00 [VRB] Token response received.
2018-01-16 09:05:17.432 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:05:18.209 +00:00 [VRB] User information received: {
  "sub": "ab6360c9-c4c9-4cd7-9f65-02461b80df69",
  "auth_time": 1516093513,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "c0c74a68-8ec8-4636-bae6-410a9363caca",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:05:18.237 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:05:18.243 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:05:18.260 +00:00 [DBG] Connection id "0HLASO0ML0215" completed keep alive response.
2018-01-16 09:05:18.268 +00:00 [INF] Request finished in 3099.887ms 302 
2018-01-16 09:05:18.286 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:05:18.301 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:05:18.305 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:05:18.319 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:05:18.322 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:05:18.325 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:05:18.335 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:05:18.342 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:05:18.360 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:05:18.365 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:05:18.655 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:05:19.120 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 460.7187ms.
2018-01-16 09:05:19.185 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:05:19.242 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:05:19.307 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:05:19.314 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:05:19.319 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:05:19.321 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:05:19.323 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:05:19.324 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:05:19.326 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:05:19.333 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 998.7054ms
2018-01-16 09:05:19.341 +00:00 [DBG] Connection id "0HLASO0ML0215" completed keep alive response.
2018-01-16 09:05:19.343 +00:00 [INF] Request finished in 1057.1941ms 200 text/html; charset=utf-8
2018-01-16 09:05:21.324 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:05:21.332 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:05:21.334 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:05:21.338 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:05:21.339 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:05:21.340 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:05:21.341 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:05:21.348 +00:00 [INF] Authorization failed for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:05:21.353 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:05:21.360 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 09:05:21.368 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 09:05:21.373 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 31.4982ms
2018-01-16 09:05:21.381 +00:00 [DBG] Connection id "0HLASO0ML0215" completed keep alive response.
2018-01-16 09:05:21.383 +00:00 [INF] Request finished in 57.9781ms 302 
2018-01-16 09:05:21.389 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:05:21.397 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:05:21.400 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:05:21.404 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 09:05:21.405 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 09:05:21.416 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 09:05:21.418 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:05:21.426 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 09:05:21.431 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:05:21.436 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:05:21.438 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 09:05:21.543 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 09:05:21.681 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 134.7151ms.
2018-01-16 09:05:21.686 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 09:05:21.688 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 09:05:21.703 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 09:05:21.707 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:05:21.709 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:05:21.710 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:05:21.712 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:05:21.716 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 298.8293ms
2018-01-16 09:05:21.727 +00:00 [DBG] Connection id "0HLASO0ML0215" completed keep alive response.
2018-01-16 09:05:21.734 +00:00 [INF] Request finished in 345.5657ms 200 text/html; charset=utf-8
2018-01-16 09:05:25.526 +00:00 [DBG] Connection id "0HLASO0ML0215" received FIN.
2018-01-16 09:05:25.538 +00:00 [DBG] Connection id "0HLASO0ML0215" disconnecting.
2018-01-16 09:05:25.538 +00:00 [DBG] Connection id "0HLASO0ML0215" sending FIN.
2018-01-16 09:05:25.539 +00:00 [DBG] Connection id "0HLASO0ML0215" stopped.
2018-01-16 09:05:51.531 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:05:51.605 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:05:51.621 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:05:51.658 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:05:51.694 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:05:51.697 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:05:51.699 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:05:51.700 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:05:51.706 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:05:51.714 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:05:51.717 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:05:52.080 +00:00 [DBG] Hosting starting
2018-01-16 09:05:52.315 +00:00 [DBG] Hosting started
2018-01-16 09:05:52.316 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:05:52.317 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:05:52.564 +00:00 [DBG] Connection id "0HLASO1C2N6M9" started.
2018-01-16 09:05:52.627 +00:00 [DBG] Connection id "0HLASO1C2N6M9" received FIN.
2018-01-16 09:05:52.630 +00:00 [DBG] Connection id "0HLASO1C2N6M9" disconnecting.
2018-01-16 09:05:52.632 +00:00 [DBG] Connection id "0HLASO1C2N6M9" sending FIN.
2018-01-16 09:05:52.637 +00:00 [DBG] Connection id "0HLASO1C2N6M9" stopped.
2018-01-16 09:05:54.765 +00:00 [DBG] Connection id "0HLASO1C2N6MA" started.
2018-01-16 09:05:54.998 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:05:55.237 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:05:55.266 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:05:55.568 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:05:55.650 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:05:55.682 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:05:55.698 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:05:55.707 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:05:57.209 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:05:59.112 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1895.4991ms.
2018-01-16 09:05:59.261 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:05:59.366 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 102.1199ms.
2018-01-16 09:05:59.376 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:05:59.379 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:05:59.459 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:05:59.612 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:06:00.441 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 826.5344ms.
2018-01-16 09:06:00.468 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:00.472 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:00.521 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:00.524 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:00.603 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4950.077ms
2018-01-16 09:06:00.652 +00:00 [DBG] Connection id "0HLASO1C2N6MA" completed keep alive response.
2018-01-16 09:06:00.656 +00:00 [INF] Request finished in 5667.4322ms 200 text/html; charset=utf-8
2018-01-16 09:06:02.124 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:06:02.151 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:06:02.157 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:06:02.159 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:06:02.164 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:06:02.186 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:06:02.197 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:06:02.208 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:06:02.224 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:06:02.225 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:06:03.053 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:06:03.062 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:06:03.067 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:06:03.080 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 907.236ms
2018-01-16 09:06:03.093 +00:00 [DBG] Connection id "0HLASO1C2N6MA" completed keep alive response.
2018-01-16 09:06:03.106 +00:00 [INF] Request finished in 982.0519ms 302 
2018-01-16 09:06:07.979 +00:00 [DBG] Connection id "0HLASO1C2N6MA" received FIN.
2018-01-16 09:06:07.982 +00:00 [DBG] Connection id "0HLASO1C2N6MA" disconnecting.
2018-01-16 09:06:07.983 +00:00 [DBG] Connection id "0HLASO1C2N6MA" sending FIN.
2018-01-16 09:06:07.983 +00:00 [DBG] Connection id "0HLASO1C2N6MA" stopped.
2018-01-16 09:06:14.807 +00:00 [DBG] Connection id "0HLASO1C2N6MB" started.
2018-01-16 09:06:14.844 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 09:06:14.868 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:06:14.889 +00:00 [DBG] Connection id "0HLASO1C2N6MB", Request id "0HLASO1C2N6MB:00000001": started reading request body.
2018-01-16 09:06:14.899 +00:00 [DBG] Connection id "0HLASO1C2N6MB", Request id "0HLASO1C2N6MB:00000001": done reading request body.
2018-01-16 09:06:14.923 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:06:14.932 +00:00 [VRB] MessageReceived: '?code=99b8e58661017d2f3b6a5db2750f544de31d4dae23fd4a1bf902daa800ea39e6&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTM1NzQsImV4cCI6MTUxNjA5Mzg3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MDM2MzA0NDk1MTguTlRVME9UTTFNV0V0TldJek1DMDBZMkppTFdJMlpUa3ROR0ZrWmpKaFpXWmpOVFExTUdFMk1XUmlPR1l0T0RJellpMDBOalV4TFRnME1UQXROVFl5WmpVNVlUTTRNekE0IiwiaWF0IjoxNTE2MDkzNTc0LCJjX2hhc2giOiJURjF0WHJRNEVjRXFJaFVYck02cGN3Iiwic2lkIjoiZWY2YzYxNGMyZTc0ZmUzY2M3OWEwMGUyN2VlNjVjY2QiLCJzdWIiOiJhYjYzNjBjOS1jNGM5LTRjZDctOWY2NS0wMjQ2MWI4MGRmNjkiLCJhdXRoX3RpbWUiOjE1MTYwOTM1NzMsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJjMGM3NGE2OC04ZWM4LTQ2MzYtYmFlNi00MTBhOTM2M2NhY2EiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.qPwfgPBUjyXsx5t03nH2OOhXA51MsKmyHI7dl1qVWE1K4FwWys_tMLFiMvHVy2jWDbI-RUl12QoxYM77M3_M_mL1DGjmZqvatAI6AZ9uve87JS_PkveTyeTHgHVT-M32qcZ9uzDCPJdDzpZe5lwGq6tazTXLn8ypEFROEBB5wQfbvBEGk8wcHmCdtigggAcRv1kvGNaupc8_n1AjGNN1I7erC8MPKYFIg0KFDwewmFXMm--WjFwaODCN9VKZf48fWGc1ftslXzGeWJ5lPAhaH3-3WJ65CCnvviPtjLwgEtt2iXRnaAILM_MiM9w990XgLkZadlkc5Js_XqjePItlfA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2bSOvUvIeSpanuX8flQHIMMcD3AQmpe_emLrVzCHB-E-2HR5GyzPBnbntJa6w5LA1lh4BVM0UM85aZNN-HaDHyZO5MuZcoQzht4A1oRro7Qr-Uwgp55dVUjvP-wjyRQ1Ae0IS21mSsIHusVGMGQEx8HVTwVYefzAjNgEjKvaVObetknZ9FJCNn-VXRC0qaG1DVGPbslqH4fdvMaXlu3DpGzdlc9Op8IiAws3nJv-osKBvvJ7KloPFQgR4VVeqHnLKRpS0_Hgq0eh4apchgfgugFKD-GRWKEvVHGnkwjvdupubvGASsseCU8Tur7oRC7eM&session_state=8E8wkCEWPxQHqTBh8_ia4TU9jaTqwHlSD__dCztU0vA.64fbfc8b28b2b4cc8c84b2694c167c2d'.
2018-01-16 09:06:14.941 +00:00 [DBG] Updating configuration
2018-01-16 09:06:14.942 +00:00 [DBG] Received 'id_token'
2018-01-16 09:06:15.028 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:06:15.038 +00:00 [VRB] Authorization code received.
2018-01-16 09:06:15.041 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:06:16.682 +00:00 [VRB] Token response received.
2018-01-16 09:06:16.686 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:06:17.160 +00:00 [VRB] User information received: {
  "sub": "ab6360c9-c4c9-4cd7-9f65-02461b80df69",
  "auth_time": 1516093573,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "c0c74a68-8ec8-4636-bae6-410a9363caca",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:06:17.175 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:06:17.181 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:06:17.185 +00:00 [DBG] Connection id "0HLASO1C2N6MB" completed keep alive response.
2018-01-16 09:06:17.186 +00:00 [INF] Request finished in 2342.1068ms 302 
2018-01-16 09:06:17.192 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:06:17.196 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:06:17.200 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:17.203 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:06:17.205 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:06:17.206 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:06:17.207 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:06:17.211 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:06:17.217 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:06:17.219 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:06:17.358 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:06:17.686 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 310.8945ms.
2018-01-16 09:06:17.690 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:06:17.691 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:06:17.709 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:17.714 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:17.718 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:06:17.719 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:17.722 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:17.723 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:17.724 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:17.728 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 521.0064ms
2018-01-16 09:06:17.738 +00:00 [DBG] Connection id "0HLASO1C2N6MB" completed keep alive response.
2018-01-16 09:06:17.740 +00:00 [INF] Request finished in 547.5126ms 200 text/html; charset=utf-8
2018-01-16 09:06:17.979 +00:00 [DBG] Connection id "0HLASO1C2N6MB" received FIN.
2018-01-16 09:06:17.984 +00:00 [DBG] Connection id "0HLASO1C2N6MB" disconnecting.
2018-01-16 09:06:17.984 +00:00 [DBG] Connection id "0HLASO1C2N6MB" sending FIN.
2018-01-16 09:06:17.985 +00:00 [DBG] Connection id "0HLASO1C2N6MB" stopped.
2018-01-16 09:06:20.982 +00:00 [DBG] Connection id "0HLASO1C2N6MC" started.
2018-01-16 09:06:20.984 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:06:20.991 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:06:20.996 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:21.000 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:06:21.003 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:06:21.004 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:06:21.006 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:06:21.009 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:06:21.013 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:06:21.015 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 09:06:21.016 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:06:21.016 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:06:21.020 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:21.025 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:21.032 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:06:21.035 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:21.036 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:21.038 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:21.039 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:21.041 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 35.6117ms
2018-01-16 09:06:21.050 +00:00 [DBG] Connection id "0HLASO1C2N6MC" completed keep alive response.
2018-01-16 09:06:21.052 +00:00 [INF] Request finished in 67.2393ms 200 text/html; charset=utf-8
2018-01-16 09:06:22.966 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:06:22.971 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:06:22.972 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:22.975 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:06:22.976 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:06:22.981 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:06:22.982 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:22.989 +00:00 [INF] Authorization failed for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:06:22.992 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:06:22.999 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 09:06:23.014 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 09:06:23.018 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 35.2386ms
2018-01-16 09:06:23.021 +00:00 [DBG] Connection id "0HLASO1C2N6MC" completed keep alive response.
2018-01-16 09:06:23.023 +00:00 [INF] Request finished in 57.2532ms 302 
2018-01-16 09:06:23.032 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:06:23.036 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:06:23.038 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:06:23.042 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 09:06:23.043 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 09:06:23.053 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 09:06:23.054 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:06:23.059 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 09:06:23.060 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:06:23.064 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:06:23.066 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 09:06:23.127 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 09:06:23.207 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 77.918ms.
2018-01-16 09:06:23.217 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 09:06:23.220 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 09:06:23.239 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 09:06:23.242 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:23.247 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:23.251 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:06:23.253 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:06:23.257 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 202.65900000000002ms
2018-01-16 09:06:23.299 +00:00 [DBG] Connection id "0HLASO1C2N6MC" completed keep alive response.
2018-01-16 09:06:23.316 +00:00 [INF] Request finished in 284.0699ms 200 text/html; charset=utf-8
2018-01-16 09:06:27.603 +00:00 [DBG] Connection id "0HLASO1C2N6MC" received FIN.
2018-01-16 09:06:27.605 +00:00 [DBG] Connection id "0HLASO1C2N6MC" disconnecting.
2018-01-16 09:06:27.606 +00:00 [DBG] Connection id "0HLASO1C2N6MC" sending FIN.
2018-01-16 09:06:27.606 +00:00 [DBG] Connection id "0HLASO1C2N6MC" stopped.
2018-01-16 09:07:11.384 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:07:11.460 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:07:11.487 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:07:11.516 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:07:11.540 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:07:11.542 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:07:11.544 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:07:11.546 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:07:11.552 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:07:11.560 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:07:11.565 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:07:11.894 +00:00 [DBG] Hosting starting
2018-01-16 09:07:12.125 +00:00 [DBG] Hosting started
2018-01-16 09:07:12.126 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:07:12.128 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:07:12.418 +00:00 [DBG] Connection id "0HLASO23S8O80" started.
2018-01-16 09:07:12.418 +00:00 [DBG] Connection id "0HLASO23S8O81" started.
2018-01-16 09:07:12.495 +00:00 [DBG] Connection id "0HLASO23S8O81" received FIN.
2018-01-16 09:07:12.495 +00:00 [DBG] Connection id "0HLASO23S8O80" received FIN.
2018-01-16 09:07:12.497 +00:00 [DBG] Connection id "0HLASO23S8O81" disconnecting.
2018-01-16 09:07:12.499 +00:00 [DBG] Connection id "0HLASO23S8O81" sending FIN.
2018-01-16 09:07:12.504 +00:00 [DBG] Connection id "0HLASO23S8O81" stopped.
2018-01-16 09:07:12.522 +00:00 [DBG] Connection id "0HLASO23S8O80" disconnecting.
2018-01-16 09:07:12.524 +00:00 [DBG] Connection id "0HLASO23S8O80" sending FIN.
2018-01-16 09:07:12.526 +00:00 [DBG] Connection id "0HLASO23S8O80" stopped.
2018-01-16 09:07:14.185 +00:00 [DBG] Connection id "0HLASO23S8O82" started.
2018-01-16 09:07:14.447 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:07:14.620 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:07:14.642 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:07:14.815 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:07:14.901 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:07:14.930 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:07:14.952 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:07:14.971 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:07:16.408 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:07:18.281 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1861.6046000000001ms.
2018-01-16 09:07:18.461 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:07:18.585 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 119.2621ms.
2018-01-16 09:07:18.593 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:07:18.595 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:07:18.666 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:07:18.859 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:07:19.763 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 900.51690000000008ms.
2018-01-16 09:07:19.794 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:19.802 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:19.833 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:19.836 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:19.911 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5006.8518ms
2018-01-16 09:07:19.956 +00:00 [DBG] Connection id "0HLASO23S8O82" completed keep alive response.
2018-01-16 09:07:19.972 +00:00 [INF] Request finished in 5535.8033ms 200 text/html; charset=utf-8
2018-01-16 09:07:21.351 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:07:21.358 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:07:21.360 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:07:21.363 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:07:21.369 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:07:21.384 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:07:21.405 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:07:21.423 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:07:21.440 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:07:21.445 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:07:22.254 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:07:22.264 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:07:22.269 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:07:22.272 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 902.2856ms
2018-01-16 09:07:22.281 +00:00 [DBG] Connection id "0HLASO23S8O82" completed keep alive response.
2018-01-16 09:07:22.285 +00:00 [INF] Request finished in 934.2284ms 302 
2018-01-16 09:07:27.794 +00:00 [DBG] Connection id "0HLASO23S8O82" received FIN.
2018-01-16 09:07:27.800 +00:00 [DBG] Connection id "0HLASO23S8O82" disconnecting.
2018-01-16 09:07:27.800 +00:00 [DBG] Connection id "0HLASO23S8O82" sending FIN.
2018-01-16 09:07:27.801 +00:00 [DBG] Connection id "0HLASO23S8O82" stopped.
2018-01-16 09:07:32.779 +00:00 [DBG] Connection id "0HLASO23S8O83" started.
2018-01-16 09:07:32.791 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 09:07:32.804 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:07:32.824 +00:00 [DBG] Connection id "0HLASO23S8O83", Request id "0HLASO23S8O83:00000001": started reading request body.
2018-01-16 09:07:32.839 +00:00 [DBG] Connection id "0HLASO23S8O83", Request id "0HLASO23S8O83:00000001": done reading request body.
2018-01-16 09:07:32.880 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:07:32.891 +00:00 [VRB] MessageReceived: '?code=2669224aa28ec6509e1f75ce4ebe23bbf0684e159e3eade05595e923bc83aa8e&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTM2NTIsImV4cCI6MTUxNjA5Mzk1MiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MDQ0MjI0NjI0NzkuWXpreU1qTXlPV1F0TVRjME55MDBORE5rTFRsa04yRXROVE5rWkRneE1HUXlZamN4WVdWa01EVTJNMkl0TWpVNE1TMDBabUZpTFRsalpEVXRPVFUwTVRkbU1qUmxNV0l3IiwiaWF0IjoxNTE2MDkzNjUyLCJjX2hhc2giOiI3T0M0ejVBclpYdjB3QWRETUdNSFNRIiwic2lkIjoiOGQ0ZWRlYzlhOWMxODdhOTg3YjYzZWRmZTIxYzFkNGYiLCJzdWIiOiJhYjYzNjBjOS1jNGM5LTRjZDctOWY2NS0wMjQ2MWI4MGRmNjkiLCJhdXRoX3RpbWUiOjE1MTYwOTM2NTEsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJjMGM3NGE2OC04ZWM4LTQ2MzYtYmFlNi00MTBhOTM2M2NhY2EiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.OgMph2ZDsdUlKnwbBIAyiXoArjNBKtmrer-Z74volHqtlY73-dxCqJOlq6vGbRDZb_qjwOhkW-H8GHfe397AL9_2-6OeZIS9UT_1ZHQi5w42xPCyTkhN4TBhiiSkd1UA5tg27MfC0TYd4C4zVglyN3rqvn28qkErgwhOC2391k1QtR9U9lsD8eK8BKmpdoZtI88qd85shX1F3CpyI-48yOz6PW8HhoOakMQe4PoFKUXpnfWqicMQYKn0Pu9XEhclOP3mE9q-VhRvY97wbEvRCamFwEFE9pvDO4RyQZw2FyYhp93leYLSL-h0fWQjOJ0Pf-PWfD41ljjmeSczLHheGQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3h-w04ANU3fi9ecX0afESvKbiRmOiBC85fikT-ez4E9YUrlKhLYjGDJFtiP8LqIBSp8zxdhN5Zx8nEFeJrSlveVp44BSTlYemAZMG12V16cCvoQGLxUdn9n8v8JYkkovNKZNyj41iJZwq4U91NDVe8AJqdhXTPQRjito6I_LBFtVYWCPZ0bdYV0I7V9QMe45wOZWtCADCFhCaWY175u_JlS3iEXW8ShuCjOiH55s1yBvxupFtNhsWliL3Y7JHACeR7cimA_I7iM0i0MMjq1zNo0emGFBy-NA5TvNHK1L1vud44TRAl53EfjlDLHsufVSI&session_state=oVUoC9h1Q_rZWMXRVfq1mE7Oha75w8AMb9nHoqKDrC4.59ee4cc5b03c15c769051295ece6ab15'.
2018-01-16 09:07:32.917 +00:00 [DBG] Updating configuration
2018-01-16 09:07:32.918 +00:00 [DBG] Received 'id_token'
2018-01-16 09:07:33.064 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:07:33.080 +00:00 [VRB] Authorization code received.
2018-01-16 09:07:33.101 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:07:34.673 +00:00 [VRB] Token response received.
2018-01-16 09:07:34.682 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:07:35.200 +00:00 [VRB] User information received: {
  "sub": "ab6360c9-c4c9-4cd7-9f65-02461b80df69",
  "auth_time": 1516093651,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "c0c74a68-8ec8-4636-bae6-410a9363caca",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:07:35.218 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:07:35.226 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:07:35.241 +00:00 [DBG] Connection id "0HLASO23S8O83" completed keep alive response.
2018-01-16 09:07:35.254 +00:00 [INF] Request finished in 2462.5512ms 302 
2018-01-16 09:07:35.265 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:07:35.271 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:07:35.276 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:35.297 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:07:35.302 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:07:35.306 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:07:35.319 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:07:35.376 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:07:35.391 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:07:35.397 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:07:35.564 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:07:35.906 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 339.24920000000003ms.
2018-01-16 09:07:35.913 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:07:35.914 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:07:35.939 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:35.948 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:35.958 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:07:35.966 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:35.972 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:35.975 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:35.984 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:36.006 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 691.7584ms
2018-01-16 09:07:36.132 +00:00 [DBG] Connection id "0HLASO23S8O83" completed keep alive response.
2018-01-16 09:07:36.137 +00:00 [INF] Request finished in 872.5743ms 200 text/html; charset=utf-8
2018-01-16 09:07:37.794 +00:00 [DBG] Connection id "0HLASO23S8O83" received FIN.
2018-01-16 09:07:37.797 +00:00 [DBG] Connection id "0HLASO23S8O83" disconnecting.
2018-01-16 09:07:37.798 +00:00 [DBG] Connection id "0HLASO23S8O83" sending FIN.
2018-01-16 09:07:37.798 +00:00 [DBG] Connection id "0HLASO23S8O83" stopped.
2018-01-16 09:07:38.537 +00:00 [DBG] Connection id "0HLASO23S8O84" started.
2018-01-16 09:07:38.543 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:07:38.551 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:07:38.556 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:38.580 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:07:38.591 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:07:38.598 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:07:38.603 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:07:38.631 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:07:38.634 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 09:07:38.636 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:07:38.638 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:07:38.642 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:07:38.645 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:38.646 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:38.648 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:38.649 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:38.651 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 48.1447ms
2018-01-16 09:07:38.683 +00:00 [DBG] Connection id "0HLASO23S8O84" completed keep alive response.
2018-01-16 09:07:38.689 +00:00 [INF] Request finished in 145.3183ms 200 text/html; charset=utf-8
2018-01-16 09:07:39.800 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:07:39.806 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:07:39.809 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:39.817 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:07:39.818 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:07:39.821 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:07:39.824 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:39.836 +00:00 [INF] Authorization failed for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:07:39.840 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:07:39.851 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 09:07:39.868 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 09:07:39.872 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 47.9456ms
2018-01-16 09:07:39.876 +00:00 [DBG] Connection id "0HLASO23S8O84" completed keep alive response.
2018-01-16 09:07:39.880 +00:00 [INF] Request finished in 79.7833ms 302 
2018-01-16 09:07:39.886 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:07:39.891 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:07:39.895 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:07:39.899 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 09:07:39.901 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 09:07:39.908 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 09:07:39.912 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:07:39.917 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 09:07:39.918 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:07:39.924 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:07:39.925 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 09:07:40.040 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 09:07:40.117 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 69.609400000000008ms.
2018-01-16 09:07:40.121 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 09:07:40.122 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 09:07:40.131 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 09:07:40.133 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:40.134 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:40.135 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:07:40.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:07:40.139 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 227.4075ms
2018-01-16 09:07:40.152 +00:00 [DBG] Connection id "0HLASO23S8O84" completed keep alive response.
2018-01-16 09:07:40.154 +00:00 [INF] Request finished in 268.195ms 200 text/html; charset=utf-8
2018-01-16 09:07:41.798 +00:00 [DBG] Connection id "0HLASO23S8O84" received FIN.
2018-01-16 09:07:41.800 +00:00 [DBG] Connection id "0HLASO23S8O84" disconnecting.
2018-01-16 09:07:41.801 +00:00 [DBG] Connection id "0HLASO23S8O84" sending FIN.
2018-01-16 09:07:41.801 +00:00 [DBG] Connection id "0HLASO23S8O84" stopped.
2018-01-16 09:11:26.255 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:11:26.300 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:11:26.315 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:11:26.341 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:11:26.368 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:11:26.370 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:11:26.394 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:11:26.396 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:11:26.401 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:11:26.407 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:11:26.409 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:11:26.709 +00:00 [DBG] Hosting starting
2018-01-16 09:11:26.871 +00:00 [DBG] Hosting started
2018-01-16 09:11:26.872 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:11:26.874 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:11:26.886 +00:00 [DBG] Connection id "0HLASO4FN28VH" started.
2018-01-16 09:11:26.928 +00:00 [DBG] Connection id "0HLASO4FN28VH" received FIN.
2018-01-16 09:11:26.930 +00:00 [DBG] Connection id "0HLASO4FN28VH" disconnecting.
2018-01-16 09:11:26.931 +00:00 [DBG] Connection id "0HLASO4FN28VH" sending FIN.
2018-01-16 09:11:26.936 +00:00 [DBG] Connection id "0HLASO4FN28VH" stopped.
2018-01-16 09:11:28.402 +00:00 [DBG] Connection id "0HLASO4FN28VI" started.
2018-01-16 09:11:28.533 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:11:28.711 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:11:28.735 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:11:28.894 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:28.968 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:11:28.990 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:11:29.000 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:11:29.013 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:11:30.222 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:11:32.126 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1893.9164ms.
2018-01-16 09:11:32.254 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:11:32.340 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 84.3771ms.
2018-01-16 09:11:32.354 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:11:32.359 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:11:32.439 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:11:32.614 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:11:33.601 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 977.5452ms.
2018-01-16 09:11:33.632 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:33.636 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:33.677 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:33.679 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:33.761 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4789.5056ms
2018-01-16 09:11:33.791 +00:00 [DBG] Connection id "0HLASO4FN28VI" completed keep alive response.
2018-01-16 09:11:33.801 +00:00 [INF] Request finished in 5278.5466ms 200 text/html; charset=utf-8
2018-01-16 09:11:35.960 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:11:35.965 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:11:35.966 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:11:35.968 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:35.971 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:11:35.983 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:11:35.992 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:11:36.005 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:11:36.016 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:11:36.018 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:11:36.750 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:11:36.766 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:11:36.783 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:11:36.790 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 817.1448ms
2018-01-16 09:11:36.802 +00:00 [DBG] Connection id "0HLASO4FN28VI" completed keep alive response.
2018-01-16 09:11:36.814 +00:00 [INF] Request finished in 853.5738ms 302 
2018-01-16 09:11:42.219 +00:00 [DBG] Connection id "0HLASO4FN28VI" received FIN.
2018-01-16 09:11:42.221 +00:00 [DBG] Connection id "0HLASO4FN28VI" disconnecting.
2018-01-16 09:11:42.222 +00:00 [DBG] Connection id "0HLASO4FN28VI" sending FIN.
2018-01-16 09:11:42.222 +00:00 [DBG] Connection id "0HLASO4FN28VI" stopped.
2018-01-16 09:11:44.417 +00:00 [DBG] Connection id "0HLASO4FN28VJ" started.
2018-01-16 09:11:44.515 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 09:11:44.623 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:11:44.647 +00:00 [DBG] Connection id "0HLASO4FN28VJ", Request id "0HLASO4FN28VJ:00000001": started reading request body.
2018-01-16 09:11:44.654 +00:00 [DBG] Connection id "0HLASO4FN28VJ", Request id "0HLASO4FN28VJ:00000001": done reading request body.
2018-01-16 09:11:44.690 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:11:44.700 +00:00 [VRB] MessageReceived: '?code=9bc6dc2176c0a926ceafa47603a131a48da009e98112b902663cbf1193d07f33&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTM5MDQsImV4cCI6MTUxNjA5NDIwNCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MDY5NjczNzQ1NjQuWlRZeE5ESm1aalV0TlRZMk5TMDBOamt6TFdKa01USXRPREZqTURZM1pUUTNZamN6T1Rjd01HTmtZemd0Wm1SbVpTMDBORFl4TFdKbE9UWXRNbUU1WlRrd01UZGpZV016IiwiaWF0IjoxNTE2MDkzOTA0LCJjX2hhc2giOiJKSWJXSVBPVnVLRW5NU1NUc2xWbXd3Iiwic2lkIjoiYWExZGU2NmRkZjZiMDM3NmU3ZmFjYmYxYzU0OTA4ZDUiLCJzdWIiOiJhYjYzNjBjOS1jNGM5LTRjZDctOWY2NS0wMjQ2MWI4MGRmNjkiLCJhdXRoX3RpbWUiOjE1MTYwOTM5MDMsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJjMGM3NGE2OC04ZWM4LTQ2MzYtYmFlNi00MTBhOTM2M2NhY2EiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.NggGoa_KBEU_3uZtzWdszPG8VkcEBoXl8lNE80kT3xAdhc-9FAZx0Q_OJW4jEUx1vscHUoXntx4gke808Qyg6OEAOEVeC8DYanCrSTqKA8meErlqwb0b8q3Xfx8H1lGIZ9EbS5WZdV_VjwgfgEKh6DMo-A_iG9cSpXidClop1xU0JXqK39GVzSyCcCMZx9xTk4SGQpkVGp5X5OtXcBL5-v2fIOmQ46bYTXwztxcVbk5hpJrbOJ-y5Mailm_ZTB1HTUKZ1fxmq81u269x9VZ9czpIBYl8CnfZblRu8LOf6OoPGeLs3CpkGDWxeN6barFLZHEzweNoTgIM_OglbTmaHQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3ZZqPvvQ_Zz2vMBPdDyiWGgzoBqCNd33ex3vVMMddg4FPaI8NQb0MsZG_OiA0yR2sry9Pbdqkg917gpDlo8TljX_NJsLFZUF-h1MwhGJp0Ak-hk9tEW0XN7OnGwxqrg8fR18kEN8gI2jxJO0XaDLD8oU_Q0orbqj7P-TmxYocrlFOPOsHsoBqH7B6nk1OyH9JLKgkFqSupO7mm2ymN0wzZP950IJbzRkUcDDpKHMtpqjG9jjX41Kk2Fr1Qy_Qsq6OVza8CYUT71ILWPWuBWu7QD8Eb-Ijk7qo7INhGksJ0d9Zbu0-WZDF2i4aFFKA2cFM&session_state=PvuWDfwMK_Zz2nahQEsPA57nnvAaNlE3iWz4qiHz46Q.81955e4581c63e8b1e38b5bec8a39998'.
2018-01-16 09:11:44.729 +00:00 [DBG] Updating configuration
2018-01-16 09:11:44.741 +00:00 [DBG] Received 'id_token'
2018-01-16 09:11:44.856 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:11:44.878 +00:00 [VRB] Authorization code received.
2018-01-16 09:11:44.886 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:11:46.377 +00:00 [VRB] Token response received.
2018-01-16 09:11:46.382 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:11:46.851 +00:00 [VRB] User information received: {
  "sub": "ab6360c9-c4c9-4cd7-9f65-02461b80df69",
  "auth_time": 1516093903,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "c0c74a68-8ec8-4636-bae6-410a9363caca",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:11:46.865 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:46.870 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:11:46.886 +00:00 [DBG] Connection id "0HLASO4FN28VJ" completed keep alive response.
2018-01-16 09:11:46.900 +00:00 [INF] Request finished in 2385.4106ms 302 
2018-01-16 09:11:46.917 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:11:46.924 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:46.930 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:46.936 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:11:46.937 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:46.941 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:11:46.945 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:11:46.953 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:11:46.963 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:11:46.966 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:11:47.075 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:11:47.432 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 354.8652ms.
2018-01-16 09:11:47.437 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:11:47.438 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:11:47.463 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:47.469 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:47.473 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:11:47.475 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:47.477 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:47.479 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:47.480 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:47.485 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 541.44220000000007ms
2018-01-16 09:11:47.496 +00:00 [DBG] Connection id "0HLASO4FN28VJ" completed keep alive response.
2018-01-16 09:11:47.499 +00:00 [INF] Request finished in 582.2046ms 200 text/html; charset=utf-8
2018-01-16 09:11:49.443 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:11:49.448 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:49.450 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:49.455 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:11:49.457 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:49.458 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:11:49.460 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:11:49.464 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:11:49.467 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 09:11:49.469 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:11:49.470 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:11:49.475 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:11:49.478 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:49.479 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:49.481 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:49.482 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:49.483 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 22.7712ms
2018-01-16 09:11:49.502 +00:00 [DBG] Connection id "0HLASO4FN28VJ" completed keep alive response.
2018-01-16 09:11:49.555 +00:00 [INF] Request finished in 111.2119ms 200 text/html; charset=utf-8
2018-01-16 09:11:50.700 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:11:50.706 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:50.709 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:50.716 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:11:50.721 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:50.728 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:11:50.729 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:50.737 +00:00 [INF] Authorization failed for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:11:50.741 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:11:50.751 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 09:11:50.766 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 09:11:50.769 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 40.221900000000005ms
2018-01-16 09:11:50.773 +00:00 [DBG] Connection id "0HLASO4FN28VJ" completed keep alive response.
2018-01-16 09:11:50.774 +00:00 [INF] Request finished in 73.9807ms 302 
2018-01-16 09:11:50.780 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:11:50.783 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:50.785 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:50.788 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 09:11:50.789 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 09:11:50.798 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 09:11:50.799 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:11:50.803 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 09:11:50.805 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:11:50.808 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:11:50.810 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 09:11:50.928 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 09:11:51.049 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 115.4359ms.
2018-01-16 09:11:51.053 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 09:11:51.054 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 09:11:51.067 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 09:11:51.069 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:51.070 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:51.072 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:51.074 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:51.078 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 279.6359ms
2018-01-16 09:11:51.085 +00:00 [DBG] Connection id "0HLASO4FN28VJ" completed keep alive response.
2018-01-16 09:11:51.088 +00:00 [INF] Request finished in 307.789ms 200 text/html; charset=utf-8
2018-01-16 09:11:52.219 +00:00 [DBG] Connection id "0HLASO4FN28VJ" received FIN.
2018-01-16 09:11:52.221 +00:00 [DBG] Connection id "0HLASO4FN28VJ" disconnecting.
2018-01-16 09:11:52.222 +00:00 [DBG] Connection id "0HLASO4FN28VJ" sending FIN.
2018-01-16 09:11:52.222 +00:00 [DBG] Connection id "0HLASO4FN28VJ" stopped.
2018-01-16 09:11:56.203 +00:00 [DBG] Connection id "0HLASO4FN28VK" started.
2018-01-16 09:11:56.207 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:11:56.213 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:56.216 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:56.219 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:11:56.221 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:56.222 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:11:56.223 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:11:56.232 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:11:56.239 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:11:56.240 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 09:11:56.246 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:11:56.247 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:11:56.251 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:56.255 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:56.260 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:11:56.261 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:56.263 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:56.264 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:11:56.265 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:11:56.269 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 45.7426ms
2018-01-16 09:11:56.291 +00:00 [DBG] Connection id "0HLASO4FN28VK" completed keep alive response.
2018-01-16 09:11:56.299 +00:00 [INF] Request finished in 91.5232ms 200 text/html; charset=utf-8
2018-01-16 09:11:57.695 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 09:11:57.699 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:11:57.701 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:57.704 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 09:11:57.705 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:11:57.716 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 09:11:57.717 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:11:57.725 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 09:11:57.732 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 09:11:57.733 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 09:11:57.734 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:11:57.738 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:11:57.741 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 09:11:57.747 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 09:11:57.748 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 31.2615ms
2018-01-16 09:11:57.752 +00:00 [DBG] Connection id "0HLASO4FN28VK" completed keep alive response.
2018-01-16 09:11:57.753 +00:00 [INF] Request finished in 58.6437ms 302 
2018-01-16 09:12:00.767 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO04_ALPJM7aKqtPR6SN20YGoparhpSZqpT189S7HyOeX-jfBFvjwLhJjd3lJYYUvS3-KxjapHe9YQmifO7R_xHgOARVL2lKDq_Q1dVLfGSIhWtbSw3s_I3VDpMO8uNXyp2qsCbALorZAvmCz8zD5OsK  
2018-01-16 09:12:00.777 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:12:00.782 +00:00 [DBG] Connection id "0HLASO4FN28VK" completed keep alive response.
2018-01-16 09:12:00.783 +00:00 [INF] Request finished in 16.1188ms 302 
2018-01-16 09:12:00.791 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:12:00.799 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:12:00.801 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:12:00.803 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:12:00.804 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:12:00.806 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:12:00.816 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:12:00.818 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 09:12:00.819 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:12:00.821 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:12:00.833 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:12:00.835 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:12:00.836 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:12:00.838 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:12:00.839 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:12:00.841 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 34.9604ms
2018-01-16 09:12:00.856 +00:00 [DBG] Connection id "0HLASO4FN28VK" completed keep alive response.
2018-01-16 09:12:00.888 +00:00 [INF] Request finished in 97.8835ms 200 text/html; charset=utf-8
2018-01-16 09:12:02.221 +00:00 [DBG] Connection id "0HLASO4FN28VK" received FIN.
2018-01-16 09:12:02.228 +00:00 [DBG] Connection id "0HLASO4FN28VK" disconnecting.
2018-01-16 09:12:02.229 +00:00 [DBG] Connection id "0HLASO4FN28VK" sending FIN.
2018-01-16 09:12:02.229 +00:00 [DBG] Connection id "0HLASO4FN28VK" stopped.
2018-01-16 09:12:02.358 +00:00 [DBG] Connection id "0HLASO4FN28VL" started.
2018-01-16 09:12:02.363 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:12:02.366 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:12:02.367 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:12:02.368 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:12:02.370 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:12:02.371 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:12:02.378 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:12:02.381 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:12:02.386 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:12:02.387 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:12:02.389 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:12:02.390 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:12:02.392 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:12:02.399 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 28.029400000000003ms
2018-01-16 09:12:02.403 +00:00 [DBG] Connection id "0HLASO4FN28VL" completed keep alive response.
2018-01-16 09:12:02.418 +00:00 [INF] Request finished in 55.1607ms 302 
2018-01-16 09:12:11.489 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:12:11.531 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:12:11.565 +00:00 [DBG] Connection id "0HLASO4FN28VL", Request id "0HLASO4FN28VL:00000002": started reading request body.
2018-01-16 09:12:11.577 +00:00 [DBG] Connection id "0HLASO4FN28VL", Request id "0HLASO4FN28VL:00000002": done reading request body.
2018-01-16 09:12:11.581 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:12:11.586 +00:00 [VRB] MessageReceived: '?code=4f58ad7895b064990279589794613abed8cdefb140deab5bef14701f896b5e23&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTM5MzEsImV4cCI6MTUxNjA5NDIzMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MDcyMjM4OTA5OTkuTm1KbU1ETTVNbVF0TlRNMU15MDBZV1JtTFRoak1qWXROR1V3TUdSaU1tRmxNREl6TW1Ga01XUXdNbVV0WkdJMU1pMDBORGcyTFdJMFlXVXRNek15TVdKaU1USTVNVEEyIiwiaWF0IjoxNTE2MDkzOTMxLCJjX2hhc2giOiIySVdJTnpnd0ljQVlIY2Vva3pwNjF3Iiwic2lkIjoiZTg0NDk1NzQxYTlkMTNjMWM3YTRkZGE0NWFkZjNmNjAiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTM5MzAsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.PohMNSMShwdOdpUaFWCY300F8Oa5Esr0q8wTMvt8b2yB75ABJ9OEnvBE8qnP8PcxVAV9dBYUBtMVhbya7pijUfd3JIrY1YwsMkhYygJ2-3MFYu14CgfR7nD3ORcZxOdnvGOFPDy2W4VWby7nd6bMrg168MKC4_lmP7W8KIsl_h7euS55JRRxQgwEOQv_4mZBavLXH_IFEZJgFGvJ6gBuJlxsBECzn8MJDFt9L_hlwEwfMbAg4-odxmTcvui7rncQRx-wlXdvW2ZfvWScglsdxbCK-0E0Gd7wFRzBvrN1tmAIRPsdFha688qGDWghV_w13s_35Z7G4N0OHydF9t3Z8A&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0zQSfmogToAIaZS0Ukzeao3NetdMjjr2HOkNQw6ZPqVjp8oJOdbbXuILFP3PM2SHF6nK04XZVaaYRqjHZ_tzV0ntRI_0DgXmt9kU5YyoqjmPs_oAqLYvb0CEmFZ8pCtvkIjKd3ZXLjZDTDWQITZ-SflevNMG05cfXziSGIhHrauHBgznDZT2yoEwaoWuJrWuTqHMnfZCev85Bhy3nrydJN1jawSwowIrfMFfyUwiN9PWGY8uaZI1ZPVc3dRqeOQCC05FT7EOmrKr_HbXeIanMCBYzPBkipMUIkeFc_w-LzPDxt24u5MIyHIwSrZ6CORY4&session_state=8kLlhKUP2Iw50fh_atSnEKfJM-jC8FGmat-1El_Gpsk.201651200cab899b841fd253028d8272'.
2018-01-16 09:12:11.597 +00:00 [DBG] Updating configuration
2018-01-16 09:12:11.598 +00:00 [DBG] Received 'id_token'
2018-01-16 09:12:11.600 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:12:11.602 +00:00 [VRB] Authorization code received.
2018-01-16 09:12:11.603 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:12:13.558 +00:00 [VRB] Token response received.
2018-01-16 09:12:13.565 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:12:14.121 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516093930,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:12:14.137 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:12:14.147 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:12:14.155 +00:00 [DBG] Connection id "0HLASO4FN28VL" completed keep alive response.
2018-01-16 09:12:14.162 +00:00 [INF] Request finished in 2672.3516ms 302 
2018-01-16 09:12:14.171 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:12:14.174 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:12:14.177 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:14.182 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:12:14.183 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:12:14.185 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:12:14.187 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:12:14.194 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:12:14.199 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:12:14.201 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 09:12:14.205 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:12:14.207 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:12:14.217 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:14.220 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:14.224 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:12:14.227 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:12:14.229 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:12:14.230 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:12:14.232 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:12:14.236 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 49.1516ms
2018-01-16 09:12:14.245 +00:00 [DBG] Connection id "0HLASO4FN28VL" completed keep alive response.
2018-01-16 09:12:14.247 +00:00 [INF] Request finished in 76.6078ms 200 text/html; charset=utf-8
2018-01-16 09:12:16.455 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:12:16.461 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:12:16.463 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:16.467 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:12:16.468 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:12:16.469 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:12:16.470 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:16.475 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:12:16.481 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:12:16.484 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:12:16.485 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:12:16.543 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:12:16.650 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 106.04740000000001ms.
2018-01-16 09:12:16.655 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:12:16.656 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:12:16.671 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:12:16.674 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:12:16.676 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:12:16.678 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:12:16.679 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:12:16.680 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 210.5334ms
2018-01-16 09:12:16.690 +00:00 [DBG] Connection id "0HLASO4FN28VL" completed keep alive response.
2018-01-16 09:12:16.703 +00:00 [INF] Request finished in 248.5114ms 200 text/html; charset=utf-8
2018-01-16 09:12:16.730 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:12:16.753 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:12:16.768 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:16.780 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:12:16.781 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:12:16.786 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:12:16.788 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:12:16.789 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:12:16.790 +00:00 [DBG] Connection id "0HLASO4FN28VL" completed keep alive response.
2018-01-16 09:12:16.791 +00:00 [INF] Request finished in 61.1293ms 404 
2018-01-16 09:12:22.218 +00:00 [DBG] Connection id "0HLASO4FN28VM" started.
2018-01-16 09:12:22.218 +00:00 [DBG] Connection id "0HLASO4FN28VN" started.
2018-01-16 09:12:22.230 +00:00 [DBG] Connection id "0HLASO4FN28VM" received FIN.
2018-01-16 09:12:22.232 +00:00 [DBG] Connection id "0HLASO4FN28VM" disconnecting.
2018-01-16 09:12:22.234 +00:00 [DBG] Connection id "0HLASO4FN28VO" started.
2018-01-16 09:12:22.237 +00:00 [DBG] Connection id "0HLASO4FN28VO" received FIN.
2018-01-16 09:12:22.238 +00:00 [DBG] Connection id "0HLASO4FN28VO" disconnecting.
2018-01-16 09:12:22.239 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:12:22.241 +00:00 [DBG] Connection id "0HLASO4FN28VM" sending FIN.
2018-01-16 09:12:22.243 +00:00 [DBG] Connection id "0HLASO4FN28VO" sending FIN.
2018-01-16 09:12:22.248 +00:00 [DBG] Connection id "0HLASO4FN28VO" stopped.
2018-01-16 09:12:22.249 +00:00 [DBG] Connection id "0HLASO4FN28VM" stopped.
2018-01-16 09:12:22.271 +00:00 [DBG] Connection id "0HLASO4FN28VN" received FIN.
2018-01-16 09:12:22.272 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:12:22.274 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:12:22.276 +00:00 [DBG] Connection id "0HLASO4FN28VN" disconnecting.
2018-01-16 09:12:22.277 +00:00 [DBG] Connection id "0HLASO4FN28VP" started.
2018-01-16 09:12:22.284 +00:00 [DBG] Connection id "0HLASO4FN28VP" received FIN.
2018-01-16 09:12:22.287 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:12:22.288 +00:00 [DBG] Connection id "0HLASO4FN28VP" disconnecting.
2018-01-16 09:12:22.290 +00:00 [DBG] Connection id "0HLASO4FN28VN" sending FIN.
2018-01-16 09:12:22.315 +00:00 [DBG] Connection id "0HLASO4FN28VN" stopped.
2018-01-16 09:12:22.316 +00:00 [DBG] Connection id "0HLASO4FN28VP" sending FIN.
2018-01-16 09:12:22.317 +00:00 [DBG] Connection id "0HLASO4FN28VP" stopped.
2018-01-16 09:12:22.334 +00:00 [DBG] Connection id "0HLASO4FN28VQ" started.
2018-01-16 09:12:22.350 +00:00 [DBG] Connection id "0HLASO4FN28VQ" received FIN.
2018-01-16 09:12:22.352 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:12:22.353 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:12:22.356 +00:00 [DBG] Connection id "0HLASO4FN28VQ" disconnecting.
2018-01-16 09:12:22.357 +00:00 [DBG] Connection id "0HLASO4FN28VQ" sending FIN.
2018-01-16 09:12:22.357 +00:00 [DBG] Connection id "0HLASO4FN28VQ" stopped.
2018-01-16 09:12:22.371 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:12:22.373 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:12:22.373 +00:00 [DBG] Connection id "0HLASO4FN28VL" completed keep alive response.
2018-01-16 09:12:22.380 +00:00 [INF] Request finished in 140.8995ms 404 
2018-01-16 09:12:32.223 +00:00 [DBG] Connection id "0HLASO4FN28VL" received FIN.
2018-01-16 09:12:32.231 +00:00 [DBG] Connection id "0HLASO4FN28VL" disconnecting.
2018-01-16 09:12:32.232 +00:00 [DBG] Connection id "0HLASO4FN28VL" sending FIN.
2018-01-16 09:12:32.232 +00:00 [DBG] Connection id "0HLASO4FN28VL" stopped.
2018-01-16 09:13:16.098 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:13:16.151 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:13:16.163 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:13:16.187 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:13:16.219 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:13:16.221 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:13:16.223 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:13:16.225 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:13:16.231 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:13:16.239 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:13:16.243 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:13:16.580 +00:00 [DBG] Hosting starting
2018-01-16 09:13:16.770 +00:00 [DBG] Hosting started
2018-01-16 09:13:16.770 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:13:16.772 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:13:17.236 +00:00 [DBG] Connection id "0HLASO5GJFIAM" started.
2018-01-16 09:13:17.236 +00:00 [DBG] Connection id "0HLASO5GJFIAL" started.
2018-01-16 09:13:17.276 +00:00 [DBG] Connection id "0HLASO5GJFIAL" received FIN.
2018-01-16 09:13:17.276 +00:00 [DBG] Connection id "0HLASO5GJFIAM" received FIN.
2018-01-16 09:13:17.278 +00:00 [DBG] Connection id "0HLASO5GJFIAL" disconnecting.
2018-01-16 09:13:17.280 +00:00 [DBG] Connection id "0HLASO5GJFIAL" sending FIN.
2018-01-16 09:13:17.287 +00:00 [DBG] Connection id "0HLASO5GJFIAL" stopped.
2018-01-16 09:13:17.287 +00:00 [DBG] Connection id "0HLASO5GJFIAM" disconnecting.
2018-01-16 09:13:17.288 +00:00 [DBG] Connection id "0HLASO5GJFIAM" sending FIN.
2018-01-16 09:13:17.294 +00:00 [DBG] Connection id "0HLASO5GJFIAM" stopped.
2018-01-16 09:13:18.789 +00:00 [DBG] Connection id "0HLASO5GJFIAN" started.
2018-01-16 09:13:19.172 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:13:19.415 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:13:19.447 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:13:19.749 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:19.834 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:13:19.899 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:13:19.939 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:13:19.957 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:13:21.471 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:13:23.355 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1878.7022000000002ms.
2018-01-16 09:13:23.436 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:13:23.510 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 71.731400000000008ms.
2018-01-16 09:13:23.521 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:13:23.526 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:13:23.601 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:13:23.769 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:13:25.473 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1697.2638000000002ms.
2018-01-16 09:13:25.553 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:13:25.584 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:13:25.674 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:13:25.702 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:13:25.864 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5985.6887000000006ms
2018-01-16 09:13:26.057 +00:00 [DBG] Connection id "0HLASO5GJFIAN" completed keep alive response.
2018-01-16 09:13:26.103 +00:00 [INF] Request finished in 6949.7452ms 200 text/html; charset=utf-8
2018-01-16 09:13:27.408 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:13:27.551 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:13:27.561 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:13:27.562 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:27.567 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:13:27.600 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:13:27.622 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:13:27.640 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:13:27.658 +00:00 [INF] Executing ChallengeResult with authentication schemes (["Cookies"]).
2018-01-16 09:13:27.686 +00:00 [INF] AuthenticationScheme: Cookies was challenged.
2018-01-16 09:13:27.704 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 107.62750000000001ms
2018-01-16 09:13:27.770 +00:00 [DBG] Connection id "0HLASO5GJFIAN" completed keep alive response.
2018-01-16 09:13:27.782 +00:00 [INF] Request finished in 373.4234ms 302 
2018-01-16 09:13:27.818 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/Login?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:13:27.829 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:13:27.831 +00:00 [DBG] The request path /Account/Login does not match a supported file type
2018-01-16 09:13:27.833 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:27.842 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-16 09:13:27.844 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Account","action=Login"]
2018-01-16 09:13:27.846 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:13:27.853 +00:00 [DBG] Connection id "0HLASO5GJFIAN" completed keep alive response.
2018-01-16 09:13:27.855 +00:00 [INF] Request finished in 37.1601ms 404 
2018-01-16 09:13:29.291 +00:00 [DBG] Connection id "0HLASO5GJFIAP" started.
2018-01-16 09:13:29.291 +00:00 [DBG] Connection id "0HLASO5GJFIAO" started.
2018-01-16 09:13:29.357 +00:00 [DBG] Connection id "0HLASO5GJFIAQ" started.
2018-01-16 09:13:29.357 +00:00 [DBG] Connection id "0HLASO5GJFIAR" started.
2018-01-16 09:13:29.533 +00:00 [DBG] Connection id "0HLASO5GJFIAS" started.
2018-01-16 09:13:30.126 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:13:30.132 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:13:30.133 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:13:30.135 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:30.141 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:13:30.145 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:13:30.153 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:13:30.165 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:13:30.179 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:13:30.182 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:13:31.604 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:13:31.611 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:13:31.614 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:13:31.619 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1476.1454ms
2018-01-16 09:13:31.627 +00:00 [DBG] Connection id "0HLASO5GJFIAN" completed keep alive response.
2018-01-16 09:13:31.630 +00:00 [INF] Request finished in 1504.2661ms 302 
2018-01-16 09:13:32.491 +00:00 [DBG] Connection id "0HLASO5GJFIAO" received FIN.
2018-01-16 09:13:32.491 +00:00 [DBG] Connection id "0HLASO5GJFIAP" received FIN.
2018-01-16 09:13:32.522 +00:00 [DBG] Connection id "0HLASO5GJFIAO" disconnecting.
2018-01-16 09:13:32.523 +00:00 [DBG] Connection id "0HLASO5GJFIAR" received FIN.
2018-01-16 09:13:32.527 +00:00 [DBG] Connection id "0HLASO5GJFIAR" disconnecting.
2018-01-16 09:13:32.528 +00:00 [DBG] Connection id "0HLASO5GJFIAS" received FIN.
2018-01-16 09:13:32.529 +00:00 [DBG] Connection id "0HLASO5GJFIAS" disconnecting.
2018-01-16 09:13:32.530 +00:00 [DBG] Connection id "0HLASO5GJFIAO" sending FIN.
2018-01-16 09:13:32.535 +00:00 [DBG] Connection id "0HLASO5GJFIAR" sending FIN.
2018-01-16 09:13:32.536 +00:00 [DBG] Connection id "0HLASO5GJFIAS" sending FIN.
2018-01-16 09:13:32.540 +00:00 [DBG] Connection id "0HLASO5GJFIAR" stopped.
2018-01-16 09:13:32.545 +00:00 [DBG] Connection id "0HLASO5GJFIAS" stopped.
2018-01-16 09:13:32.550 +00:00 [DBG] Connection id "0HLASO5GJFIAO" stopped.
2018-01-16 09:13:32.573 +00:00 [DBG] Connection id "0HLASO5GJFIAP" disconnecting.
2018-01-16 09:13:32.578 +00:00 [DBG] Connection id "0HLASO5GJFIAQ" received FIN.
2018-01-16 09:13:32.585 +00:00 [DBG] Connection id "0HLASO5GJFIAQ" disconnecting.
2018-01-16 09:13:32.589 +00:00 [DBG] Connection id "0HLASO5GJFIAN" received FIN.
2018-01-16 09:13:32.595 +00:00 [DBG] Connection id "0HLASO5GJFIAN" disconnecting.
2018-01-16 09:13:32.611 +00:00 [DBG] Connection id "0HLASO5GJFIAP" sending FIN.
2018-01-16 09:13:32.619 +00:00 [DBG] Connection id "0HLASO5GJFIAP" stopped.
2018-01-16 09:13:32.622 +00:00 [DBG] Connection id "0HLASO5GJFIAQ" sending FIN.
2018-01-16 09:13:32.631 +00:00 [DBG] Connection id "0HLASO5GJFIAQ" stopped.
2018-01-16 09:13:32.687 +00:00 [DBG] Connection id "0HLASO5GJFIAN" sending FIN.
2018-01-16 09:13:32.689 +00:00 [DBG] Connection id "0HLASO5GJFIAN" stopped.
2018-01-16 09:13:41.944 +00:00 [DBG] Connection id "0HLASO5GJFIAT" started.
2018-01-16 09:13:41.952 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:13:41.966 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:13:41.988 +00:00 [DBG] Connection id "0HLASO5GJFIAT", Request id "0HLASO5GJFIAT:00000001": started reading request body.
2018-01-16 09:13:42.022 +00:00 [DBG] Connection id "0HLASO5GJFIAT", Request id "0HLASO5GJFIAT:00000001": done reading request body.
2018-01-16 09:13:42.050 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:13:42.057 +00:00 [VRB] MessageReceived: '?code=4b92ec0ab5b1629c9e08b5c9db28c3432fa72512b220ee459d7110400595f8ba&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTQwMjEsImV4cCI6MTUxNjA5NDMyMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MDgxMTU5NjczMjUuTkdJeE5qWXpNR1l0WVRJMU1TMDBNREV4TFRsa09HUXRZVFpqWm1Rek16Um1NelU1TXpBNU56VTRNR1V0TVRFeVlpMDBPVFppTFdKak1Ea3RNRGRrTnpZNE16ZzRaVFUyIiwiaWF0IjoxNTE2MDk0MDIxLCJjX2hhc2giOiJyeUpGYVVoMXBaQXhBa09YZGhCN3FRIiwic2lkIjoiZGQ0YWQwYmJkZDU5NWUyNDliZDI2MzE3YjAxYTFhMDYiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTQwMjEsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.Qxpi1S_ZS7x_wdtjwkcnNiydUu7F433W5c8WvKdngJbCWP9FbLs1XXs4o5VWKPUlf__AY3enl3NBTebEEzzysRgt3c_aQOAxTgvAbtdxLLW7HWVh4MNb_WsIJmzGb-jEIdy9-DeL8JEZlal7f7B9UZjVyj-eyL_MJcmSFbQGuB_thTL0BQjakl-PUcZBC7Zeag0AArkGb99y6k4tTHCaUlfINPivER6_R7oqemzdzPOdHXCHO_Efs8eEv3Y0TZDEVVHDwkOeBxX9SZNX-_FTjMG4jdHd77hBOb8bG0n0jh28Yyt3Vee8bGhzC3-oFtlyhygaZhFtr8w6Jbvnos2jdQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3ETGWV538vaB08RXXH65JE_t6ocRQ3LNSn2mx0PxpK3agenA09pONBm0S9gQEUaveZwDbo81XAMcbxd7gwBo1Mzj0vtciNT_XX0i0UUH6IR81X5nIWYf_-iOUR6X2FV9JOIsD01pR-UZvx4FL35B-HEzOxDfEntJWJXyApvpAmuQM3CW-Kwyf1q-EtjsALrHgZczCrOyKS5qVrNTveq7uyYE1so3CmWCXdkONM45o4EYMMS0xUuUyWn-k1e6J0P2_lKlI2pKKPXj0FBHIjJCAUyZ6uo7p-ehSLrQYDvWqtQqtgEsbWwUlqeh1y8vQYmAo&session_state=WTqu_lnhCKFB3gavuM7Mme1SOHZj6LXjIyQD3MYOEag.496d0f37a15fff84ab09d62a58ae9d21'.
2018-01-16 09:13:42.072 +00:00 [DBG] Updating configuration
2018-01-16 09:13:42.075 +00:00 [DBG] Received 'id_token'
2018-01-16 09:13:42.183 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:13:42.202 +00:00 [VRB] Authorization code received.
2018-01-16 09:13:42.207 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:13:43.926 +00:00 [VRB] Token response received.
2018-01-16 09:13:43.932 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:13:44.473 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516094021,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:13:44.502 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:13:44.509 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:13:44.515 +00:00 [DBG] Connection id "0HLASO5GJFIAT" completed keep alive response.
2018-01-16 09:13:44.520 +00:00 [INF] Request finished in 2568.2974ms 302 
2018-01-16 09:13:44.528 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:13:44.532 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:13:44.537 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:13:44.544 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:13:44.545 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:44.547 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:13:44.549 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:13:44.554 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:13:44.561 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:13:44.563 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:13:44.904 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:13:45.203 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 290.3675ms.
2018-01-16 09:13:45.211 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:13:45.218 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:13:45.254 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:13:45.258 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:13:45.263 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:13:45.266 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:13:45.267 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:13:45.269 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:13:45.270 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:13:45.274 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 725.065ms
2018-01-16 09:13:45.285 +00:00 [DBG] Connection id "0HLASO5GJFIAT" completed keep alive response.
2018-01-16 09:13:45.287 +00:00 [INF] Request finished in 758.3891ms 200 text/html; charset=utf-8
2018-01-16 09:13:46.775 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:13:46.784 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:13:46.786 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:13:46.791 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:13:46.792 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:46.794 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:13:46.795 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:13:46.807 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:13:46.816 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:13:46.821 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:13:46.823 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:13:46.927 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:13:47.019 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 90.020800000000008ms.
2018-01-16 09:13:47.023 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:13:47.025 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:13:47.043 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:13:47.045 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:13:47.048 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:13:47.049 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:13:47.051 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:13:47.052 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 257.6359ms
2018-01-16 09:13:47.066 +00:00 [DBG] Connection id "0HLASO5GJFIAU" started.
2018-01-16 09:13:47.072 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:13:47.096 +00:00 [DBG] Connection id "0HLASO5GJFIAT" completed keep alive response.
2018-01-16 09:13:47.107 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:13:47.114 +00:00 [INF] Request finished in 339.1209ms 200 text/html; charset=utf-8
2018-01-16 09:13:47.128 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:13:47.140 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:13:47.142 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:13:47.144 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:13:47.145 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:13:47.147 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:13:47.149 +00:00 [DBG] Connection id "0HLASO5GJFIAU" completed keep alive response.
2018-01-16 09:13:47.152 +00:00 [INF] Request finished in 79.6995ms 404 
2018-01-16 09:13:52.492 +00:00 [DBG] Connection id "0HLASO5GJFIAT" received FIN.
2018-01-16 09:13:52.492 +00:00 [DBG] Connection id "0HLASO5GJFIAU" received FIN.
2018-01-16 09:13:52.494 +00:00 [DBG] Connection id "0HLASO5GJFIAT" disconnecting.
2018-01-16 09:13:52.495 +00:00 [DBG] Connection id "0HLASO5GJFIAT" sending FIN.
2018-01-16 09:13:52.495 +00:00 [DBG] Connection id "0HLASO5GJFIAT" stopped.
2018-01-16 09:13:52.498 +00:00 [DBG] Connection id "0HLASO5GJFIAU" disconnecting.
2018-01-16 09:13:52.499 +00:00 [DBG] Connection id "0HLASO5GJFIAU" sending FIN.
2018-01-16 09:13:52.499 +00:00 [DBG] Connection id "0HLASO5GJFIAU" stopped.
2018-01-16 09:17:09.504 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:17:09.563 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:17:09.593 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:17:09.630 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:17:09.658 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:17:09.660 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:17:09.662 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:17:09.663 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:17:09.668 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:17:09.676 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:17:09.678 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:17:10.217 +00:00 [DBG] Hosting starting
2018-01-16 09:17:10.572 +00:00 [DBG] Hosting started
2018-01-16 09:17:10.575 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:17:10.578 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:17:11.010 +00:00 [DBG] Connection id "0HLASO7M8RQ90" started.
2018-01-16 09:17:11.075 +00:00 [DBG] Connection id "0HLASO7M8RQ90" received FIN.
2018-01-16 09:17:11.087 +00:00 [DBG] Connection id "0HLASO7M8RQ90" disconnecting.
2018-01-16 09:17:11.095 +00:00 [DBG] Connection id "0HLASO7M8RQ90" sending FIN.
2018-01-16 09:17:11.101 +00:00 [DBG] Connection id "0HLASO7M8RQ90" stopped.
2018-01-16 09:17:13.074 +00:00 [DBG] Connection id "0HLASO7M8RQ91" started.
2018-01-16 09:17:13.286 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:17:13.510 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:17:13.535 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:17:13.889 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:17:13.974 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:17:14.001 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:17:14.027 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:17:14.048 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:17:15.993 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:17:18.282 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 2282.6021ms.
2018-01-16 09:17:18.419 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:17:18.763 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 341.1397ms.
2018-01-16 09:17:18.785 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:17:18.789 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:17:18.893 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:17:19.153 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:17:20.345 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1184.0804ms.
2018-01-16 09:17:20.376 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:17:20.379 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:17:20.413 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:17:20.416 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:17:20.517 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 6540.268ms
2018-01-16 09:17:20.601 +00:00 [DBG] Connection id "0HLASO7M8RQ91" completed keep alive response.
2018-01-16 09:17:20.605 +00:00 [INF] Request finished in 7328.8284ms 200 text/html; charset=utf-8
2018-01-16 09:17:26.456 +00:00 [DBG] Connection id "0HLASO7M8RQ91" received FIN.
2018-01-16 09:17:26.460 +00:00 [DBG] Connection id "0HLASO7M8RQ91" disconnecting.
2018-01-16 09:17:26.461 +00:00 [DBG] Connection id "0HLASO7M8RQ91" sending FIN.
2018-01-16 09:17:26.462 +00:00 [DBG] Connection id "0HLASO7M8RQ91" stopped.
2018-01-16 09:17:33.023 +00:00 [DBG] Connection id "0HLASO7M8RQ92" started.
2018-01-16 09:17:33.030 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:17:33.048 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:17:33.057 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:17:33.059 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:17:33.064 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:17:33.085 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:17:33.101 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:17:33.119 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:17:33.135 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:17:33.136 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:17:34.504 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:17:34.514 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:17:34.518 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:17:34.538 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 1471.1651000000002ms
2018-01-16 09:17:34.556 +00:00 [DBG] Connection id "0HLASO7M8RQ92" completed keep alive response.
2018-01-16 09:17:34.564 +00:00 [INF] Request finished in 1534.1721ms 302 
2018-01-16 09:17:36.458 +00:00 [DBG] Connection id "0HLASO7M8RQ92" received FIN.
2018-01-16 09:17:36.468 +00:00 [DBG] Connection id "0HLASO7M8RQ92" disconnecting.
2018-01-16 09:17:36.470 +00:00 [DBG] Connection id "0HLASO7M8RQ92" sending FIN.
2018-01-16 09:17:36.473 +00:00 [DBG] Connection id "0HLASO7M8RQ92" stopped.
2018-01-16 09:17:46.257 +00:00 [DBG] Connection id "0HLASO7M8RQ93" started.
2018-01-16 09:17:46.301 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:17:46.396 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:17:46.414 +00:00 [DBG] Connection id "0HLASO7M8RQ93", Request id "0HLASO7M8RQ93:00000001": started reading request body.
2018-01-16 09:17:46.420 +00:00 [DBG] Connection id "0HLASO7M8RQ93", Request id "0HLASO7M8RQ93:00000001": done reading request body.
2018-01-16 09:17:46.445 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:17:46.453 +00:00 [VRB] MessageReceived: '?code=a18065ff02fc9c5bc6223b2833a1ea17bd8294412d5e75ceb8d84c775cbfec76&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTQyNjYsImV4cCI6MTUxNjA5NDU2NiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MTA1NDQ5NTAwMjkuTTJObU1HVmtaR010TWpnellpMDBNR1psTFRrMFpEWXRZMlptTWpkak1EUTVPV1kzTXpCak1XSTNaV010WkRrek1TMDBNR000TFRrNVlqQXRZbVUwTTJKa1l6Rmpaamc1IiwiaWF0IjoxNTE2MDk0MjY2LCJjX2hhc2giOiJQbnA3RTNjTW9jQkVEWlhkQ1hFMS1RIiwic2lkIjoiM2MzZDVjMzQwYzU1N2YxZmI4OTI1ZmI0NDQ0MGU1NmUiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTQyNjQsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.WF9bAqKxoG2UZtAphOhiQz5YbY8B_GlwyCYYFI53_1HCqFAZwrxC4WQF5BkDkzEEVeV4ABLgbOBzTv7l2e6KlfNSSHbwjW8bRl24ut8W2OEuJK9--4aF03Ex3DupZJwcB5EEa0cMjFAii3scBvhCoMQxKvGkgqAFowJnA2tRI2ljkG0TOOTVZH--aET4hqtQCm0Ael2yL74SLCZ56V8gNmZSAXASGYrhiIFQkHALQ2iHIFXGZV6FKQRkJePW-F4HoiLxhNrzp-S95jiXhL0NYo-UToTknhJBQwpym8CPSK4RRpg6cUJBbpWKNFrvjfdpuUveWts2Jgn2_a_ItXE2Dg&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3aXGsLpXhoko-AMjdFoLU3A7meexMABnA1zFolutviQsJ2eIe6Ue4XHndc-_XpEukocGuotRACrOuZdptj59J2UlHS4mm3ACsW5UprMmj2eCFGB-2C8yftBXqiAHe9pExkw3FC-jNF9v_bzcSHxXNO4oS8whL5kOPHmkhRAYZQzsijfg19YpJbbwhL_PZ3KNOSlorYSx67UjhHMhdaM3L4pS53IvRgwRrocSqQ2zYcjD-C67KBAChCkZQWOPsRAIoz9q3o831hofKXUbrqOfcdFJ3Lx1E4ZVB0GK21bEirwIw3WL7Ta2tSCNjPdXUqrGc&session_state=5zsTFx-kXf3GZzp4tIOS-ctLbXkyg91_oTREYsoqOuU.57d74684eb984362c646dbfd14d82ae2'.
2018-01-16 09:17:46.465 +00:00 [DBG] Updating configuration
2018-01-16 09:17:46.467 +00:00 [DBG] Received 'id_token'
2018-01-16 09:17:46.579 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:17:46.591 +00:00 [VRB] Authorization code received.
2018-01-16 09:17:46.595 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:17:49.255 +00:00 [VRB] Token response received.
2018-01-16 09:17:49.267 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:17:50.339 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516094264,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:17:50.354 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:17:50.361 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:17:50.370 +00:00 [DBG] Connection id "0HLASO7M8RQ93" completed keep alive response.
2018-01-16 09:17:50.377 +00:00 [INF] Request finished in 4075.5619ms 302 
2018-01-16 09:17:50.392 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:17:50.402 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:17:50.411 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:50.420 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:17:50.426 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:17:50.429 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:17:50.432 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:17:50.505 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:17:50.533 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:17:50.537 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:17:50.736 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:17:51.165 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 371.2033ms.
2018-01-16 09:17:51.170 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:17:51.171 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:17:51.193 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:51.198 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:51.202 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:17:51.204 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:17:51.207 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:17:51.209 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:17:51.211 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:17:51.220 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 789.69450000000006ms
2018-01-16 09:17:51.328 +00:00 [DBG] Connection id "0HLASO7M8RQ93" completed keep alive response.
2018-01-16 09:17:51.375 +00:00 [INF] Request finished in 982.7174ms 200 text/html; charset=utf-8
2018-01-16 09:17:52.577 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:17:52.584 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:17:52.587 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:52.593 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:17:52.595 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:17:52.598 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:17:52.599 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:52.615 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:17:52.619 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:17:52.652 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:17:52.660 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:17:52.780 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:17:52.980 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 198.4182ms.
2018-01-16 09:17:52.985 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:17:52.987 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:17:53.001 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:17:53.002 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:17:53.005 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:17:53.009 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:17:53.010 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:17:53.012 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 413.05530000000005ms
2018-01-16 09:17:53.067 +00:00 [DBG] Connection id "0HLASO7M8RQ94" started.
2018-01-16 09:17:53.098 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:17:53.099 +00:00 [DBG] Connection id "0HLASO7M8RQ93" completed keep alive response.
2018-01-16 09:17:53.111 +00:00 [INF] Request finished in 534.0923ms 200 text/html; charset=utf-8
2018-01-16 09:17:53.111 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:17:53.128 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:53.176 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:17:53.194 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:17:53.201 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:17:53.211 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:17:53.213 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:17:53.214 +00:00 [DBG] Connection id "0HLASO7M8RQ94" completed keep alive response.
2018-01-16 09:17:53.216 +00:00 [INF] Request finished in 117.4741ms 404 
2018-01-16 09:17:56.458 +00:00 [DBG] Connection id "0HLASO7M8RQ93" received FIN.
2018-01-16 09:17:56.458 +00:00 [DBG] Connection id "0HLASO7M8RQ94" received FIN.
2018-01-16 09:17:56.460 +00:00 [DBG] Connection id "0HLASO7M8RQ93" disconnecting.
2018-01-16 09:17:56.460 +00:00 [DBG] Connection id "0HLASO7M8RQ93" sending FIN.
2018-01-16 09:17:56.460 +00:00 [DBG] Connection id "0HLASO7M8RQ93" stopped.
2018-01-16 09:17:56.463 +00:00 [DBG] Connection id "0HLASO7M8RQ94" disconnecting.
2018-01-16 09:17:56.464 +00:00 [DBG] Connection id "0HLASO7M8RQ94" sending FIN.
2018-01-16 09:17:56.464 +00:00 [DBG] Connection id "0HLASO7M8RQ94" stopped.
2018-01-16 09:17:56.650 +00:00 [DBG] Connection id "0HLASO7M8RQ95" started.
2018-01-16 09:17:56.651 +00:00 [DBG] Connection id "0HLASO7M8RQ96" started.
2018-01-16 09:17:56.662 +00:00 [DBG] Connection id "0HLASO7M8RQ97" started.
2018-01-16 09:17:56.664 +00:00 [DBG] Connection id "0HLASO7M8RQ98" started.
2018-01-16 09:17:56.667 +00:00 [DBG] Connection id "0HLASO7M8RQ99" started.
2018-01-16 09:17:56.667 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:17:56.676 +00:00 [DBG] Connection id "0HLASO7M8RQ9A" started.
2018-01-16 09:17:56.683 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:17:56.687 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:17:56.695 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:17:56.697 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:17:56.698 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:17:56.700 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:17:56.701 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:17:56.701 +00:00 [DBG] Connection id "0HLASO7M8RQ96" completed keep alive response.
2018-01-16 09:17:56.703 +00:00 [INF] Request finished in 35.8141ms 404 
2018-01-16 09:18:06.459 +00:00 [DBG] Connection id "0HLASO7M8RQ95" received FIN.
2018-01-16 09:18:06.459 +00:00 [DBG] Connection id "0HLASO7M8RQ99" received FIN.
2018-01-16 09:18:06.461 +00:00 [DBG] Connection id "0HLASO7M8RQ95" disconnecting.
2018-01-16 09:18:06.462 +00:00 [DBG] Connection id "0HLASO7M8RQ97" received FIN.
2018-01-16 09:18:06.463 +00:00 [DBG] Connection id "0HLASO7M8RQ97" disconnecting.
2018-01-16 09:18:06.463 +00:00 [DBG] Connection id "0HLASO7M8RQ98" received FIN.
2018-01-16 09:18:06.464 +00:00 [DBG] Connection id "0HLASO7M8RQ98" disconnecting.
2018-01-16 09:18:06.465 +00:00 [DBG] Connection id "0HLASO7M8RQ95" sending FIN.
2018-01-16 09:18:06.465 +00:00 [DBG] Connection id "0HLASO7M8RQ95" stopped.
2018-01-16 09:18:06.466 +00:00 [DBG] Connection id "0HLASO7M8RQ97" sending FIN.
2018-01-16 09:18:06.467 +00:00 [DBG] Connection id "0HLASO7M8RQ99" disconnecting.
2018-01-16 09:18:06.468 +00:00 [DBG] Connection id "0HLASO7M8RQ9A" received FIN.
2018-01-16 09:18:06.469 +00:00 [DBG] Connection id "0HLASO7M8RQ9A" disconnecting.
2018-01-16 09:18:06.469 +00:00 [DBG] Connection id "0HLASO7M8RQ96" received FIN.
2018-01-16 09:18:06.470 +00:00 [DBG] Connection id "0HLASO7M8RQ97" stopped.
2018-01-16 09:18:06.476 +00:00 [DBG] Connection id "0HLASO7M8RQ96" disconnecting.
2018-01-16 09:18:06.477 +00:00 [DBG] Connection id "0HLASO7M8RQ98" sending FIN.
2018-01-16 09:18:06.477 +00:00 [DBG] Connection id "0HLASO7M8RQ98" stopped.
2018-01-16 09:18:06.478 +00:00 [DBG] Connection id "0HLASO7M8RQ99" sending FIN.
2018-01-16 09:18:06.478 +00:00 [DBG] Connection id "0HLASO7M8RQ99" stopped.
2018-01-16 09:18:06.479 +00:00 [DBG] Connection id "0HLASO7M8RQ9A" sending FIN.
2018-01-16 09:18:06.479 +00:00 [DBG] Connection id "0HLASO7M8RQ9A" stopped.
2018-01-16 09:18:06.483 +00:00 [DBG] Connection id "0HLASO7M8RQ96" sending FIN.
2018-01-16 09:18:06.483 +00:00 [DBG] Connection id "0HLASO7M8RQ96" stopped.
2018-01-16 09:19:37.802 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:19:37.844 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:19:37.855 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:19:37.875 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:19:37.893 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:19:37.894 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:19:37.895 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:19:37.896 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:19:37.900 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:19:37.907 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:19:37.909 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:19:38.182 +00:00 [DBG] Hosting starting
2018-01-16 09:19:38.323 +00:00 [DBG] Hosting started
2018-01-16 09:19:38.323 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:19:38.324 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:19:38.544 +00:00 [DBG] Connection id "0HLASO927T06P" started.
2018-01-16 09:19:38.544 +00:00 [DBG] Connection id "0HLASO927T06Q" started.
2018-01-16 09:19:38.578 +00:00 [DBG] Connection id "0HLASO927T06Q" received FIN.
2018-01-16 09:19:38.578 +00:00 [DBG] Connection id "0HLASO927T06P" received FIN.
2018-01-16 09:19:38.580 +00:00 [DBG] Connection id "0HLASO927T06Q" disconnecting.
2018-01-16 09:19:38.582 +00:00 [DBG] Connection id "0HLASO927T06P" disconnecting.
2018-01-16 09:19:38.582 +00:00 [DBG] Connection id "0HLASO927T06Q" sending FIN.
2018-01-16 09:19:38.583 +00:00 [DBG] Connection id "0HLASO927T06P" sending FIN.
2018-01-16 09:19:38.588 +00:00 [DBG] Connection id "0HLASO927T06Q" stopped.
2018-01-16 09:19:38.588 +00:00 [DBG] Connection id "0HLASO927T06P" stopped.
2018-01-16 09:19:39.871 +00:00 [DBG] Connection id "0HLASO927T06R" started.
2018-01-16 09:19:39.946 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:19:40.077 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:19:40.097 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:19:40.241 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:19:40.285 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:19:40.298 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:19:40.304 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:19:40.312 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:19:41.477 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:19:43.382 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1897.2356000000002ms.
2018-01-16 09:19:43.485 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:19:43.566 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 80.1436ms.
2018-01-16 09:19:43.578 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:19:43.580 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:19:43.663 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:19:43.946 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:19:45.141 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1188.5812ms.
2018-01-16 09:19:45.176 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:19:45.183 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:19:45.243 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:19:45.249 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:19:45.354 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5067.6244000000006ms
2018-01-16 09:19:45.393 +00:00 [DBG] Connection id "0HLASO927T06R" completed keep alive response.
2018-01-16 09:19:45.408 +00:00 [INF] Request finished in 5464.7648ms 200 text/html; charset=utf-8
2018-01-16 09:19:53.731 +00:00 [DBG] Connection id "0HLASO927T06R" received FIN.
2018-01-16 09:19:53.734 +00:00 [DBG] Connection id "0HLASO927T06R" disconnecting.
2018-01-16 09:19:53.734 +00:00 [DBG] Connection id "0HLASO927T06R" sending FIN.
2018-01-16 09:19:53.735 +00:00 [DBG] Connection id "0HLASO927T06R" stopped.
2018-01-16 09:20:22.310 +00:00 [DBG] Connection id "0HLASO927T06S" started.
2018-01-16 09:20:22.314 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:20:22.319 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:20:22.327 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:20:22.329 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:20:22.335 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:20:22.350 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:20:22.361 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:20:22.371 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:20:22.383 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:20:22.384 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:20:22.981 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:20:22.994 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:20:23.000 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:20:23.007 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 669.4328ms
2018-01-16 09:20:23.030 +00:00 [DBG] Connection id "0HLASO927T06S" completed keep alive response.
2018-01-16 09:20:23.041 +00:00 [INF] Request finished in 727.4339ms 302 
2018-01-16 09:20:23.735 +00:00 [DBG] Connection id "0HLASO927T06S" received FIN.
2018-01-16 09:20:23.748 +00:00 [DBG] Connection id "0HLASO927T06S" disconnecting.
2018-01-16 09:20:23.749 +00:00 [DBG] Connection id "0HLASO927T06S" sending FIN.
2018-01-16 09:20:23.822 +00:00 [DBG] Connection id "0HLASO927T06S" stopped.
2018-01-16 09:20:39.112 +00:00 [DBG] Connection id "0HLASO927T06T" started.
2018-01-16 09:20:39.138 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:20:39.168 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:20:39.200 +00:00 [DBG] Connection id "0HLASO927T06T", Request id "0HLASO927T06T:00000001": started reading request body.
2018-01-16 09:20:39.217 +00:00 [DBG] Connection id "0HLASO927T06T", Request id "0HLASO927T06T:00000001": done reading request body.
2018-01-16 09:20:39.256 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:20:39.294 +00:00 [VRB] MessageReceived: '?code=3ceabf32f639afbae3cd333d001a82fa1962e0f421b64cc200953b2cc31e5027&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTQ0MzgsImV4cCI6MTUxNjA5NDczOCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MTIyMjk3MTI2NDQuWkRnMU9UbGtNMlV0T1RZMU1TMDBNbVEyTFdGaFpqSXRPVGRqT0dJM09UWmlaVFEzTTJaaU1tWTVNMkV0WXpnd01TMDBORFU0TFdFNVpUZ3RaVEF5T1dWa1pETXlNekkzIiwiaWF0IjoxNTE2MDk0NDM4LCJjX2hhc2giOiJ1WlAzQW43blpHNWlKNUNDNDFSMVRnIiwic2lkIjoiNjlmMGJlMTg1NzljMzQ4NDk4NGVhMzY4OGIxZTY3NjIiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTQ0MzgsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.Xq76NZgIoFo7Es04rSr3Lgr8kSZJChf9tIK6acU4V8ikvEXkwtzm5rwSCTWFtC7lqmj6r3RknrV1Rog39ZaiY0NaI2OPPsfStvVrW0jWYHOmoJl5qQSelc8Kp9NGA8USlcIPP2e4JjzJ2diYlxGHuYn_uSNqPpGO_wjkJP4lpAWvgUdBCuFYkFZlPZ7x1K7GCj3kc5pRaD-wLmpwyfcEVPHD0BXxcTZnjz51lTvj4wVQTRma4y8m1I5fSgpUDatk3P1MEniq6-oKR8bvMh8PRayA3Z24UiWmUDBiqbc50k26am4BvNQL9FMliRYw2HfyChmm_FE2w1h5w74tF2Om2w&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0bLfl3NkT8tyCUwRlPBImppTmFsr877XF5coBNxZCRu_NU0HcXJ8UWE29dxr0bjsAVM9euvvdQ2Ip-rJU2cZn33SafdgUZms-u5jBzze4Fi3YaCXIt_irYuXsQy3K7mZiqhiCRTrOgcYfLD-iuPw5koZV5nS9jigvKUtX-qmr95uvg_arhvhr4wz4RiOvrg_LZ5lhrcDmj5Eb5hwkmyKDZC4BRYUzXvr7opv73mtRfAyt-lSuRqW1oFSkczY0t_UuoICQwkPXGa57DwG7R1PLJK1VEPpxSvO4ei0IRssaDmJ48wtuPw7aht9cDk1hBFYI&session_state=BZAScUtix4jFmvcBCETSuL9N60hb1Jrh23K9Feacess.f03c49c4c298b68a5cba85181ef37523'.
2018-01-16 09:20:39.434 +00:00 [DBG] Updating configuration
2018-01-16 09:20:39.436 +00:00 [DBG] Received 'id_token'
2018-01-16 09:20:39.580 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:20:39.658 +00:00 [VRB] Authorization code received.
2018-01-16 09:20:39.669 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:20:41.956 +00:00 [VRB] Token response received.
2018-01-16 09:20:41.965 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:20:42.710 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516094438,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:20:42.728 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:20:42.733 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:20:42.748 +00:00 [DBG] Connection id "0HLASO927T06T" completed keep alive response.
2018-01-16 09:20:42.764 +00:00 [INF] Request finished in 3626.222ms 302 
2018-01-16 09:20:42.783 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:20:42.795 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:20:42.830 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:20:42.879 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:20:42.883 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:20:42.887 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:20:42.895 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:20:42.901 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:20:42.915 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:20:42.917 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:20:43.352 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:20:43.743 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 368.9562ms.
2018-01-16 09:20:43.748 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:20:43.750 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:20:43.780 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:20:43.788 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:20:43.800 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:20:43.803 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:20:43.807 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:20:43.810 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:20:43.820 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:20:43.832 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 938.37100000000009ms
2018-01-16 09:20:44.051 +00:00 [DBG] Connection id "0HLASO927T06T" completed keep alive response.
2018-01-16 09:20:44.078 +00:00 [INF] Request finished in 1294.3716ms 200 text/html; charset=utf-8
2018-01-16 09:20:45.457 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:20:45.463 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:20:45.466 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:20:45.474 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:20:45.476 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:20:45.479 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:20:45.481 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:20:45.491 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:20:45.495 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:20:45.501 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:20:45.502 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:20:45.575 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:20:45.660 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 82.8499ms.
2018-01-16 09:20:45.664 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:20:45.664 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:20:45.678 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:20:45.680 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:20:45.681 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:20:45.684 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:20:45.685 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:20:45.687 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 206.32760000000002ms
2018-01-16 09:20:45.710 +00:00 [DBG] Connection id "0HLASO927T06U" started.
2018-01-16 09:20:45.786 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:20:45.791 +00:00 [DBG] Connection id "0HLASO927T06T" completed keep alive response.
2018-01-16 09:20:45.848 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:20:45.853 +00:00 [INF] Request finished in 395.741ms 200 text/html; charset=utf-8
2018-01-16 09:20:45.882 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:20:45.900 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:20:45.906 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:20:45.913 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:20:45.921 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:20:45.922 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:20:45.924 +00:00 [DBG] Connection id "0HLASO927T06U" completed keep alive response.
2018-01-16 09:20:45.928 +00:00 [INF] Request finished in 141.4524ms 404 
2018-01-16 09:20:49.167 +00:00 [DBG] Connection id "0HLASO927T06T" received FIN.
2018-01-16 09:20:49.167 +00:00 [DBG] Connection id "0HLASO927T06U" received FIN.
2018-01-16 09:20:49.169 +00:00 [DBG] Connection id "0HLASO927T06T" disconnecting.
2018-01-16 09:20:49.170 +00:00 [DBG] Connection id "0HLASO927T06T" sending FIN.
2018-01-16 09:20:49.170 +00:00 [DBG] Connection id "0HLASO927T06T" stopped.
2018-01-16 09:20:49.173 +00:00 [DBG] Connection id "0HLASO927T06U" disconnecting.
2018-01-16 09:20:49.174 +00:00 [DBG] Connection id "0HLASO927T06U" sending FIN.
2018-01-16 09:20:49.176 +00:00 [DBG] Connection id "0HLASO927T06U" stopped.
2018-01-16 09:21:02.398 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:21:02.456 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:21:02.479 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:21:02.514 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:21:02.539 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:21:02.541 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:21:02.543 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:21:02.544 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:21:02.550 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:21:02.559 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:21:02.563 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:21:02.933 +00:00 [DBG] Hosting starting
2018-01-16 09:21:03.153 +00:00 [DBG] Hosting started
2018-01-16 09:21:03.154 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:21:03.157 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:21:03.270 +00:00 [DBG] Connection id "0HLASO9RFTKM0" started.
2018-01-16 09:21:03.270 +00:00 [DBG] Connection id "0HLASO9RFTKLV" started.
2018-01-16 09:21:03.310 +00:00 [DBG] Connection id "0HLASO9RFTKLV" received FIN.
2018-01-16 09:21:03.310 +00:00 [DBG] Connection id "0HLASO9RFTKM0" received FIN.
2018-01-16 09:21:03.311 +00:00 [DBG] Connection id "0HLASO9RFTKLV" disconnecting.
2018-01-16 09:21:03.313 +00:00 [DBG] Connection id "0HLASO9RFTKLV" sending FIN.
2018-01-16 09:21:03.316 +00:00 [DBG] Connection id "0HLASO9RFTKM0" disconnecting.
2018-01-16 09:21:03.317 +00:00 [DBG] Connection id "0HLASO9RFTKM0" sending FIN.
2018-01-16 09:21:03.318 +00:00 [DBG] Connection id "0HLASO9RFTKLV" stopped.
2018-01-16 09:21:03.319 +00:00 [DBG] Connection id "0HLASO9RFTKM0" stopped.
2018-01-16 09:21:04.749 +00:00 [DBG] Connection id "0HLASO9RFTKM1" started.
2018-01-16 09:21:04.870 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:21:05.065 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:21:05.087 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:21:05.255 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:21:05.313 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:21:05.331 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:21:05.340 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:21:05.350 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:21:06.898 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:21:08.885 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1979.8390000000002ms.
2018-01-16 09:21:09.032 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:21:09.115 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 80.7056ms.
2018-01-16 09:21:09.124 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:21:09.126 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:21:09.177 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:21:09.372 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:21:10.292 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 914.2392000000001ms.
2018-01-16 09:21:10.309 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:10.311 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:10.334 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:10.336 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:10.402 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5087.0465ms
2018-01-16 09:21:10.486 +00:00 [DBG] Connection id "0HLASO9RFTKM1" completed keep alive response.
2018-01-16 09:21:10.509 +00:00 [INF] Request finished in 5647.2031ms 200 text/html; charset=utf-8
2018-01-16 09:21:11.777 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:21:11.781 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:21:11.784 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:21:11.785 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:21:11.790 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:21:11.798 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:21:11.807 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:21:11.815 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:21:11.827 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:21:11.828 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:21:12.433 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:21:12.445 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:21:12.449 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:21:12.457 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 665.69630000000006ms
2018-01-16 09:21:12.465 +00:00 [DBG] Connection id "0HLASO9RFTKM1" completed keep alive response.
2018-01-16 09:21:12.492 +00:00 [INF] Request finished in 715.1488ms 302 
2018-01-16 09:21:18.517 +00:00 [DBG] Connection id "0HLASO9RFTKM1" received FIN.
2018-01-16 09:21:18.519 +00:00 [DBG] Connection id "0HLASO9RFTKM1" disconnecting.
2018-01-16 09:21:18.520 +00:00 [DBG] Connection id "0HLASO9RFTKM1" sending FIN.
2018-01-16 09:21:18.521 +00:00 [DBG] Connection id "0HLASO9RFTKM1" stopped.
2018-01-16 09:21:22.295 +00:00 [DBG] Connection id "0HLASO9RFTKM2" started.
2018-01-16 09:21:22.315 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:21:22.341 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:21:22.373 +00:00 [DBG] Connection id "0HLASO9RFTKM2", Request id "0HLASO9RFTKM2:00000001": started reading request body.
2018-01-16 09:21:22.408 +00:00 [DBG] Connection id "0HLASO9RFTKM2", Request id "0HLASO9RFTKM2:00000001": done reading request body.
2018-01-16 09:21:22.440 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:21:22.448 +00:00 [VRB] MessageReceived: '?code=8a17fb09f013b4dbf3d992caaa96071cfda8779873db5aabdef86f0e5a1369d5&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTQ0ODIsImV4cCI6MTUxNjA5NDc4MiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MTI3MjQyNTkyMDMuTmpZNFlUbGlZbUV0WkRsbE55MDBNelEzTFRrMk16a3RNV1ppT0RZME1qQTFNalV6T0dNME5ETmlNRGN0WVRaak9DMDBOamN5TFRsbU1UZ3RObU13TWpCa01qUXdZV0poIiwiaWF0IjoxNTE2MDk0NDgyLCJjX2hhc2giOiJxUWxzU0JVazRjWTh4bnZFckFOaFRRIiwic2lkIjoiOTAxZTFkNTMwMzQ0N2RkYjEyNTY0ZjM1OTUwNWIyNmYiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTQ0ODEsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.pMUfVgbcNQiodrDkI-LxtLYGfmtGLMsUcrGvifeQBxeB3PdedhJnpt9Il6OL7PeB23i_yzHldqvTi3f-eMoW4LwmsJ-Hiq9vA9wPNnSVSoAIqTa2Jur7-qsDtzuTSmQ6SY-f5jQ_3focrNBU9HjoLdoFmGIreqUm_--fYnatV_ODQzRS7Zn2T2KANqIb1Tga4i903KCKbVfztToI7v0w0IHYcPxOu1L136akZhkBEMAmVGwUTUl37ztGhj9HZqhRkFg9dff5z3AmQXl-wOWPEFa3gH-s11MlN_CoCgYFwJhPSogfJDSyyL6UDACxruK1q_NUFOD9EgnSqcVmNMerIQ&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1F1Pl61ykxXrf_Rga63S6xPD3Wc2y8QDzSZTMwL_ibHMNTBnff9oDLwDgQ7DhzpNQPat5XXduvLVaPdaBKxp7_R00w2j2pIKYc6WP4omeVOL97k4c93MsR0u7gXJBpj5qJcjUurBcFHRCHXIsPFqymDir6DaBJEyte43FCKmu8EZExpSGYuHveUl7QJ7TqyjzAkqKDSus_pSOzjDkf-3UlBsSv_oJl-HWNlxLtHC0cYnbQw8pZKdJ2op1EKXxLlByJ-7hQY7_WaMRvudY9N-OwRDvGJZrY44ueB8H3gvcBRl4DHTBgZ_f5roIAW4tR2sA&session_state=-gooptBkr2CnwzUc5hOcShbgY1PpYIsrKl00jl7_av8.0113ac9fa2b352233ef1999796f02875'.
2018-01-16 09:21:22.459 +00:00 [DBG] Updating configuration
2018-01-16 09:21:22.461 +00:00 [DBG] Received 'id_token'
2018-01-16 09:21:22.574 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:21:22.594 +00:00 [VRB] Authorization code received.
2018-01-16 09:21:22.599 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:21:24.025 +00:00 [VRB] Token response received.
2018-01-16 09:21:24.030 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:21:24.795 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516094481,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:21:24.830 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:24.844 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:21:24.862 +00:00 [DBG] Connection id "0HLASO9RFTKM2" completed keep alive response.
2018-01-16 09:21:24.910 +00:00 [INF] Request finished in 2595.2912ms 302 
2018-01-16 09:21:24.931 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:21:24.943 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:24.946 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:24.952 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:21:24.956 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:21:24.959 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:21:24.962 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:21:24.969 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:21:24.979 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:21:24.981 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:21:25.186 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:21:25.598 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 395.07070000000004ms.
2018-01-16 09:21:25.603 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:21:25.605 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:21:25.633 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:25.641 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:25.650 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:21:25.655 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:25.658 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:25.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:25.693 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:25.710 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 750.0498ms
2018-01-16 09:21:25.783 +00:00 [DBG] Connection id "0HLASO9RFTKM2" completed keep alive response.
2018-01-16 09:21:25.834 +00:00 [INF] Request finished in 903.0066ms 200 text/html; charset=utf-8
2018-01-16 09:21:26.350 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:21:26.356 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:26.358 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:26.362 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:21:26.363 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:21:26.366 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:21:26.367 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:26.376 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:21:26.380 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:21:26.386 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:21:26.387 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:21:26.503 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:21:26.616 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 111.19510000000001ms.
2018-01-16 09:21:26.625 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:21:26.627 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:21:26.645 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:21:26.655 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:26.659 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:26.661 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:26.664 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:26.673 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 306.3842ms
2018-01-16 09:21:26.698 +00:00 [DBG] Connection id "0HLASO9RFTKM3" started.
2018-01-16 09:21:26.748 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/MvcClient/Media/waterline.jpg  
2018-01-16 09:21:26.748 +00:00 [DBG] Connection id "0HLASO9RFTKM2" completed keep alive response.
2018-01-16 09:21:26.759 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:26.759 +00:00 [INF] Request finished in 409.8294ms 200 text/html; charset=utf-8
2018-01-16 09:21:26.780 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:26.811 +00:00 [DBG] The request path /MvcClient/Media/waterline.jpg does not match an existing file
2018-01-16 09:21:26.817 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:21:26.831 +00:00 [DBG] No actions matched the current request. Route values: ["controller=MvcClient","action=Media","id=waterline.jpg"]
2018-01-16 09:21:26.847 +00:00 [DBG] No actions matched the current request. Route values: ["controller=MvcClient","action=Media","id=waterline.jpg"]
2018-01-16 09:21:26.851 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:21:26.857 +00:00 [DBG] Connection id "0HLASO9RFTKM3" completed keep alive response.
2018-01-16 09:21:26.892 +00:00 [INF] Request finished in 143.6145ms 404 
2018-01-16 09:21:28.517 +00:00 [DBG] Connection id "0HLASO9RFTKM2" received FIN.
2018-01-16 09:21:28.517 +00:00 [DBG] Connection id "0HLASO9RFTKM3" received FIN.
2018-01-16 09:21:28.523 +00:00 [DBG] Connection id "0HLASO9RFTKM2" disconnecting.
2018-01-16 09:21:28.524 +00:00 [DBG] Connection id "0HLASO9RFTKM2" sending FIN.
2018-01-16 09:21:28.525 +00:00 [DBG] Connection id "0HLASO9RFTKM2" stopped.
2018-01-16 09:21:28.532 +00:00 [DBG] Connection id "0HLASO9RFTKM3" disconnecting.
2018-01-16 09:21:28.535 +00:00 [DBG] Connection id "0HLASO9RFTKM3" sending FIN.
2018-01-16 09:21:28.541 +00:00 [DBG] Connection id "0HLASO9RFTKM3" stopped.
2018-01-16 09:21:39.363 +00:00 [DBG] Connection id "0HLASO9RFTKM4" started.
2018-01-16 09:21:39.363 +00:00 [DBG] Connection id "0HLASO9RFTKM5" started.
2018-01-16 09:21:39.383 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:21:39.431 +00:00 [DBG] Connection id "0HLASO9RFTKM6" started.
2018-01-16 09:21:39.431 +00:00 [DBG] Connection id "0HLASO9RFTKM7" started.
2018-01-16 09:21:39.434 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:39.436 +00:00 [DBG] Connection id "0HLASO9RFTKM8" started.
2018-01-16 09:21:39.441 +00:00 [DBG] Connection id "0HLASO9RFTKM9" started.
2018-01-16 09:21:39.451 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:39.456 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:21:39.462 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:21:39.464 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:21:39.466 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:39.476 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:21:39.488 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:21:39.497 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:21:39.499 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:21:39.591 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:21:39.669 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 76.2209ms.
2018-01-16 09:21:39.674 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:21:39.676 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:21:39.700 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:21:39.704 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:39.706 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:39.708 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:21:39.710 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:21:39.716 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 250.4967ms
2018-01-16 09:21:39.832 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Clients/MvcClient/Media/waterline.jpg  
2018-01-16 09:21:39.867 +00:00 [DBG] Connection id "0HLASO9RFTKM4" completed keep alive response.
2018-01-16 09:21:39.878 +00:00 [INF] Request finished in 494.8758ms 200 text/html; charset=utf-8
2018-01-16 09:21:39.879 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:39.891 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:39.899 +00:00 [DBG] The request path /Clients/MvcClient/Media/waterline.jpg does not match an existing file
2018-01-16 09:21:39.901 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:21:39.901 +00:00 [DBG] Connection id "0HLASO9RFTKM5" completed keep alive response.
2018-01-16 09:21:39.908 +00:00 [INF] Request finished in 75.8919ms 404 
2018-01-16 09:21:39.928 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-16 09:21:39.944 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:39.947 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:39.958 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\favicon.ico'
2018-01-16 09:21:39.974 +00:00 [DBG] Connection id "0HLASO9RFTKM5" completed keep alive response.
2018-01-16 09:21:39.980 +00:00 [INF] Request finished in 51.2091ms 200 image/x-icon
2018-01-16 09:21:42.618 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Clients/MvcClient/Media/waterline.jpg  
2018-01-16 09:21:42.630 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:21:42.643 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:21:42.665 +00:00 [DBG] The request path /Clients/MvcClient/Media/waterline.jpg does not match an existing file
2018-01-16 09:21:42.675 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:21:42.682 +00:00 [DBG] Connection id "0HLASO9RFTKM5" completed keep alive response.
2018-01-16 09:21:42.696 +00:00 [INF] Request finished in 78.5759ms 404 
2018-01-16 09:21:48.519 +00:00 [DBG] Connection id "0HLASO9RFTKM7" received FIN.
2018-01-16 09:21:48.519 +00:00 [DBG] Connection id "0HLASO9RFTKM6" received FIN.
2018-01-16 09:21:48.521 +00:00 [DBG] Connection id "0HLASO9RFTKM7" disconnecting.
2018-01-16 09:21:48.522 +00:00 [DBG] Connection id "0HLASO9RFTKM9" received FIN.
2018-01-16 09:21:48.523 +00:00 [DBG] Connection id "0HLASO9RFTKM9" disconnecting.
2018-01-16 09:21:48.524 +00:00 [DBG] Connection id "0HLASO9RFTKM4" received FIN.
2018-01-16 09:21:48.525 +00:00 [DBG] Connection id "0HLASO9RFTKM4" disconnecting.
2018-01-16 09:21:48.526 +00:00 [DBG] Connection id "0HLASO9RFTKM7" sending FIN.
2018-01-16 09:21:48.526 +00:00 [DBG] Connection id "0HLASO9RFTKM7" stopped.
2018-01-16 09:21:48.527 +00:00 [DBG] Connection id "0HLASO9RFTKM9" sending FIN.
2018-01-16 09:21:48.528 +00:00 [DBG] Connection id "0HLASO9RFTKM4" sending FIN.
2018-01-16 09:21:48.529 +00:00 [DBG] Connection id "0HLASO9RFTKM9" stopped.
2018-01-16 09:21:48.529 +00:00 [DBG] Connection id "0HLASO9RFTKM4" stopped.
2018-01-16 09:21:48.536 +00:00 [DBG] Connection id "0HLASO9RFTKM6" disconnecting.
2018-01-16 09:21:48.537 +00:00 [DBG] Connection id "0HLASO9RFTKM8" received FIN.
2018-01-16 09:21:48.538 +00:00 [DBG] Connection id "0HLASO9RFTKM8" disconnecting.
2018-01-16 09:21:48.538 +00:00 [DBG] Connection id "0HLASO9RFTKM5" received FIN.
2018-01-16 09:21:48.539 +00:00 [DBG] Connection id "0HLASO9RFTKM5" disconnecting.
2018-01-16 09:21:48.540 +00:00 [DBG] Connection id "0HLASO9RFTKM6" sending FIN.
2018-01-16 09:21:48.540 +00:00 [DBG] Connection id "0HLASO9RFTKM6" stopped.
2018-01-16 09:21:48.541 +00:00 [DBG] Connection id "0HLASO9RFTKM8" sending FIN.
2018-01-16 09:21:48.541 +00:00 [DBG] Connection id "0HLASO9RFTKM8" stopped.
2018-01-16 09:21:48.546 +00:00 [DBG] Connection id "0HLASO9RFTKM5" sending FIN.
2018-01-16 09:21:48.547 +00:00 [DBG] Connection id "0HLASO9RFTKM5" stopped.
2018-01-16 09:22:18.127 +00:00 [DBG] Connection id "0HLASO9RFTKMA" started.
2018-01-16 09:22:18.128 +00:00 [DBG] Connection id "0HLASO9RFTKMB" started.
2018-01-16 09:22:18.140 +00:00 [DBG] Connection id "0HLASO9RFTKMC" started.
2018-01-16 09:22:18.144 +00:00 [DBG] Connection id "0HLASO9RFTKMD" started.
2018-01-16 09:22:18.146 +00:00 [DBG] Connection id "0HLASO9RFTKME" started.
2018-01-16 09:22:18.147 +00:00 [DBG] Connection id "0HLASO9RFTKMF" started.
2018-01-16 09:22:18.148 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:22:18.155 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:18.156 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:18.159 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:22:18.160 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:18.161 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:22:18.164 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:18.170 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:22:18.174 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:22:18.177 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:22:18.178 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:22:18.296 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:22:18.405 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 107.8533ms.
2018-01-16 09:22:18.409 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:22:18.410 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:22:18.427 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:22:18.428 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:18.431 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:18.432 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:18.434 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:18.437 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 272.4803ms
2018-01-16 09:22:18.460 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Clients/MvcClient/Media/waterline.jpg  
2018-01-16 09:22:18.517 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:22:18.523 +00:00 [DBG] Connection id "0HLASO9RFTKMA" received FIN.
2018-01-16 09:22:18.523 +00:00 [DBG] Connection id "0HLASO9RFTKMB" received FIN.
2018-01-16 09:22:18.541 +00:00 [DBG] Connection id "0HLASO9RFTKMF" completed keep alive response.
2018-01-16 09:22:18.573 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:18.573 +00:00 [DBG] Connection id "0HLASO9RFTKMB" disconnecting.
2018-01-16 09:22:18.632 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:18.657 +00:00 [DBG] Connection id "0HLASO9RFTKMA" disconnecting.
2018-01-16 09:22:18.678 +00:00 [DBG] Connection id "0HLASO9RFTKMD" received FIN.
2018-01-16 09:22:18.694 +00:00 [INF] Request finished in 545.8271ms 200 text/html; charset=utf-8
2018-01-16 09:22:18.700 +00:00 [DBG] Connection id "0HLASO9RFTKMF" received FIN.
2018-01-16 09:22:18.704 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:18.711 +00:00 [DBG] Connection id "0HLASO9RFTKMF" disconnecting.
2018-01-16 09:22:18.712 +00:00 [DBG] Connection id "0HLASO9RFTKMB" sending FIN.
2018-01-16 09:22:18.714 +00:00 [DBG] Connection id "0HLASO9RFTKMF" sending FIN.
2018-01-16 09:22:18.724 +00:00 [DBG] Connection id "0HLASO9RFTKMB" stopped.
2018-01-16 09:22:18.726 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:18.742 +00:00 [DBG] Connection id "0HLASO9RFTKMF" stopped.
2018-01-16 09:22:18.767 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:22:18.773 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:18.774 +00:00 [DBG] The request path /Clients/MvcClient/Media/waterline.jpg does not match an existing file
2018-01-16 09:22:18.776 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:22:18.780 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:22:18.783 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:18.787 +00:00 [DBG] Connection id "0HLASO9RFTKME" completed keep alive response.
2018-01-16 09:22:18.795 +00:00 [INF] Request finished in 278.2694ms 404 
2018-01-16 09:22:18.806 +00:00 [DBG] Connection id "0HLASO9RFTKMD" disconnecting.
2018-01-16 09:22:18.830 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:18.832 +00:00 [DBG] Connection id "0HLASO9RFTKMC" completed keep alive response.
2018-01-16 09:22:18.833 +00:00 [INF] Request finished in 373.2068ms 404 
2018-01-16 09:22:18.842 +00:00 [DBG] Connection id "0HLASO9RFTKMA" sending FIN.
2018-01-16 09:22:18.842 +00:00 [DBG] Connection id "0HLASO9RFTKMA" stopped.
2018-01-16 09:22:18.844 +00:00 [DBG] Connection id "0HLASO9RFTKMD" sending FIN.
2018-01-16 09:22:18.844 +00:00 [DBG] Connection id "0HLASO9RFTKMD" stopped.
2018-01-16 09:22:18.855 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-16 09:22:18.862 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:18.864 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:18.874 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\favicon.ico'
2018-01-16 09:22:18.889 +00:00 [DBG] Connection id "0HLASO9RFTKMC" completed keep alive response.
2018-01-16 09:22:18.891 +00:00 [INF] Request finished in 36.539ms 200 image/x-icon
2018-01-16 09:22:25.726 +00:00 [DBG] Connection id "0HLASO9RFTKMG" started.
2018-01-16 09:22:25.726 +00:00 [DBG] Connection id "0HLASO9RFTKMH" started.
2018-01-16 09:22:25.733 +00:00 [DBG] Connection id "0HLASO9RFTKMJ" started.
2018-01-16 09:22:25.733 +00:00 [DBG] Connection id "0HLASO9RFTKMI" started.
2018-01-16 09:22:25.743 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:22:25.753 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:25.760 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:25.766 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:22:25.771 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:25.773 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:22:25.775 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:25.787 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:22:25.812 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:22:25.826 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:22:25.829 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:22:25.929 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:22:26.015 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 84.929200000000009ms.
2018-01-16 09:22:26.023 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:22:26.026 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:22:26.077 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:22:26.080 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:26.097 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:26.121 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:26.124 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:26.149 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 374.0871ms
2018-01-16 09:22:26.193 +00:00 [DBG] Connection id "0HLASO9RFTKMC" completed keep alive response.
2018-01-16 09:22:26.195 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Clients/MvcClient/Media/waterline.jpg  
2018-01-16 09:22:26.202 +00:00 [INF] Request finished in 459.3209ms 200 text/html; charset=utf-8
2018-01-16 09:22:26.241 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:26.246 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:26.256 +00:00 [DBG] The request path /Clients/MvcClient/Media/waterline.jpg does not match an existing file
2018-01-16 09:22:26.257 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:26.258 +00:00 [DBG] Connection id "0HLASO9RFTKME" completed keep alive response.
2018-01-16 09:22:26.261 +00:00 [INF] Request finished in 65.6399ms 404 
2018-01-16 09:22:26.322 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-16 09:22:26.344 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:26.381 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:26.406 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\favicon.ico'
2018-01-16 09:22:26.447 +00:00 [DBG] Connection id "0HLASO9RFTKME" completed keep alive response.
2018-01-16 09:22:26.452 +00:00 [INF] Request finished in 130.1942ms 200 image/x-icon
2018-01-16 09:22:28.476 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Clients/MvcClient/Media/waterline.jpg  
2018-01-16 09:22:28.489 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:28.496 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:28.505 +00:00 [DBG] The request path /Clients/MvcClient/Media/waterline.jpg does not match an existing file
2018-01-16 09:22:28.506 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:28.511 +00:00 [DBG] Connection id "0HLASO9RFTKME" completed keep alive response.
2018-01-16 09:22:28.513 +00:00 [INF] Request finished in 37.396ms 404 
2018-01-16 09:22:28.530 +00:00 [DBG] Connection id "0HLASO9RFTKMG" received FIN.
2018-01-16 09:22:28.530 +00:00 [DBG] Connection id "0HLASO9RFTKMH" received FIN.
2018-01-16 09:22:28.531 +00:00 [DBG] Connection id "0HLASO9RFTKMG" disconnecting.
2018-01-16 09:22:28.533 +00:00 [DBG] Connection id "0HLASO9RFTKMJ" received FIN.
2018-01-16 09:22:28.536 +00:00 [DBG] Connection id "0HLASO9RFTKMH" disconnecting.
2018-01-16 09:22:28.540 +00:00 [DBG] Connection id "0HLASO9RFTKMJ" disconnecting.
2018-01-16 09:22:28.541 +00:00 [DBG] Connection id "0HLASO9RFTKMI" received FIN.
2018-01-16 09:22:28.543 +00:00 [DBG] Connection id "0HLASO9RFTKMI" disconnecting.
2018-01-16 09:22:28.544 +00:00 [DBG] Connection id "0HLASO9RFTKME" received FIN.
2018-01-16 09:22:28.545 +00:00 [DBG] Connection id "0HLASO9RFTKME" disconnecting.
2018-01-16 09:22:28.546 +00:00 [DBG] Connection id "0HLASO9RFTKMG" sending FIN.
2018-01-16 09:22:28.546 +00:00 [DBG] Connection id "0HLASO9RFTKMG" stopped.
2018-01-16 09:22:28.548 +00:00 [DBG] Connection id "0HLASO9RFTKMJ" sending FIN.
2018-01-16 09:22:28.549 +00:00 [DBG] Connection id "0HLASO9RFTKME" sending FIN.
2018-01-16 09:22:28.556 +00:00 [DBG] Connection id "0HLASO9RFTKMJ" stopped.
2018-01-16 09:22:28.556 +00:00 [DBG] Connection id "0HLASO9RFTKME" stopped.
2018-01-16 09:22:28.562 +00:00 [DBG] Connection id "0HLASO9RFTKMC" received FIN.
2018-01-16 09:22:28.572 +00:00 [DBG] Connection id "0HLASO9RFTKMC" disconnecting.
2018-01-16 09:22:28.573 +00:00 [DBG] Connection id "0HLASO9RFTKMH" sending FIN.
2018-01-16 09:22:28.574 +00:00 [DBG] Connection id "0HLASO9RFTKMH" stopped.
2018-01-16 09:22:28.579 +00:00 [DBG] Connection id "0HLASO9RFTKMI" sending FIN.
2018-01-16 09:22:28.585 +00:00 [DBG] Connection id "0HLASO9RFTKMI" stopped.
2018-01-16 09:22:28.596 +00:00 [DBG] Connection id "0HLASO9RFTKMC" sending FIN.
2018-01-16 09:22:28.639 +00:00 [DBG] Connection id "0HLASO9RFTKMC" stopped.
2018-01-16 09:22:44.223 +00:00 [DBG] Connection id "0HLASO9RFTKMK" started.
2018-01-16 09:22:44.224 +00:00 [DBG] Connection id "0HLASO9RFTKML" started.
2018-01-16 09:22:44.227 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:22:44.230 +00:00 [DBG] Connection id "0HLASO9RFTKMM" started.
2018-01-16 09:22:44.230 +00:00 [DBG] Connection id "0HLASO9RFTKMN" started.
2018-01-16 09:22:44.261 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:44.262 +00:00 [DBG] Connection id "0HLASO9RFTKMO" started.
2018-01-16 09:22:44.275 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:44.289 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:22:44.290 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:44.291 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:22:44.294 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:44.298 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:22:44.304 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:22:44.308 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:22:44.310 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:22:44.463 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:22:44.587 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 109.0005ms.
2018-01-16 09:22:44.591 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:22:44.592 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:22:44.605 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:22:44.606 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:44.607 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:44.610 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:44.613 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:44.614 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 320.5299ms
2018-01-16 09:22:44.623 +00:00 [DBG] Connection id "0HLASO9RFTKMK" completed keep alive response.
2018-01-16 09:22:44.625 +00:00 [INF] Request finished in 397.5363ms 200 text/html; charset=utf-8
2018-01-16 09:22:44.654 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:22:44.669 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:44.690 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:44.766 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:22:44.855 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:44.858 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:22:44.863 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:22:44.865 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:44.868 +00:00 [DBG] Connection id "0HLASO9RFTKMK" completed keep alive response.
2018-01-16 09:22:44.882 +00:00 [INF] Request finished in 228.6758ms 404 
2018-01-16 09:22:44.901 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-16 09:22:44.905 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:44.907 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:44.918 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\favicon.ico'
2018-01-16 09:22:44.924 +00:00 [DBG] Connection id "0HLASO9RFTKMK" completed keep alive response.
2018-01-16 09:22:44.931 +00:00 [INF] Request finished in 30.6405ms 200 image/x-icon
2018-01-16 09:22:48.534 +00:00 [DBG] Connection id "0HLASO9RFTKML" received FIN.
2018-01-16 09:22:48.534 +00:00 [DBG] Connection id "0HLASO9RFTKMM" received FIN.
2018-01-16 09:22:48.536 +00:00 [DBG] Connection id "0HLASO9RFTKML" disconnecting.
2018-01-16 09:22:48.536 +00:00 [DBG] Connection id "0HLASO9RFTKMN" received FIN.
2018-01-16 09:22:48.537 +00:00 [DBG] Connection id "0HLASO9RFTKMN" disconnecting.
2018-01-16 09:22:48.538 +00:00 [DBG] Connection id "0HLASO9RFTKML" sending FIN.
2018-01-16 09:22:48.538 +00:00 [DBG] Connection id "0HLASO9RFTKML" stopped.
2018-01-16 09:22:48.539 +00:00 [DBG] Connection id "0HLASO9RFTKMN" sending FIN.
2018-01-16 09:22:48.539 +00:00 [DBG] Connection id "0HLASO9RFTKMN" stopped.
2018-01-16 09:22:48.541 +00:00 [DBG] Connection id "0HLASO9RFTKMM" disconnecting.
2018-01-16 09:22:48.542 +00:00 [DBG] Connection id "0HLASO9RFTKMO" received FIN.
2018-01-16 09:22:48.544 +00:00 [DBG] Connection id "0HLASO9RFTKMO" disconnecting.
2018-01-16 09:22:48.547 +00:00 [DBG] Connection id "0HLASO9RFTKMK" received FIN.
2018-01-16 09:22:48.549 +00:00 [DBG] Connection id "0HLASO9RFTKMK" disconnecting.
2018-01-16 09:22:48.551 +00:00 [DBG] Connection id "0HLASO9RFTKMM" sending FIN.
2018-01-16 09:22:48.551 +00:00 [DBG] Connection id "0HLASO9RFTKMM" stopped.
2018-01-16 09:22:48.552 +00:00 [DBG] Connection id "0HLASO9RFTKMO" sending FIN.
2018-01-16 09:22:48.553 +00:00 [DBG] Connection id "0HLASO9RFTKMK" sending FIN.
2018-01-16 09:22:48.554 +00:00 [DBG] Connection id "0HLASO9RFTKMK" stopped.
2018-01-16 09:22:48.555 +00:00 [DBG] Connection id "0HLASO9RFTKMO" stopped.
2018-01-16 09:22:50.609 +00:00 [DBG] Connection id "0HLASO9RFTKMP" started.
2018-01-16 09:22:50.613 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:22:50.613 +00:00 [DBG] Connection id "0HLASO9RFTKMQ" started.
2018-01-16 09:22:50.624 +00:00 [DBG] Connection id "0HLASO9RFTKMR" started.
2018-01-16 09:22:50.627 +00:00 [DBG] Connection id "0HLASO9RFTKMS" started.
2018-01-16 09:22:50.627 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:50.642 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:50.648 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:22:50.652 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:50.653 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:22:50.656 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:50.662 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:22:50.669 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:22:50.672 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:22:50.673 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:22:50.780 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:22:50.911 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 122.9919ms.
2018-01-16 09:22:50.915 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:22:50.918 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:22:50.928 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:22:50.929 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:50.930 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:50.931 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:50.935 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:50.937 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 280.85130000000004ms
2018-01-16 09:22:50.944 +00:00 [DBG] Connection id "0HLASO9RFTKMP" completed keep alive response.
2018-01-16 09:22:50.946 +00:00 [INF] Request finished in 333.3725ms 200 text/html; charset=utf-8
2018-01-16 09:22:50.965 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/~Media/waterline.jpg  
2018-01-16 09:22:51.004 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:51.060 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:51.084 +00:00 [DBG] The request path /Home/~Media/waterline.jpg does not match an existing file
2018-01-16 09:22:51.113 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:51.115 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=~Media","id=waterline.jpg"]
2018-01-16 09:22:51.121 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=~Media","id=waterline.jpg"]
2018-01-16 09:22:51.123 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:51.127 +00:00 [DBG] Connection id "0HLASO9RFTKMP" completed keep alive response.
2018-01-16 09:22:51.134 +00:00 [INF] Request finished in 166.7891ms 404 
2018-01-16 09:22:51.150 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-16 09:22:51.154 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:51.157 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:51.162 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\favicon.ico'
2018-01-16 09:22:51.179 +00:00 [DBG] Connection id "0HLASO9RFTKMP" completed keep alive response.
2018-01-16 09:22:51.184 +00:00 [INF] Request finished in 34.0119ms 200 image/x-icon
2018-01-16 09:22:56.803 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:22:56.810 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:56.812 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:56.819 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:22:56.821 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:56.822 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:22:56.823 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:56.829 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:22:56.835 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:22:56.841 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:22:56.842 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:22:56.925 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:22:57.010 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 83.9727ms.
2018-01-16 09:22:57.018 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:22:57.020 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:22:57.038 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:22:57.039 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:57.041 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:57.043 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:22:57.045 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:22:57.047 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 223.3698ms
2018-01-16 09:22:57.065 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:22:57.080 +00:00 [DBG] Connection id "0HLASO9RFTKMP" completed keep alive response.
2018-01-16 09:22:57.089 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:57.090 +00:00 [INF] Request finished in 286.6164ms 200 text/html; charset=utf-8
2018-01-16 09:22:57.108 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:57.144 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:22:57.147 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:22:57.151 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:22:57.152 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:22:57.154 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:22:57.156 +00:00 [DBG] Connection id "0HLASO9RFTKMR" completed keep alive response.
2018-01-16 09:22:57.160 +00:00 [INF] Request finished in 94.6729ms 404 
2018-01-16 09:22:57.207 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/favicon.ico  
2018-01-16 09:22:57.213 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:22:57.218 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:22:57.223 +00:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\favicon.ico'
2018-01-16 09:22:57.228 +00:00 [DBG] Connection id "0HLASO9RFTKMR" completed keep alive response.
2018-01-16 09:22:57.235 +00:00 [INF] Request finished in 28.1202ms 200 image/x-icon
2018-01-16 09:22:58.534 +00:00 [DBG] Connection id "0HLASO9RFTKMQ" received FIN.
2018-01-16 09:22:58.534 +00:00 [DBG] Connection id "0HLASO9RFTKMS" received FIN.
2018-01-16 09:22:58.535 +00:00 [DBG] Connection id "0HLASO9RFTKMQ" disconnecting.
2018-01-16 09:22:58.536 +00:00 [DBG] Connection id "0HLASO9RFTKMP" received FIN.
2018-01-16 09:22:58.537 +00:00 [DBG] Connection id "0HLASO9RFTKMP" disconnecting.
2018-01-16 09:22:58.538 +00:00 [DBG] Connection id "0HLASO9RFTKMS" disconnecting.
2018-01-16 09:22:58.539 +00:00 [DBG] Connection id "0HLASO9RFTKMR" received FIN.
2018-01-16 09:22:58.540 +00:00 [DBG] Connection id "0HLASO9RFTKMR" disconnecting.
2018-01-16 09:22:58.540 +00:00 [DBG] Connection id "0HLASO9RFTKMS" sending FIN.
2018-01-16 09:22:58.540 +00:00 [DBG] Connection id "0HLASO9RFTKMS" stopped.
2018-01-16 09:22:58.541 +00:00 [DBG] Connection id "0HLASO9RFTKMQ" sending FIN.
2018-01-16 09:22:58.541 +00:00 [DBG] Connection id "0HLASO9RFTKMQ" stopped.
2018-01-16 09:22:58.542 +00:00 [DBG] Connection id "0HLASO9RFTKMP" sending FIN.
2018-01-16 09:22:58.544 +00:00 [DBG] Connection id "0HLASO9RFTKMP" stopped.
2018-01-16 09:22:58.549 +00:00 [DBG] Connection id "0HLASO9RFTKMR" sending FIN.
2018-01-16 09:22:58.549 +00:00 [DBG] Connection id "0HLASO9RFTKMR" stopped.
2018-01-16 09:24:13.793 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:24:13.841 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:24:13.857 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:24:13.884 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:24:13.902 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:24:13.903 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:24:13.905 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:24:13.906 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:24:13.910 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:24:13.917 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:24:13.919 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:24:14.226 +00:00 [DBG] Hosting starting
2018-01-16 09:24:14.369 +00:00 [DBG] Hosting started
2018-01-16 09:24:14.370 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:24:14.371 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:24:14.739 +00:00 [DBG] Connection id "0HLASOBKHT06Q" started.
2018-01-16 09:24:14.772 +00:00 [DBG] Connection id "0HLASOBKHT06Q" received FIN.
2018-01-16 09:24:14.774 +00:00 [DBG] Connection id "0HLASOBKHT06Q" disconnecting.
2018-01-16 09:24:14.775 +00:00 [DBG] Connection id "0HLASOBKHT06Q" sending FIN.
2018-01-16 09:24:14.780 +00:00 [DBG] Connection id "0HLASOBKHT06Q" stopped.
2018-01-16 09:24:16.092 +00:00 [DBG] Connection id "0HLASOBKHT06R" started.
2018-01-16 09:24:16.196 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:24:16.338 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:24:16.355 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:24:16.499 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:16.544 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:24:16.559 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:24:16.566 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:24:16.574 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:24:17.727 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:24:19.434 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1699.3304ms.
2018-01-16 09:24:19.596 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:24:19.681 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 82.817100000000011ms.
2018-01-16 09:24:19.688 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:24:19.689 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:24:19.743 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:24:19.947 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:24:20.874 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 925.51600000000008ms.
2018-01-16 09:24:20.900 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:24:20.904 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:24:20.930 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:24:20.932 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:24:20.992 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 4445.8572ms
2018-01-16 09:24:21.022 +00:00 [DBG] Connection id "0HLASOBKHT06R" completed keep alive response.
2018-01-16 09:24:21.028 +00:00 [INF] Request finished in 4843.3195ms 200 text/html; charset=utf-8
2018-01-16 09:24:23.668 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:24:23.674 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:24:23.675 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:24:23.676 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:23.680 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:24:23.689 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:24:23.701 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:24:23.711 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:24:23.726 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:24:23.728 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:24:24.531 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:24:24.543 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:24:24.557 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:24:24.565 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 884.45390000000009ms
2018-01-16 09:24:24.576 +00:00 [DBG] Connection id "0HLASOBKHT06R" completed keep alive response.
2018-01-16 09:24:24.598 +00:00 [INF] Request finished in 930.2965ms 302 
2018-01-16 09:24:29.910 +00:00 [DBG] Connection id "0HLASOBKHT06R" received FIN.
2018-01-16 09:24:29.921 +00:00 [DBG] Connection id "0HLASOBKHT06R" disconnecting.
2018-01-16 09:24:29.927 +00:00 [DBG] Connection id "0HLASOBKHT06R" sending FIN.
2018-01-16 09:24:29.929 +00:00 [DBG] Connection id "0HLASOBKHT06R" stopped.
2018-01-16 09:24:32.543 +00:00 [DBG] Connection id "0HLASOBKHT06S" started.
2018-01-16 09:24:32.558 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:24:32.572 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:24:32.594 +00:00 [DBG] Connection id "0HLASOBKHT06S", Request id "0HLASOBKHT06S:00000001": started reading request body.
2018-01-16 09:24:32.605 +00:00 [DBG] Connection id "0HLASOBKHT06S", Request id "0HLASOBKHT06S:00000001": done reading request body.
2018-01-16 09:24:32.634 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:24:32.639 +00:00 [VRB] MessageReceived: '?code=6c5fa46069f45d77f1c3e8670f59f46125389696bc1194e6de646f926f0df51e&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTQ2NzIsImV4cCI6MTUxNjA5NDk3MiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MTQ2NDUyMzAwMjEuTnpCbFpHVmtNV0V0WXpNelpDMDBNV1kzTFdJeVpEa3RZV1prTmpKaE5HVmlaamMzT0daa1pqSTVOREF0T1dFNE1DMDBZbVl6TFRnNE9UUXRNV1ZsTUdJeU5UQTVNVFpqIiwiaWF0IjoxNTE2MDk0NjcyLCJjX2hhc2giOiI0TUhJcjB4TmVvTGRsSXNwWkY4XzRRIiwic2lkIjoiMWZkNzJmMTlmNDljOTNlN2RkMDYzNzViNzcwZTY0YTIiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTQ2NzEsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.QCelhaq2jxqACCQcRrPDg9kviKHoSSGNo3v72VO14uJNE_ohRfV_WgtW_iGd7aqt5KNTLXrb8SLzgv2q60NVJ_pl_UwSGPTsx5lsr3mXzvzmhh05EPaqbSMLHRS94yUJcqVAtR_72IcfSzcc8pe_89_M53xShfiIvhpDTdyfPLQmzwk6TJ6Z5SJTuxmGJCQt0BGq8zGTTOhc9e2-T8NXglG-OOnbmPcKSxR3Zqt57ur4_RB3uVfco0_ZTSTgBbz9nRjYIjsnAqe2OjsY79s9rb__zu3FijksUehk8-JrG-Xjspz8WZ6JtHphWgQtZB07AdsrOVprIszbJx2WSyHcqA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0JdFPBTSX3-RAjVBTchmaRyi953HIbq82C2sVRsuffzApGysDG9Ajoy3ZNhsN_1NxX2FQ9Hat5dilF7cBiDNJ48PaV8_9kvpHY0HgsK_qsRDqNYwi2-0oiDZwXsQUjfsCzA8gmJa78dcs0TV7zB9NNQcwxriTNVQ2-fZnAdKNsH8nd4sYfv3U-L4JG8i_0dh2IYvqmqhcRLE4ZNG9Rs6_qISA0OAyd3ZoKJr21PNZk1bWGAg9p3I18DDYqZ29QQ0dLE11dfzZ5IxUSYnEDlPnHTBgGWU0OXq1j8s6Xn3d5HuQ-bR5cNCet56EZqQGQhbc&session_state=ioSNo_aQH413NbZY1leypelAfO-I6B2ShiGDvNrbvAo.ec600e096104807c62ef6a57de49f46d'.
2018-01-16 09:24:32.669 +00:00 [DBG] Updating configuration
2018-01-16 09:24:32.670 +00:00 [DBG] Received 'id_token'
2018-01-16 09:24:32.775 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:24:32.792 +00:00 [VRB] Authorization code received.
2018-01-16 09:24:32.800 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:24:34.188 +00:00 [VRB] Token response received.
2018-01-16 09:24:34.193 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:24:34.739 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516094671,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:24:34.765 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:24:34.787 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:24:34.797 +00:00 [DBG] Connection id "0HLASOBKHT06S" completed keep alive response.
2018-01-16 09:24:34.803 +00:00 [INF] Request finished in 2245.1433ms 302 
2018-01-16 09:24:34.815 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:24:34.821 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:24:34.831 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:34.838 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:24:34.839 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:34.849 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:24:34.856 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:24:34.864 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:24:34.871 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:24:34.873 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:24:35.040 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:24:35.443 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 397.61510000000004ms.
2018-01-16 09:24:35.453 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:24:35.455 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:24:35.506 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:35.515 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:35.522 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:24:35.524 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:24:35.530 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:24:35.539 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:24:35.541 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:24:35.549 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 694.6615ms
2018-01-16 09:24:35.597 +00:00 [DBG] Connection id "0HLASOBKHT06S" completed keep alive response.
2018-01-16 09:24:35.608 +00:00 [INF] Request finished in 792.8401ms 200 text/html; charset=utf-8
2018-01-16 09:24:36.965 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:24:36.972 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:24:36.976 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:36.984 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:24:36.989 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:36.992 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:24:37.000 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:37.019 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:24:37.029 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:24:37.038 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:24:37.040 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:24:37.121 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:24:37.216 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 91.4882ms.
2018-01-16 09:24:37.222 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:24:37.224 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:24:37.240 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:24:37.242 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:24:37.247 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:24:37.254 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:24:37.255 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:24:37.265 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 266.0376ms
2018-01-16 09:24:37.276 +00:00 [DBG] Connection id "0HLASOBKHT06S" completed keep alive response.
2018-01-16 09:24:37.291 +00:00 [INF] Request finished in 326.0915ms 200 text/html; charset=utf-8
2018-01-16 09:24:37.325 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/waterline.jpg  
2018-01-16 09:24:37.354 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:24:37.357 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:37.370 +00:00 [DBG] The request path /Home/waterline.jpg does not match an existing file
2018-01-16 09:24:37.373 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:37.385 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:24:37.394 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:24:37.397 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:24:37.400 +00:00 [DBG] Connection id "0HLASOBKHT06S" completed keep alive response.
2018-01-16 09:24:37.405 +00:00 [INF] Request finished in 79.7994ms 404 
2018-01-16 09:24:39.782 +00:00 [DBG] Connection id "0HLASOBKHT06T" started.
2018-01-16 09:24:39.784 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/waterline.jpg  
2018-01-16 09:24:39.798 +00:00 [DBG] Connection id "0HLASOBKHT06V" started.
2018-01-16 09:24:39.798 +00:00 [DBG] Connection id "0HLASOBKHT06U" started.
2018-01-16 09:24:39.839 +00:00 [DBG] Connection id "0HLASOBKHT070" started.
2018-01-16 09:24:39.840 +00:00 [DBG] Connection id "0HLASOBKHT071" started.
2018-01-16 09:24:39.909 +00:00 [DBG] Connection id "0HLASOBKHT06V" received FIN.
2018-01-16 09:24:39.924 +00:00 [DBG] Connection id "0HLASOBKHT06V" disconnecting.
2018-01-16 09:24:39.925 +00:00 [DBG] Connection id "0HLASOBKHT071" received FIN.
2018-01-16 09:24:39.936 +00:00 [DBG] Connection id "0HLASOBKHT070" received FIN.
2018-01-16 09:24:39.945 +00:00 [DBG] Connection id "0HLASOBKHT070" disconnecting.
2018-01-16 09:24:39.946 +00:00 [DBG] Connection id "0HLASOBKHT06V" sending FIN.
2018-01-16 09:24:39.952 +00:00 [DBG] Connection id "0HLASOBKHT06V" stopped.
2018-01-16 09:24:39.955 +00:00 [DBG] Connection id "0HLASOBKHT070" sending FIN.
2018-01-16 09:24:39.956 +00:00 [DBG] Connection id "0HLASOBKHT070" stopped.
2018-01-16 09:24:39.986 +00:00 [DBG] Connection id "0HLASOBKHT071" disconnecting.
2018-01-16 09:24:39.990 +00:00 [DBG] Connection id "0HLASOBKHT06T" received FIN.
2018-01-16 09:24:40.015 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:24:40.033 +00:00 [DBG] Connection id "0HLASOBKHT06T" disconnecting.
2018-01-16 09:24:40.041 +00:00 [DBG] Connection id "0HLASOBKHT06U" received FIN.
2018-01-16 09:24:40.052 +00:00 [DBG] Connection id "0HLASOBKHT06U" disconnecting.
2018-01-16 09:24:40.054 +00:00 [DBG] Connection id "0HLASOBKHT071" sending FIN.
2018-01-16 09:24:40.054 +00:00 [DBG] Connection id "0HLASOBKHT071" stopped.
2018-01-16 09:24:40.074 +00:00 [DBG] Connection id "0HLASOBKHT06T" sending FIN.
2018-01-16 09:24:40.075 +00:00 [DBG] Connection id "0HLASOBKHT06T" stopped.
2018-01-16 09:24:40.090 +00:00 [DBG] Connection id "0HLASOBKHT06U" sending FIN.
2018-01-16 09:24:40.097 +00:00 [DBG] Connection id "0HLASOBKHT06U" stopped.
2018-01-16 09:24:40.123 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:40.133 +00:00 [DBG] The request path /Home/waterline.jpg does not match an existing file
2018-01-16 09:24:40.136 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:40.138 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:24:40.145 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:24:40.153 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:24:40.154 +00:00 [DBG] Connection id "0HLASOBKHT06S" completed keep alive response.
2018-01-16 09:24:40.172 +00:00 [INF] Request finished in 387.8958ms 404 
2018-01-16 09:24:45.262 +00:00 [DBG] Connection id "0HLASOBKHT072" started.
2018-01-16 09:24:45.263 +00:00 [DBG] Connection id "0HLASOBKHT073" started.
2018-01-16 09:24:45.274 +00:00 [DBG] Connection id "0HLASOBKHT074" started.
2018-01-16 09:24:45.286 +00:00 [DBG] Connection id "0HLASOBKHT075" started.
2018-01-16 09:24:45.290 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/waterline.jpg  
2018-01-16 09:24:45.322 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:24:45.336 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:24:45.352 +00:00 [DBG] The request path /Home/waterline.jpg does not match an existing file
2018-01-16 09:24:45.354 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:24:45.359 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:24:45.368 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:24:45.386 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:24:45.392 +00:00 [DBG] Connection id "0HLASOBKHT06S" completed keep alive response.
2018-01-16 09:24:45.407 +00:00 [INF] Request finished in 117.462ms 404 
2018-01-16 09:24:49.910 +00:00 [DBG] Connection id "0HLASOBKHT073" received FIN.
2018-01-16 09:24:49.911 +00:00 [DBG] Connection id "0HLASOBKHT072" received FIN.
2018-01-16 09:24:49.915 +00:00 [DBG] Connection id "0HLASOBKHT073" disconnecting.
2018-01-16 09:24:49.920 +00:00 [DBG] Connection id "0HLASOBKHT075" received FIN.
2018-01-16 09:24:49.922 +00:00 [DBG] Connection id "0HLASOBKHT075" disconnecting.
2018-01-16 09:24:49.923 +00:00 [DBG] Connection id "0HLASOBKHT06S" received FIN.
2018-01-16 09:24:49.934 +00:00 [DBG] Connection id "0HLASOBKHT06S" disconnecting.
2018-01-16 09:24:49.937 +00:00 [DBG] Connection id "0HLASOBKHT073" sending FIN.
2018-01-16 09:24:49.937 +00:00 [DBG] Connection id "0HLASOBKHT073" stopped.
2018-01-16 09:24:49.943 +00:00 [DBG] Connection id "0HLASOBKHT075" sending FIN.
2018-01-16 09:24:49.945 +00:00 [DBG] Connection id "0HLASOBKHT06S" sending FIN.
2018-01-16 09:24:49.946 +00:00 [DBG] Connection id "0HLASOBKHT075" stopped.
2018-01-16 09:24:49.946 +00:00 [DBG] Connection id "0HLASOBKHT06S" stopped.
2018-01-16 09:24:49.973 +00:00 [DBG] Connection id "0HLASOBKHT072" disconnecting.
2018-01-16 09:24:49.981 +00:00 [DBG] Connection id "0HLASOBKHT074" received FIN.
2018-01-16 09:24:49.987 +00:00 [DBG] Connection id "0HLASOBKHT074" disconnecting.
2018-01-16 09:24:49.988 +00:00 [DBG] Connection id "0HLASOBKHT072" sending FIN.
2018-01-16 09:24:49.988 +00:00 [DBG] Connection id "0HLASOBKHT072" stopped.
2018-01-16 09:24:49.995 +00:00 [DBG] Connection id "0HLASOBKHT074" stopped.
2018-01-16 09:24:49.995 +00:00 [DBG] Connection id "0HLASOBKHT074" sending FIN.
2018-01-16 09:25:03.631 +00:00 [DBG] Connection id "0HLASOBKHT076" started.
2018-01-16 09:25:03.634 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:25:03.644 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:25:03.649 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:25:03.656 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:25:03.662 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:25:03.667 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:25:03.668 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:25:03.675 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:25:03.683 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:25:03.694 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:25:03.696 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:25:03.777 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:25:03.877 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 95.4216ms.
2018-01-16 09:25:03.884 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:25:03.886 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:25:03.907 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:25:03.911 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:25:03.916 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:25:03.918 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:25:03.924 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:25:03.928 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 260.0924ms
2018-01-16 09:25:03.950 +00:00 [DBG] Connection id "0HLASOBKHT077" started.
2018-01-16 09:25:03.957 +00:00 [DBG] Connection id "0HLASOBKHT076" completed keep alive response.
2018-01-16 09:25:03.983 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/waterline.jpg  
2018-01-16 09:25:03.999 +00:00 [DBG] Connection id "0HLASOBKHT078" started.
2018-01-16 09:25:04.018 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:25:04.021 +00:00 [INF] Request finished in 387.1942ms 200 text/html; charset=utf-8
2018-01-16 09:25:04.078 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Views/Home/waterline.jpg  
2018-01-16 09:25:04.146 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:25:04.174 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:25:04.235 +00:00 [DBG] The request path /Home/waterline.jpg does not match an existing file
2018-01-16 09:25:04.246 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:25:04.253 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:25:04.262 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:25:04.268 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Home","action=waterline.jpg"]
2018-01-16 09:25:04.281 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:25:04.283 +00:00 [DBG] Connection id "0HLASOBKHT077" completed keep alive response.
2018-01-16 09:25:04.305 +00:00 [DBG] The request path /Views/Home/waterline.jpg does not match an existing file
2018-01-16 09:25:04.307 +00:00 [INF] Request finished in 324.8841ms 404 
2018-01-16 09:25:04.314 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:25:04.323 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Views","action=Home","id=waterline.jpg"]
2018-01-16 09:25:04.333 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Views","action=Home","id=waterline.jpg"]
2018-01-16 09:25:04.335 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:25:04.336 +00:00 [DBG] Connection id "0HLASOBKHT078" completed keep alive response.
2018-01-16 09:25:04.338 +00:00 [INF] Request finished in 260.3772ms 404 
2018-01-16 09:25:09.912 +00:00 [DBG] Connection id "0HLASOBKHT076" received FIN.
2018-01-16 09:25:09.912 +00:00 [DBG] Connection id "0HLASOBKHT077" received FIN.
2018-01-16 09:25:09.915 +00:00 [DBG] Connection id "0HLASOBKHT076" disconnecting.
2018-01-16 09:25:09.916 +00:00 [DBG] Connection id "0HLASOBKHT078" received FIN.
2018-01-16 09:25:09.921 +00:00 [DBG] Connection id "0HLASOBKHT077" disconnecting.
2018-01-16 09:25:09.922 +00:00 [DBG] Connection id "0HLASOBKHT077" sending FIN.
2018-01-16 09:25:09.922 +00:00 [DBG] Connection id "0HLASOBKHT077" stopped.
2018-01-16 09:25:09.931 +00:00 [DBG] Connection id "0HLASOBKHT078" disconnecting.
2018-01-16 09:25:09.933 +00:00 [DBG] Connection id "0HLASOBKHT076" sending FIN.
2018-01-16 09:25:09.933 +00:00 [DBG] Connection id "0HLASOBKHT076" stopped.
2018-01-16 09:25:09.934 +00:00 [DBG] Connection id "0HLASOBKHT078" sending FIN.
2018-01-16 09:25:09.936 +00:00 [DBG] Connection id "0HLASOBKHT078" stopped.
2018-01-16 09:31:22.341 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:31:22.406 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:31:22.427 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:31:22.460 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:31:22.488 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:31:22.490 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:31:22.492 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:31:22.494 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:31:22.500 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:31:22.507 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:31:22.511 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:31:22.874 +00:00 [DBG] Hosting starting
2018-01-16 09:31:23.022 +00:00 [DBG] Hosting started
2018-01-16 09:31:23.023 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:31:23.024 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:31:23.460 +00:00 [DBG] Connection id "0HLASOFKAGTRO" started.
2018-01-16 09:31:23.497 +00:00 [DBG] Connection id "0HLASOFKAGTRO" received FIN.
2018-01-16 09:31:23.500 +00:00 [DBG] Connection id "0HLASOFKAGTRO" disconnecting.
2018-01-16 09:31:23.502 +00:00 [DBG] Connection id "0HLASOFKAGTRO" sending FIN.
2018-01-16 09:31:23.508 +00:00 [DBG] Connection id "0HLASOFKAGTRO" stopped.
2018-01-16 09:31:24.820 +00:00 [DBG] Connection id "0HLASOFKAGTRP" started.
2018-01-16 09:31:24.988 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:31:25.123 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:31:25.143 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:31:25.423 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:31:25.504 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:31:25.534 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:31:25.567 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:31:25.588 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:31:27.140 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:31:29.017 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1870.6882ms.
2018-01-16 09:31:29.111 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:31:29.222 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 104.34400000000001ms.
2018-01-16 09:31:29.232 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:31:29.234 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:31:29.286 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:31:29.503 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:31:30.572 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1020.9362000000001ms.
2018-01-16 09:31:30.608 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:31:30.622 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:31:30.659 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:31:30.661 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:31:30.752 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 5245.4642ms
2018-01-16 09:31:30.941 +00:00 [DBG] Connection id "0HLASOFKAGTRP" completed keep alive response.
2018-01-16 09:31:30.945 +00:00 [INF] Request finished in 5969.2701ms 200 text/html; charset=utf-8
2018-01-16 09:31:32.495 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:31:32.501 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:31:32.505 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:31:32.508 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:31:32.513 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:31:32.526 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:31:32.536 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:31:32.544 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:31:32.557 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:31:32.559 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:31:33.196 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:31:33.237 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:31:33.249 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:31:33.287 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 772.76560000000006ms
2018-01-16 09:31:33.301 +00:00 [DBG] Connection id "0HLASOFKAGTRP" completed keep alive response.
2018-01-16 09:31:33.328 +00:00 [INF] Request finished in 832.9486ms 302 
2018-01-16 09:31:38.642 +00:00 [DBG] Connection id "0HLASOFKAGTRP" received FIN.
2018-01-16 09:31:38.644 +00:00 [DBG] Connection id "0HLASOFKAGTRP" disconnecting.
2018-01-16 09:31:38.645 +00:00 [DBG] Connection id "0HLASOFKAGTRP" sending FIN.
2018-01-16 09:31:38.645 +00:00 [DBG] Connection id "0HLASOFKAGTRP" stopped.
2018-01-16 09:31:41.604 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" started.
2018-01-16 09:31:41.651 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:31:41.660 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:31:41.697 +00:00 [DBG] Connection id "0HLASOFKAGTRQ", Request id "0HLASOFKAGTRQ:00000001": started reading request body.
2018-01-16 09:31:41.721 +00:00 [DBG] Connection id "0HLASOFKAGTRQ", Request id "0HLASOFKAGTRQ:00000001": done reading request body.
2018-01-16 09:31:41.756 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:31:41.778 +00:00 [VRB] MessageReceived: '?code=7423a9777ab40970a6630e506ce61291636054cb1080a16aa7e53b246a883e6c&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTUxMDEsImV4cCI6MTUxNjA5NTQwMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MTg5MzE4NDIzOTUuTkRkbE1qazNPRFl0TmpNNU55MDBPVFE0TFdFeFpUa3RNbVl6WmpZNU1UQTNNV1ExTW1Vd1pEWmpNbUV0T0RrME5pMDBNMk5sTFdJMU1tSXROV00zWldSalpXSmtZVE5qIiwiaWF0IjoxNTE2MDk1MTAxLCJjX2hhc2giOiJ1VnJnUVNyeUh3eVhSOGpobGxuSXBBIiwic2lkIjoiZTllYmY2ZjBlMGI1MTgyNjM1MTdhNThhZTliN2FmYmIiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTUxMDAsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.RoAaegazl8mvY4M6ri5FrbGLvG0VPoBgmUBSkJtAWX2U-3vL3AfV057HJHWRLvzAE48rBvjsLlD1utfTQQuBeuH1uWlVmXFG8sOq3GimgQmo53Bmy3uB85h_U4-MhuhIK7zqmLcEDnn5alRkSOV_rQoeJDB5FS3OYVWAa6dt5U-Ui0i1XYtJbngORhtitIVOxwh46r_joXYKW4A1AbOzMrDpeMmhfOsDQYN7O96ajSgpQxDf-Vwn93wZYn5Q_a8U5cBhcXpPwsvrdrupO5s-8c9lpNUizMJvIu1U9zXkhrDzQ3I9Kpjht5p_9GLtwZxAfq2zilk142ppYv7YN-u6gw&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO3GEZK3SpFlkIeUHE3m46CTtyUd_9DU6qPV1zKi4eGrgy8kE7zGpMFy40kH3-L0YNYSQgtfE8vGcsZ_Htj7UQlgSZHJLBmqAzpXSSjUYOtn-HtECcKupp5wuU8kHvq7eLjjLzR2Ee7xGIigjWNHvUMz_nnOWp8S21mBMLn3MCgstVAIEq4jvy2b3z2aCQY647Uin7RvXAnYssErmW94xULkrfV568FXBPrPAhDD6LBMz_VGwW7BEtTSCj4pS4vGbOZZRAWsB2PVthH-H8Yb5v6XLHMyEUEFL38zhPUgARrmo8ZFPBAwBh23uIWfqroM5d8&session_state=Se5jVKslhtoAXCLTTVKddXKROc94Us2P80PvL4rY2C8.8abe42242697de4928d9ad568b841ec6'.
2018-01-16 09:31:41.850 +00:00 [DBG] Updating configuration
2018-01-16 09:31:41.852 +00:00 [DBG] Received 'id_token'
2018-01-16 09:31:41.952 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:31:41.961 +00:00 [VRB] Authorization code received.
2018-01-16 09:31:41.965 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:31:43.633 +00:00 [VRB] Token response received.
2018-01-16 09:31:43.638 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:31:44.010 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516095100,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:31:44.023 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:31:44.028 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:31:44.035 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" completed keep alive response.
2018-01-16 09:31:44.036 +00:00 [INF] Request finished in 2384.8555ms 302 
2018-01-16 09:31:44.050 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:31:44.055 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:31:44.059 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:44.068 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:31:44.071 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:31:44.074 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:31:44.077 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:31:44.098 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:31:44.106 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:31:44.110 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:31:44.311 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:31:44.548 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 234.6918ms.
2018-01-16 09:31:44.552 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:31:44.553 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:31:44.578 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:44.583 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:44.589 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:31:44.591 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:31:44.593 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:31:44.595 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:31:44.596 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:31:44.603 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 527.0096ms
2018-01-16 09:31:44.612 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" completed keep alive response.
2018-01-16 09:31:44.614 +00:00 [INF] Request finished in 563.8123ms 200 text/html; charset=utf-8
2018-01-16 09:31:48.617 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:31:48.623 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:31:48.624 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:48.628 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:31:48.630 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:31:48.633 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:31:48.634 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:48.643 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:31:48.649 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:31:48.653 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:31:48.654 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:31:48.724 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:31:48.781 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 55.5381ms.
2018-01-16 09:31:48.785 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:31:48.785 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:31:48.797 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:31:48.798 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:31:48.799 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:31:48.801 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:31:48.802 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:31:48.805 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 170.6057ms
2018-01-16 09:31:48.809 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" completed keep alive response.
2018-01-16 09:31:48.810 +00:00 [INF] Request finished in 193.0491ms 200 text/html; charset=utf-8
2018-01-16 09:31:48.824 +00:00 [DBG] Connection id "0HLASOFKAGTRR" started.
2018-01-16 09:31:48.842 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/images/waterline.jpg  
2018-01-16 09:31:48.843 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Media/waterline.jpg  
2018-01-16 09:31:48.884 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:31:48.898 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:31:48.900 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:48.940 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:31:48.945 +00:00 [DBG] The request path /Media/waterline.jpg does not match an existing file
2018-01-16 09:31:48.948 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:31:48.953 +00:00 [INF] Sending file. Request path: '/images/waterline.jpg'. Physical path: 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\wwwroot\images\waterline.jpg'
2018-01-16 09:31:48.959 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:31:48.967 +00:00 [DBG] No actions matched the current request. Route values: ["controller=Media","action=waterline.jpg"]
2018-01-16 09:31:48.969 +00:00 [DBG] Request did not match any routes.
2018-01-16 09:31:48.969 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" completed keep alive response.
2018-01-16 09:31:48.975 +00:00 [INF] Request finished in 132.0785ms 404 
2018-01-16 09:31:48.991 +00:00 [DBG] Connection id "0HLASOFKAGTRR" completed keep alive response.
2018-01-16 09:31:48.996 +00:00 [INF] Request finished in 153.3221ms 200 image/jpeg
2018-01-16 09:31:52.446 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" received FIN.
2018-01-16 09:31:52.446 +00:00 [DBG] Connection id "0HLASOFKAGTRR" received FIN.
2018-01-16 09:31:52.448 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" disconnecting.
2018-01-16 09:31:52.449 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" sending FIN.
2018-01-16 09:31:52.450 +00:00 [DBG] Connection id "0HLASOFKAGTRQ" stopped.
2018-01-16 09:31:52.467 +00:00 [DBG] Connection id "0HLASOFKAGTRR" disconnecting.
2018-01-16 09:31:52.469 +00:00 [DBG] Connection id "0HLASOFKAGTRR" sending FIN.
2018-01-16 09:31:52.471 +00:00 [DBG] Connection id "0HLASOFKAGTRR" stopped.
2018-01-16 09:32:16.733 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:32:16.778 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:32:16.789 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:32:16.809 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:32:16.826 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:32:16.828 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:32:16.829 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:32:16.831 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:32:16.834 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:32:16.840 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:32:16.842 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:32:17.136 +00:00 [DBG] Hosting starting
2018-01-16 09:32:17.265 +00:00 [DBG] Connection id "0HLASOG4BKV3O" started.
2018-01-16 09:32:17.304 +00:00 [DBG] Connection id "0HLASOG4BKV3O" received FIN.
2018-01-16 09:32:17.305 +00:00 [DBG] Connection id "0HLASOG4BKV3O" disconnecting.
2018-01-16 09:32:17.309 +00:00 [DBG] Connection id "0HLASOG4BKV3O" sending FIN.
2018-01-16 09:32:17.312 +00:00 [DBG] Connection id "0HLASOG4BKV3O" stopped.
2018-01-16 09:32:17.348 +00:00 [DBG] Hosting started
2018-01-16 09:32:17.349 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:32:17.349 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:32:18.752 +00:00 [DBG] Connection id "0HLASOG4BKV3P" started.
2018-01-16 09:32:18.843 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:32:18.983 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:32:19.001 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:32:19.168 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:32:19.222 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:32:19.242 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:32:19.253 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:32:19.265 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:32:20.517 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:32:21.985 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Index.cshtml' completed in 1463.5354ms.
2018-01-16 09:32:22.064 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:32:22.127 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\_ViewStart.cshtml' completed in 60.190200000000004ms.
2018-01-16 09:32:22.134 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:32:22.135 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:32:22.183 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:32:22.277 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:32:22.875 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 596.0177ms.
2018-01-16 09:32:22.892 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:32:22.894 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:32:22.917 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:32:22.919 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:32:22.968 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 3744.1133ms
2018-01-16 09:32:22.985 +00:00 [DBG] Connection id "0HLASOG4BKV3P" completed keep alive response.
2018-01-16 09:32:23.008 +00:00 [INF] Request finished in 4172.5896ms 200 text/html; charset=utf-8
2018-01-16 09:32:32.578 +00:00 [DBG] Connection id "0HLASOG4BKV3P" received FIN.
2018-01-16 09:32:32.581 +00:00 [DBG] Connection id "0HLASOG4BKV3P" disconnecting.
2018-01-16 09:32:32.582 +00:00 [DBG] Connection id "0HLASOG4BKV3P" sending FIN.
2018-01-16 09:32:32.582 +00:00 [DBG] Connection id "0HLASOG4BKV3P" stopped.
2018-01-16 09:32:55.468 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" started.
2018-01-16 09:32:55.471 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:32:55.475 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:32:55.477 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:32:55.483 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:32:55.488 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:32:55.499 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:32:55.505 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:32:55.517 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:32:55.531 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:32:55.532 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:32:55.976 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:32:55.983 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:32:55.986 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:32:55.989 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 499.2332ms
2018-01-16 09:32:55.996 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:32:55.998 +00:00 [INF] Request finished in 527.0577ms 302 
2018-01-16 09:33:03.253 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 09:33:03.269 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:33:03.287 +00:00 [DBG] Connection id "0HLASOG4BKV3Q", Request id "0HLASOG4BKV3Q:00000002": started reading request body.
2018-01-16 09:33:03.300 +00:00 [DBG] Connection id "0HLASOG4BKV3Q", Request id "0HLASOG4BKV3Q:00000002": done reading request body.
2018-01-16 09:33:03.327 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:33:03.340 +00:00 [VRB] MessageReceived: '?code=6633fb3f19cebf8575ef86ae03bded40bec15ed0bbdd414324ef01ba21d32a6f&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTUxODMsImV4cCI6MTUxNjA5NTQ4MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MTk3NTk2OTMzNzcuWXpWak56UTRaRFl0TkRkbU1DMDBaalJtTFdGbE1Ua3RabVZrTmpVeFl6STJaR1V3WWpZMFpqSTFZelV0TVdZeU55MDBPVEZqTFRoa01UQXRNekpqTXpNMllqSm1aRGhqIiwiaWF0IjoxNTE2MDk1MTgzLCJjX2hhc2giOiIyd05ZbjNCUkpXYjV3eDg0MUUwQ3pRIiwic2lkIjoiOTY0YzEzYzNmNThiZDE2ZDU2ZDAyZDllOGI5MzNkYjEiLCJzdWIiOiJhYjYzNjBjOS1jNGM5LTRjZDctOWY2NS0wMjQ2MWI4MGRmNjkiLCJhdXRoX3RpbWUiOjE1MTYwOTUxODIsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJjMGM3NGE2OC04ZWM4LTQ2MzYtYmFlNi00MTBhOTM2M2NhY2EiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.nJLu71tkRgNO6w_XiYyCzsN5F3wqdG3yeOiiDoJlPu5SvawgwYzqaTmQLkhpGCeglZsl7ABp0FNDPqQdC9hkRD4jAbueQERHDswaRT7JEw8vS-R7hGTlF-qesN1g_dll08o5_1I-1rIrCBdLmx2Nyber8fe2-04hoqgbU48R3Yi0n_hhx5BCsxePewdD6Oq5Qw_WGeXCkAao9Y6YEdNPZeG6r6iAFvh6LZwBLBDhFTzGSboqbaPp1P4PEXoQ4y5tc1tma6huAh5f1r4NgSNfX7qH362iRLER61c8IIddI_wju_71b6RiMJdPNJMsico3wwnVphoyJ4tiMrT26s6Csw&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO0D2k-WbTCvZDmfpntiv3scGN1nZvvQABzbnnnPaXtn_SeQ2QX8_x4ylgKwZVBBiAn0PSIM53u33IWKvEB64okkgbN-SnLJ48LdKcoIdt6mojPEGUaIBYGmBJ24QxTQDSoZEJ7wjeiCb-Nejj9yGonz2it66MUr2DFhgUINxBLdu9hMwaLhj5MpAcxckQwoMSqt7t2uwpcX0o3IPIAC9n14zXc0HKchS6FraKeWe9rsfz8AQorPrHWd-28zGT4eUNtIS4yE9DjnEUvc54Xsvx-IERD23hZtkdz9-pnxFBr4ouG7WQTDYIJPl6zTKkCp3c0&session_state=6G0a4fXLeKPhIKAzma5uZbFeB-lufrW3ayR2zEeBGbE.0f97c3971a5840ee7e0ec98eed4a94e1'.
2018-01-16 09:33:03.373 +00:00 [DBG] Updating configuration
2018-01-16 09:33:03.375 +00:00 [DBG] Received 'id_token'
2018-01-16 09:33:03.439 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:33:03.446 +00:00 [VRB] Authorization code received.
2018-01-16 09:33:03.448 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:33:04.080 +00:00 [VRB] Token response received.
2018-01-16 09:33:04.083 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:33:04.312 +00:00 [VRB] User information received: {
  "sub": "ab6360c9-c4c9-4cd7-9f65-02461b80df69",
  "auth_time": 1516095182,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "c0c74a68-8ec8-4636-bae6-410a9363caca",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:33:04.322 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:04.325 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:33:04.330 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:04.332 +00:00 [INF] Request finished in 1079.0777ms 302 
2018-01-16 09:33:04.338 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:33:04.341 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:04.343 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:04.349 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:33:04.350 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:04.351 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:33:04.352 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:33:04.355 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:33:04.364 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:33:04.365 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:33:04.432 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:33:04.643 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Secure.cshtml' completed in 210.1005ms.
2018-01-16 09:33:04.650 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:33:04.650 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:33:04.667 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:04.670 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:04.676 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:33:04.677 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:04.681 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:04.682 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:04.683 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:04.686 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 334.3528ms
2018-01-16 09:33:04.693 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:04.696 +00:00 [INF] Request finished in 358.0554ms 200 text/html; charset=utf-8
2018-01-16 09:33:18.369 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:33:18.382 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:18.386 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:18.390 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:33:18.392 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:18.396 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:33:18.398 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:18.405 +00:00 [INF] Authorization failed for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:33:18.410 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:33:18.421 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 09:33:18.475 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 09:33:18.480 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 82.819600000000008ms
2018-01-16 09:33:18.484 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:18.487 +00:00 [INF] Request finished in 118.2789ms 302 
2018-01-16 09:33:18.492 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:33:18.497 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:18.499 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:18.502 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 09:33:18.503 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 09:33:18.510 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 09:33:18.511 +00:00 [INF] Authorization was successful for user: ab6360c9-c4c9-4cd7-9f65-02461b80df69.
2018-01-16 09:33:18.517 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 09:33:18.519 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:33:18.523 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:33:18.524 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 09:33:18.604 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 09:33:18.681 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 75.3471ms.
2018-01-16 09:33:18.684 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 09:33:18.685 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 09:33:18.692 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 09:33:18.694 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:18.695 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:18.696 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:18.697 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:18.700 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 188.5535ms
2018-01-16 09:33:18.710 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:18.714 +00:00 [INF] Request finished in 221.7715ms 200 text/html; charset=utf-8
2018-01-16 09:33:21.932 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 09:33:21.938 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:21.940 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:21.943 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 09:33:21.946 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:21.955 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 09:33:21.956 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:33:21.965 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 09:33:21.971 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 09:33:21.972 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 09:33:21.974 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:21.979 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:33:21.981 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 09:33:21.984 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 09:33:21.986 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 29.809ms
2018-01-16 09:33:21.990 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:21.991 +00:00 [INF] Request finished in 58.826ms 302 
2018-01-16 09:33:23.627 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO0T8F80Xg7jiIV_EC1DqZ-t79qi3x7igvjQYcmoSBOA8wSSUdmwA2KvDkmJwzBEG2z-asN28Uu9xcijoMZe-di6lMcz0phNqbrwgVGJGh20-OMMRUEKqF9Ba7R6RJsJ1VxsfC0ryXJWKW5qhW-e1DD-  
2018-01-16 09:33:23.633 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:33:23.635 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:23.636 +00:00 [INF] Request finished in 9.2805ms 302 
2018-01-16 09:33:23.642 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:33:23.647 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:33:23.649 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:33:23.652 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:23.654 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:33:23.655 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:33:23.660 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:33:23.662 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 09:33:23.663 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:33:23.665 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:33:23.669 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:33:23.670 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:23.673 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:23.674 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:23.675 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:23.677 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 22.034200000000002ms
2018-01-16 09:33:23.697 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:23.706 +00:00 [INF] Request finished in 63.9573ms 200 text/html; charset=utf-8
2018-01-16 09:33:24.699 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:33:24.703 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:33:24.704 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:33:24.705 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:24.707 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:33:24.708 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:33:24.711 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:33:24.716 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:33:24.719 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:33:24.720 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:33:24.723 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:33:24.724 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:33:24.726 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:33:24.734 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 25.7859ms
2018-01-16 09:33:24.739 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:24.740 +00:00 [INF] Request finished in 41.2623ms 302 
2018-01-16 09:33:31.854 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:33:31.859 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:33:31.862 +00:00 [DBG] Connection id "0HLASOG4BKV3Q", Request id "0HLASOG4BKV3Q:0000000A": started reading request body.
2018-01-16 09:33:31.865 +00:00 [DBG] Connection id "0HLASOG4BKV3Q", Request id "0HLASOG4BKV3Q:0000000A": done reading request body.
2018-01-16 09:33:31.869 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:33:31.871 +00:00 [VRB] MessageReceived: '?code=bb57f91ffa2c2ce1f2114ed53f56293dc6f0ebf8de84240235350180fd77eb92&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTUyMTEsImV4cCI6MTUxNjA5NTUxMSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MjAwNDcyMzI4NzcuWXpSalpUSXhPR1V0WkdObU1DMDBNamN3TFRrMVlqQXRZakkyTWpsbVpEUmpabUk0TjJaalltVTRZMll0WkRBek1TMDBNV0poTFRsaE1EY3RNR00xTjJWaU5URTNNamhpIiwiaWF0IjoxNTE2MDk1MjExLCJjX2hhc2giOiJxREtoVTVEU19JbU5OclZmamVEWUZnIiwic2lkIjoiNTQxOGEwZjg0MjYzZjcxNjU4OGM1MjIxYzhmOTYzNjkiLCJzdWIiOiJmMzZjYmMzYS0zYTBhLTQ3OTYtODBkNy05Yzg2ZjM4YTFhZTMiLCJhdXRoX3RpbWUiOjE1MTYwOTUyMTEsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIxMjQ1ZTY4Yy02YzBhLTQzNjMtYmUyNy1jOGVmOGE1ODA4YzMiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.NjTKOaX-vxbhuVRAuXadRR0H4UktENomQuSu2xcUN9AHRWKqPbj_qY1zqxz7n30c3yMKTH_rl9n42wS1xKKqFHBRek1GvHmr80SGb0OF8XCnUKwe2fC_OGin2AxQz5UE5meaxJ8o3q0JViARFfNQyP4Pv1Akiq_bavllQXKIAjLfqlu50TSmSkMUOSViX2OkCgIjCjXrF4Lk1Z5crGNOfWiunKQ12wNuUjdFFH8whunKpDgs2nbudTegMYfwZKo4M6Pw40YVhntgIy_PvQEl2uRelwtQUMwOLQbqLzjZyWZraRYwN87Z3SWcDI28f5JTnI5-pGywWPGMAH3jM8xeXA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2Dzr4U1GI4eWl0GtPH8JgLUaULBB7C3_mhhLU_iwr92yz9yZb3zAxamw68o6-qMA0LlWHq94WzyXyNHQGabuGIJdQC5qFnKY-qoIUGCskxVa90meOia0FyixBdXmjpZzlnKQwQQyoHrnNZJi2XXZJ1iYuTl20RVioIKPI7yjBkPX1nZElTmJQUTDhcZukidA1WrZIqgS1L75JyPRBJdzE9CTRYe9ntlTZcS1dEXv8ndVCgHxUptJ_aUpX7QFCyd4uXKcgmz3Kz6V4AeoQNGTqUONvU4gjRhN0DLOlwthgDaYmMowYVms9T7HImnXyOh3s&session_state=kA84kbArPA4hH9iqmjBf0-Xey5bnRxyaRnl2vC-0WXU.38476bcae605e831bed20ab6bf0e3fbc'.
2018-01-16 09:33:31.885 +00:00 [DBG] Updating configuration
2018-01-16 09:33:31.886 +00:00 [DBG] Received 'id_token'
2018-01-16 09:33:31.889 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:33:31.891 +00:00 [VRB] Authorization code received.
2018-01-16 09:33:31.892 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:33:32.557 +00:00 [VRB] Token response received.
2018-01-16 09:33:32.559 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:33:32.791 +00:00 [VRB] User information received: {
  "sub": "f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3",
  "auth_time": 1516095211,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "1245e68c-6c0a-4363-be27-c8ef8a5808c3",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:33:32.797 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:32.800 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:33:32.803 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:32.810 +00:00 [INF] Request finished in 954.9892ms 302 
2018-01-16 09:33:32.836 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:33:32.846 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:32.851 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:32.854 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:33:32.855 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:32.856 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:33:32.865 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:33:32.870 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:33:32.874 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:33:32.883 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 09:33:32.884 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:33:32.885 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:33:32.888 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:32.892 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:32.897 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:33:32.899 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:32.900 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:32.901 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:32.902 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:32.903 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 38.2198ms
2018-01-16 09:33:32.909 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:32.913 +00:00 [INF] Request finished in 76.8094ms 200 text/html; charset=utf-8
2018-01-16 09:33:39.939 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:33:39.945 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:33:39.948 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:39.951 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:33:39.952 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:33:39.953 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:33:39.954 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:33:39.962 +00:00 [INF] Authorization was successful for user: f36cbc3a-3a0a-4796-80d7-9c86f38a1ae3.
2018-01-16 09:33:39.966 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:33:39.971 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:33:39.971 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:33:40.050 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:33:40.120 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\IdentityServer4-master\IdentityServer4-master\src\MvcClient\Views\Home\Administrator.cshtml' completed in 68.5507ms.
2018-01-16 09:33:40.123 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:33:40.124 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:33:40.135 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:33:40.136 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:40.137 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:40.139 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:33:40.140 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:33:40.141 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 186.48940000000002ms
2018-01-16 09:33:40.149 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" completed keep alive response.
2018-01-16 09:33:40.151 +00:00 [INF] Request finished in 211.5705ms 200 text/html; charset=utf-8
2018-01-16 09:33:44.703 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" received FIN.
2018-01-16 09:33:44.705 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" disconnecting.
2018-01-16 09:33:44.706 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" sending FIN.
2018-01-16 09:33:44.706 +00:00 [DBG] Connection id "0HLASOG4BKV3Q" stopped.
2018-01-16 09:45:50.386 +00:00 [INF] User profile is available. Using 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2018-01-16 09:45:50.475 +00:00 [DBG] Reading data from file 'C:\Users\cjrayner-rose\AppData\Local\ASP.NET\DataProtection-Keys\key-36057470-18ae-4ef5-b357-7c21cbc1c4ed.xml'.
2018-01-16 09:45:50.501 +00:00 [DBG] Found key "36057470-18ae-4ef5-b357-7c21cbc1c4ed".
2018-01-16 09:45:50.546 +00:00 [DBG] Considering key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with expiration date "2018-02-27T08:16:48.3866174+00:00" as default key.
2018-01-16 09:45:50.605 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:45:50.613 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2018-01-16 09:45:50.618 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.0.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2018-01-16 09:45:50.620 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2018-01-16 09:45:50.626 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2018-01-16 09:45:50.634 +00:00 [DBG] Using key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" as the default key.
2018-01-16 09:45:50.637 +00:00 [DBG] Key ring with default key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" was loaded during application startup.
2018-01-16 09:45:51.435 +00:00 [DBG] Hosting starting
2018-01-16 09:45:51.968 +00:00 [DBG] Hosting started
2018-01-16 09:45:51.975 +00:00 [DBG] Loaded hosting startup assembly MvcClient
2018-01-16 09:45:51.976 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.ApplicationInsights.HostingStartup
2018-01-16 09:45:52.183 +00:00 [DBG] Connection id "0HLASONN78D03" started.
2018-01-16 09:45:52.183 +00:00 [DBG] Connection id "0HLASONN78D04" started.
2018-01-16 09:45:52.255 +00:00 [DBG] Connection id "0HLASONN78D03" received FIN.
2018-01-16 09:45:52.255 +00:00 [DBG] Connection id "0HLASONN78D04" received FIN.
2018-01-16 09:45:52.257 +00:00 [DBG] Connection id "0HLASONN78D03" disconnecting.
2018-01-16 09:45:52.260 +00:00 [DBG] Connection id "0HLASONN78D03" sending FIN.
2018-01-16 09:45:52.260 +00:00 [DBG] Connection id "0HLASONN78D04" disconnecting.
2018-01-16 09:45:52.271 +00:00 [DBG] Connection id "0HLASONN78D04" sending FIN.
2018-01-16 09:45:52.274 +00:00 [DBG] Connection id "0HLASONN78D03" stopped.
2018-01-16 09:45:52.274 +00:00 [DBG] Connection id "0HLASONN78D04" stopped.
2018-01-16 09:45:55.857 +00:00 [DBG] Connection id "0HLASONN78D05" started.
2018-01-16 09:45:56.493 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:45:56.935 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:45:57.054 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:45:57.673 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:45:57.847 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:45:57.878 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:45:57.891 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:45:57.909 +00:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2018-01-16 09:46:01.252 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' started.
2018-01-16 09:46:05.258 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Index.cshtml' completed in 3963.5808ms.
2018-01-16 09:46:05.502 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' started.
2018-01-16 09:46:05.876 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\_ViewStart.cshtml' completed in 369.92150000000004ms.
2018-01-16 09:46:05.903 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:46:05.923 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:46:06.079 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2018-01-16 09:46:06.332 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' started.
2018-01-16 09:46:07.809 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Shared\_Layout.cshtml' completed in 1463.6799ms.
2018-01-16 09:46:07.849 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:46:07.881 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:46:07.944 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:46:07.950 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:46:08.064 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 10213.9981ms
2018-01-16 09:46:08.166 +00:00 [DBG] Connection id "0HLASONN78D05" completed keep alive response.
2018-01-16 09:46:08.218 +00:00 [INF] Request finished in 11736.6933ms 200 text/html; charset=utf-8
2018-01-16 09:46:17.774 +00:00 [DBG] Connection id "0HLASONN78D05" received FIN.
2018-01-16 09:46:17.776 +00:00 [DBG] Connection id "0HLASONN78D05" disconnecting.
2018-01-16 09:46:17.777 +00:00 [DBG] Connection id "0HLASONN78D05" sending FIN.
2018-01-16 09:46:17.777 +00:00 [DBG] Connection id "0HLASONN78D05" stopped.
2018-01-16 09:46:23.132 +00:00 [DBG] Connection id "0HLASONN78D06" started.
2018-01-16 09:46:23.137 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:46:23.142 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:46:23.147 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:46:23.148 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:46:23.151 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:46:23.165 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:46:23.180 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:46:23.188 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:46:23.198 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:46:23.199 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:46:25.910 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:46:25.919 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:46:25.923 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:46:25.928 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 2775.733ms
2018-01-16 09:46:25.933 +00:00 [DBG] Connection id "0HLASONN78D06" completed keep alive response.
2018-01-16 09:46:25.935 +00:00 [INF] Request finished in 2797.7213ms 302 
2018-01-16 09:46:27.775 +00:00 [DBG] Connection id "0HLASONN78D06" received FIN.
2018-01-16 09:46:27.784 +00:00 [DBG] Connection id "0HLASONN78D06" disconnecting.
2018-01-16 09:46:27.784 +00:00 [DBG] Connection id "0HLASONN78D06" sending FIN.
2018-01-16 09:46:27.784 +00:00 [DBG] Connection id "0HLASONN78D06" stopped.
2018-01-16 09:46:43.053 +00:00 [DBG] Connection id "0HLASONN78D07" started.
2018-01-16 09:46:43.068 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1891
2018-01-16 09:46:43.132 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:46:43.169 +00:00 [DBG] Connection id "0HLASONN78D07", Request id "0HLASONN78D07:00000001": started reading request body.
2018-01-16 09:46:43.207 +00:00 [DBG] Connection id "0HLASONN78D07", Request id "0HLASONN78D07:00000001": done reading request body.
2018-01-16 09:46:43.231 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:46:43.238 +00:00 [VRB] MessageReceived: '?code=cfd1283521ad97702866287dbb7aa1167465062e23ac52e15eaf915cbecccad4&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTYwMDIsImV4cCI6MTUxNjA5NjMwMiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5Mjc4NTkwMTAwMjUuWkdSa01EZGhaamN0WWpFd1pTMDBNR013TFdGbFlUWXROVFZqTnpFM056QmlNRGczTnpnd1pUWTRabVV0WmpFMk5pMDBPRFZqTFdFelpEVXRPVFZoT1dFME5UWTBaRE0wIiwiaWF0IjoxNTE2MDk2MDAyLCJjX2hhc2giOiJZOTdlNDVIdlZOdnl1WGJwdVFvSC1nIiwic2lkIjoiNTM3YTc1YTZlYzI4YTZkNTg5Yzg5MTBlMDhmNmQ1YzkiLCJzdWIiOiIyZTUwY2M4Zi1kYzRjLTQxMWUtOTFlOS03ZWYwYzc5YzBkMDIiLCJhdXRoX3RpbWUiOjE1MTYwOTYwMDAsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiIzOWJkOTJjZi02M2NmLTQxMWYtOWIwMy00NGI4YzdlMDcxOWYiLCJpbnRlcm5hbHBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiSW50ZXJuYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJuYW1lIjoiaW50ZXJuYWx1c2VyQG1haWwuY29tIiwiZW1haWwiOiJpbnRlcm5hbHVzZXJAbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImFtciI6WyJwd2QiXX0.h3G2ZVeCOfJEBcBHi4Wq3qKmgvNasCsri9N26nx47sbH7Nx_jrqC6NlrhyxLvoLEDxR2ZQlT2gnbi5DQtI1Exwg9V1Xh9pBT7zyI5PR_FS0ywx3fEmC4C1QddVjwDNrCRkVeigYRLhNLJjvo2ortkbPYokHMLn2UP4ZBUFPmfVQNu3BWrvQxQ6LZmaBSg1-qK3OYf_Yjy_Dvpt_aCJgjl6vIvc9jiujfc0VwWotuL0IUHSwCFr3bX5BQwEIF2jGxsJHB-dTgFtNDkqCqdX11GYHJ8QbgRkbuxLGiDEYsV6krj-bE2fEsXpZ12pwp_0BMGAOORxgrJbnI6dBQKfbxPA&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO1jW2YuVObIjgTER8erGYrYhi37FTbizDuWyMc1tJJ41CyBBASMSb9IH90m7NfujMdOt66syjPNKL_GgiGaTuwXX-fBrFROIktCONrs52vI-AAN6fE8FCIdWoZytUzMJjdycxYslnlHiStt6vNwe7duB8aooMgcndjF7-oZ13NiM-PAeiX27Pp2vkUF-220JmfkWihpvwPUq49gAuWbTQqBeOXH-kVfl8ERs0Q3MFyJbUHlBgnOkRuSUlKkoqtB69gG1fTni3ynHOpzsSTg_ucqMKH3oiJzq-omjZWyXuXT0taF2tI8y6fll9ckoCi5H1A&session_state=CNIdJ6GvY-1LKnmkG1uP8rJKLI6jxpFFpNiQa8RNrH8.8e122f7d84a7beddf1b6530c23836809'.
2018-01-16 09:46:43.249 +00:00 [DBG] Updating configuration
2018-01-16 09:46:43.251 +00:00 [DBG] Received 'id_token'
2018-01-16 09:46:43.411 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:46:43.434 +00:00 [VRB] Authorization code received.
2018-01-16 09:46:43.443 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:46:47.944 +00:00 [VRB] Token response received.
2018-01-16 09:46:47.951 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:46:49.897 +00:00 [VRB] User information received: {
  "sub": "2e50cc8f-dc4c-411e-91e9-7ef0c79c0d02",
  "auth_time": 1516096000,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "39bd92cf-63cf-411f-9b03-44b8c7e0719f",
  "internalpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Internal",
  "preferred_username": "internaluser@mail.com",
  "name": "internaluser@mail.com",
  "email": "internaluser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:46:49.914 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:46:49.924 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:46:49.942 +00:00 [DBG] Connection id "0HLASONN78D07" completed keep alive response.
2018-01-16 09:46:49.952 +00:00 [INF] Request finished in 6884.4579ms 302 
2018-01-16 09:46:49.969 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:46:49.975 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:46:49.979 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:49.988 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:46:49.994 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:46:50.000 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:46:50.004 +00:00 [INF] Authorization was successful for user: 2e50cc8f-dc4c-411e-91e9-7ef0c79c0d02.
2018-01-16 09:46:50.026 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:46:50.037 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:46:50.044 +00:00 [DBG] View lookup cache miss for view 'Secure' in controller 'Home'.
2018-01-16 09:46:50.159 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' started.
2018-01-16 09:46:50.564 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Secure.cshtml' completed in 402.94440000000003ms.
2018-01-16 09:46:50.570 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:46:50.571 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:46:50.594 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:50.599 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:50.602 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:46:50.604 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:46:50.605 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:46:50.609 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:46:50.611 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:46:50.617 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 613.8319ms
2018-01-16 09:46:50.781 +00:00 [DBG] Connection id "0HLASONN78D07" completed keep alive response.
2018-01-16 09:46:50.853 +00:00 [INF] Request finished in 883.9878ms 200 text/html; charset=utf-8
2018-01-16 09:46:55.170 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:46:55.178 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:46:55.185 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:55.195 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:46:55.203 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:46:55.212 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:46:55.229 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:55.245 +00:00 [INF] Authorization failed for user: 2e50cc8f-dc4c-411e-91e9-7ef0c79c0d02.
2018-01-16 09:46:55.253 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:46:55.288 +00:00 [INF] Executing ForbidResult with authentication schemes (["Cookies"]).
2018-01-16 09:46:55.313 +00:00 [INF] AuthenticationScheme: Cookies was forbidden.
2018-01-16 09:46:55.324 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 94.9953ms
2018-01-16 09:46:55.344 +00:00 [DBG] Connection id "0HLASONN78D07" completed keep alive response.
2018-01-16 09:46:55.348 +00:00 [INF] Request finished in 178.1235ms 302 
2018-01-16 09:46:55.366 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Account/AccessDenied?ReturnUrl=%2FHome%2FAdministrator  
2018-01-16 09:46:55.378 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:46:55.380 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:55.388 +00:00 [DBG] The request path /Account/AccessDenied does not match a supported file type
2018-01-16 09:46:55.393 +00:00 [DBG] Request successfully matched the route with name 'null' and template 'Account/AccessDenied'.
2018-01-16 09:46:55.407 +00:00 [DBG] Executing action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient)
2018-01-16 09:46:55.410 +00:00 [INF] Authorization was successful for user: 2e50cc8f-dc4c-411e-91e9-7ef0c79c0d02.
2018-01-16 09:46:55.418 +00:00 [DBG] The temp data cookie .AspNetCore.Mvc.CookieTempDataProvider was not found.
2018-01-16 09:46:55.421 +00:00 [INF] Executing action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:46:55.429 +00:00 [DBG] Executed action method IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:46:55.431 +00:00 [DBG] View lookup cache miss for view 'AccessDenied' in controller 'Account'.
2018-01-16 09:46:55.593 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Account\AccessDenied.cshtml' started.
2018-01-16 09:46:56.065 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Account\AccessDenied.cshtml' completed in 469.0847ms.
2018-01-16 09:46:56.072 +00:00 [DBG] The view 'AccessDenied' was found.
2018-01-16 09:46:56.079 +00:00 [INF] Executing ViewResult, running view at path /Views/Account/AccessDenied.cshtml.
2018-01-16 09:46:56.096 +00:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2018-01-16 09:46:56.103 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:46:56.113 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:46:56.129 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:46:56.132 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:46:56.136 +00:00 [INF] Executed action IdentityServerWithAspNetIdentity.Controllers.AccountController.AccessDenied (MvcClient) in 726.7677ms
2018-01-16 09:46:56.205 +00:00 [DBG] Connection id "0HLASONN78D07" completed keep alive response.
2018-01-16 09:46:56.212 +00:00 [INF] Request finished in 846.1589ms 200 text/html; charset=utf-8
2018-01-16 09:46:57.779 +00:00 [DBG] Connection id "0HLASONN78D07" received FIN.
2018-01-16 09:46:57.781 +00:00 [DBG] Connection id "0HLASONN78D07" disconnecting.
2018-01-16 09:46:57.782 +00:00 [DBG] Connection id "0HLASONN78D07" sending FIN.
2018-01-16 09:46:57.782 +00:00 [DBG] Connection id "0HLASONN78D07" stopped.
2018-01-16 09:46:58.249 +00:00 [DBG] Connection id "0HLASONN78D08" started.
2018-01-16 09:46:58.253 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Logout  
2018-01-16 09:46:58.259 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:46:58.261 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:58.266 +00:00 [DBG] The request path /Home/Logout does not match a supported file type
2018-01-16 09:46:58.267 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:46:58.280 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Logout (MvcClient)
2018-01-16 09:46:58.281 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Logout (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:46:58.291 +00:00 [INF] AuthenticationScheme: Cookies signed out.
2018-01-16 09:46:58.298 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleSignOutAsync.
2018-01-16 09:46:58.300 +00:00 [VRB] Using properties.RedirectUri for redirect post authentication: 'http://localhost:5002/'.
2018-01-16 09:46:58.301 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:46:58.304 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:46:58.307 +00:00 [INF] AuthenticationScheme: oidc signed out.
2018-01-16 09:46:58.313 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Logout (MvcClient), returned result Microsoft.AspNetCore.Mvc.EmptyResult.
2018-01-16 09:46:58.316 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Logout (MvcClient) in 34.632200000000005ms
2018-01-16 09:46:58.319 +00:00 [DBG] Connection id "0HLASONN78D08" completed keep alive response.
2018-01-16 09:46:58.321 +00:00 [INF] Request finished in 67.2707ms 302 
2018-01-16 09:47:01.467 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/signout-callback-oidc?state=CfDJ8HB0BTauGPVOs1d8IcvBxO2IWZmBdQSwByJtRzeaDLdEBlVE1pRetq2Y2Uq7I7GmNHJvj9UgrAZalv0ZegsbGd3u2U9gQAT8kqW5lnX_Aj0kVP3MR2-yyJZBFt2avBHY0PgavRcuH3u5lOLUbYclcmNmsv5gDpHVBx1m3NoqiAOb  
2018-01-16 09:47:01.481 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:47:01.484 +00:00 [DBG] Connection id "0HLASONN78D08" completed keep alive response.
2018-01-16 09:47:01.486 +00:00 [INF] Request finished in 19.9479ms 302 
2018-01-16 09:47:01.499 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:47:01.503 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:47:01.505 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:47:01.511 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:47:01.514 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:47:01.516 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:47:01.529 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:47:01.532 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 09:47:01.533 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:47:01.534 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:47:01.544 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:47:01.548 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:01.549 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:01.551 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:01.555 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:01.629 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 112.57100000000001ms
2018-01-16 09:47:01.695 +00:00 [DBG] Connection id "0HLASONN78D08" completed keep alive response.
2018-01-16 09:47:01.746 +00:00 [INF] Request finished in 247.118ms 200 text/html; charset=utf-8
2018-01-16 09:47:03.211 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:47:03.216 +00:00 [DBG] AuthenticationScheme: Cookies was not authenticated.
2018-01-16 09:47:03.217 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:47:03.219 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:47:03.221 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:47:03.222 +00:00 [INF] Authorization failed for user: null.
2018-01-16 09:47:03.229 +00:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2018-01-16 09:47:03.234 +00:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2018-01-16 09:47:03.241 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleUnauthorizedAsync.
2018-01-16 09:47:03.243 +00:00 [VRB] Using properties.RedirectUri for 'local redirect' post authentication: 'http://localhost:5002/Home/Secure'.
2018-01-16 09:47:03.246 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:47:03.249 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:47:03.251 +00:00 [INF] AuthenticationScheme: oidc was challenged.
2018-01-16 09:47:03.255 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 33.6672ms
2018-01-16 09:47:03.263 +00:00 [DBG] Connection id "0HLASONN78D08" completed keep alive response.
2018-01-16 09:47:03.267 +00:00 [INF] Request finished in 55.7511ms 302 
2018-01-16 09:47:07.780 +00:00 [DBG] Connection id "0HLASONN78D08" received FIN.
2018-01-16 09:47:07.784 +00:00 [DBG] Connection id "0HLASONN78D08" disconnecting.
2018-01-16 09:47:07.785 +00:00 [DBG] Connection id "0HLASONN78D08" sending FIN.
2018-01-16 09:47:07.785 +00:00 [DBG] Connection id "0HLASONN78D08" stopped.
2018-01-16 09:47:12.202 +00:00 [DBG] Connection id "0HLASONN78D09" started.
2018-01-16 09:47:12.219 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5002/signin-oidc application/x-www-form-urlencoded 1882
2018-01-16 09:47:12.251 +00:00 [VRB] Entering Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler's HandleRemoteAuthenticateAsync.
2018-01-16 09:47:12.255 +00:00 [DBG] Connection id "0HLASONN78D09", Request id "0HLASONN78D09:00000001": started reading request body.
2018-01-16 09:47:12.326 +00:00 [DBG] Connection id "0HLASONN78D09", Request id "0HLASONN78D09:00000001": done reading request body.
2018-01-16 09:47:12.328 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'oidc', 'v1').
2018-01-16 09:47:12.331 +00:00 [VRB] MessageReceived: '?code=3a688928f92abbd1b70c6e0493692bcaadb576cbf8999df2ebe059e993160225&id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjRmOWI2MGI5NWQzODY0NTkzOTcwZWU2Y2Y1YmQ3NjFiIiwidHlwIjoiSldUIn0.eyJuYmYiOjE1MTYwOTYwMzIsImV4cCI6MTUxNjA5NjMzMiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoibXZjIiwibm9uY2UiOiI2MzY1MTY5MjgyMzI0NjcyNDAuTjJRMU0yVmpZMk10TVRNNVlpMDBaakF4TFdGbVpqY3RaR0ZtWmpnNU1EUXlZMkk0WVdVMllqZzNaR010WWpreE5pMDBOV1E0TFRrMk9ESXRNVFUzTXpFMU5qZzRZalE1IiwiaWF0IjoxNTE2MDk2MDMyLCJjX2hhc2giOiJsOUVjbmtxdE50YW5wSW5ZTVhZZE1BIiwic2lkIjoiYWRmZjhkMjIzMWMyZGI3MTg3NmFlOTQ1MDc4N2FjZjMiLCJzdWIiOiJiY2Y5ZDBhNi04N2VkLTQ2YzMtYTQyZC0wNDM3MDRkMjA5Y2YiLCJhdXRoX3RpbWUiOjE1MTYwOTYwMzEsImlkcCI6ImxvY2FsIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiI3MzgwZWJhOC1iMGQ2LTQ0MDMtYmE5Yy1iNDhmZjQ4NWU0ZWEiLCJhZG1pbnBlcm1pc3Npb24iOlsiQ3JlYXRlIiwiUmVhZCIsIlVwZGF0ZSIsIkRlbGV0ZSJdLCJyb2xlIjoiQWRtaW5pc3RyYXRvciIsInByZWZlcnJlZF91c2VybmFtZSI6InN1cGVydXNlckBtYWlsLmNvbSIsIm5hbWUiOiJzdXBlcnVzZXJAbWFpbC5jb20iLCJlbWFpbCI6InN1cGVydXNlckBtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiYW1yIjpbInB3ZCJdfQ.Fat9_DXcYlSgY6Yr_dIaGXWCWv3SvOl3Di8XQoIXAVU1FmrZ4AVxUl5Y4PRXrW-DqWTgaLF2NkHex1gV796fNdKUj3zBOnTueQnp0D-9HKUGN48fq7eHs1G6UBkLnUt82CbACYLb-oJfpcqCyghrHbJIZRcQebruwjn5oQnBYbfWXVMWPZg2KaFdip3fX0HYRroscnoc0rrMjhZK-sue3O8gOSNfhJBXu_AndSrvmgfGfA4nymIb8bYXVo8uLOWk-ZLK4F1KfYBgmz2qtyz1msO92_GvZwjo4lQLV3uk43_Xc7YCi3gXmKR2FfnKnPM2fQxPUjhG9x0eOCaS0fLQ_Q&scope=openid%20profile%20api1%20offline_access&state=CfDJ8HB0BTauGPVOs1d8IcvBxO2tjF7oN0mREVafCG2rvH01pW4tA2qusKUfr4Wde6blufBk72ckuX3PBCdpIuXSmVpJPwWi5PHm5yvhOsolXdTjEgC5J0M7lFcgqxTzXjnlEu_6H7B_gEbdehyeAidpepyDp--MGRcundDGC4d6PKUtk22n2UN7gvgt_kY9extRFjHgErNTJHBSdPxiYRTN11TT6G3iaLjYnW4d5EYz0uF5za9iv2bTkKH9S2L5aLpCR7txLy8NVF57kguNVto7UcpI41o7nxKLNS4VLPX0WvsDheFlfXI-mPJ6lc5mx8No6QXP6B-ZWhEZQymKEcbBUzk&session_state=p-s6EFZg4lnhfUjN2_S_899mIvrgsDNg--AEdaFOuwE.2e2d4bc1f9ea463fe7762fa9eb763a16'.
2018-01-16 09:47:12.356 +00:00 [DBG] Updating configuration
2018-01-16 09:47:12.361 +00:00 [DBG] Received 'id_token'
2018-01-16 09:47:12.363 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.OpenIdConnect.OpenIdConnectHandler', 'System.String', 'oidc', 'v1').
2018-01-16 09:47:12.366 +00:00 [VRB] Authorization code received.
2018-01-16 09:47:12.366 +00:00 [DBG] Redeeming code for tokens.
2018-01-16 09:47:14.801 +00:00 [VRB] Token response received.
2018-01-16 09:47:14.807 +00:00 [VRB] Retrieving claims from the user info endpoint.
2018-01-16 09:47:15.446 +00:00 [VRB] User information received: {
  "sub": "bcf9d0a6-87ed-46c3-a42d-043704d209cf",
  "auth_time": 1516096031,
  "idp": "local",
  "AspNet.Identity.SecurityStamp": "7380eba8-b0d6-4403-ba9c-b48ff485e4ea",
  "adminpermission": [
    "Create",
    "Read",
    "Update",
    "Delete"
  ],
  "role": "Administrator",
  "preferred_username": "superuser@mail.com",
  "name": "superuser@mail.com",
  "email": "superuser@mail.com",
  "email_verified": "false",
  "amr": "pwd"
}
2018-01-16 09:47:15.452 +00:00 [VRB] Performing protect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:47:15.456 +00:00 [INF] AuthenticationScheme: Cookies signed in.
2018-01-16 09:47:15.468 +00:00 [DBG] Connection id "0HLASONN78D09" completed keep alive response.
2018-01-16 09:47:15.470 +00:00 [INF] Request finished in 3251.0379ms 302 
2018-01-16 09:47:15.480 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Secure  
2018-01-16 09:47:15.484 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:47:15.486 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:15.492 +00:00 [DBG] The request path /Home/Secure does not match a supported file type
2018-01-16 09:47:15.495 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:47:15.496 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Secure (MvcClient)
2018-01-16 09:47:15.497 +00:00 [INF] Authorization was successful for user: bcf9d0a6-87ed-46c3-a42d-043704d209cf.
2018-01-16 09:47:15.501 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Secure (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:47:15.505 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Secure (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:47:15.509 +00:00 [DBG] View lookup cache hit for view 'Secure' in controller 'Home'.
2018-01-16 09:47:15.514 +00:00 [DBG] The view 'Secure' was found.
2018-01-16 09:47:15.518 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Secure.cshtml.
2018-01-16 09:47:15.535 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:15.544 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:15.552 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:47:15.553 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:15.554 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:15.567 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:15.568 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:15.578 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Secure (MvcClient) in 80.3683ms
2018-01-16 09:47:15.637 +00:00 [DBG] Connection id "0HLASONN78D09" completed keep alive response.
2018-01-16 09:47:15.663 +00:00 [INF] Request finished in 183.0677ms 200 text/html; charset=utf-8
2018-01-16 09:47:17.780 +00:00 [DBG] Connection id "0HLASONN78D09" received FIN.
2018-01-16 09:47:17.782 +00:00 [DBG] Connection id "0HLASONN78D09" disconnecting.
2018-01-16 09:47:17.783 +00:00 [DBG] Connection id "0HLASONN78D09" sending FIN.
2018-01-16 09:47:17.783 +00:00 [DBG] Connection id "0HLASONN78D09" stopped.
2018-01-16 09:47:19.242 +00:00 [DBG] Connection id "0HLASONN78D0A" started.
2018-01-16 09:47:19.243 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/Home/Administrator  
2018-01-16 09:47:19.248 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:47:19.249 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:19.252 +00:00 [DBG] The request path /Home/Administrator does not match a supported file type
2018-01-16 09:47:19.254 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:47:19.256 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Administrator (MvcClient)
2018-01-16 09:47:19.257 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:19.262 +00:00 [INF] Authorization was successful for user: bcf9d0a6-87ed-46c3-a42d-043704d209cf.
2018-01-16 09:47:19.267 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Administrator (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:47:19.272 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Administrator (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:47:19.275 +00:00 [DBG] View lookup cache miss for view 'Administrator' in controller 'Home'.
2018-01-16 09:47:19.499 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Administrator.cshtml' started.
2018-01-16 09:47:19.761 +00:00 [DBG] Compilation of the generated code for the Razor file at 'C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient\Views\Home\Administrator.cshtml' completed in 260.6477ms.
2018-01-16 09:47:19.769 +00:00 [DBG] The view 'Administrator' was found.
2018-01-16 09:47:19.778 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Administrator.cshtml.
2018-01-16 09:47:19.802 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:47:19.805 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:19.812 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:19.814 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:19.819 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:19.821 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Administrator (MvcClient) in 564.076ms
2018-01-16 09:47:19.861 +00:00 [DBG] Connection id "0HLASONN78D0B" started.
2018-01-16 09:47:20.001 +00:00 [DBG] Connection id "0HLASONN78D0A" completed keep alive response.
2018-01-16 09:47:20.037 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/images/waterline.jpg  
2018-01-16 09:47:20.053 +00:00 [INF] Request finished in 808.9503ms 200 text/html; charset=utf-8
2018-01-16 09:47:20.079 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:47:20.083 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:20.102 +00:00 [INF] The file /images/waterline.jpg was not modified
2018-01-16 09:47:20.118 +00:00 [DBG] Handled. Status code: 304 File: /images/waterline.jpg
2018-01-16 09:47:20.123 +00:00 [DBG] Connection id "0HLASONN78D0B" completed keep alive response.
2018-01-16 09:47:20.149 +00:00 [INF] Request finished in 112.3296ms 304 image/jpeg
2018-01-16 09:47:26.122 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5002/  
2018-01-16 09:47:26.128 +00:00 [VRB] Performing unprotect operation to key "36057470-18ae-4ef5-b357-7c21cbc1c4ed" with purposes ('C:\Users\cjrayner-rose\source\repos\9_Combined_AspNetId_and_EFStorage_002\src\MvcClient', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Cookies', 'v2').
2018-01-16 09:47:26.130 +00:00 [INF] AuthenticationScheme: Cookies was successfully authenticated.
2018-01-16 09:47:26.133 +00:00 [DBG] The request path / does not match a supported file type
2018-01-16 09:47:26.136 +00:00 [DBG] Request successfully matched the route with name 'default' and template '{controller=Home}/{action=Index}/{id?}'.
2018-01-16 09:47:26.137 +00:00 [DBG] Executing action MvcClient.Controllers.HomeController.Index (MvcClient)
2018-01-16 09:47:26.138 +00:00 [INF] Executing action method MvcClient.Controllers.HomeController.Index (MvcClient) with arguments (null) - ModelState is "Valid"
2018-01-16 09:47:26.143 +00:00 [DBG] Executed action method MvcClient.Controllers.HomeController.Index (MvcClient), returned result Microsoft.AspNetCore.Mvc.ViewResult.
2018-01-16 09:47:26.145 +00:00 [DBG] View lookup cache hit for view 'Index' in controller 'Home'.
2018-01-16 09:47:26.147 +00:00 [DBG] The view 'Index' was found.
2018-01-16 09:47:26.148 +00:00 [INF] Executing ViewResult, running view at path /Views/Home/Index.cshtml.
2018-01-16 09:47:26.152 +00:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2018-01-16 09:47:26.153 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:26.154 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:26.159 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' initialized.
2018-01-16 09:47:26.160 +00:00 [DBG] Tag helper component 'Microsoft.AspNetCore.ApplicationInsights.HostingStartup.JavaScriptSnippetTagHelperComponent' processed.
2018-01-16 09:47:26.162 +00:00 [INF] Executed action MvcClient.Controllers.HomeController.Index (MvcClient) in 23.6975ms
2018-01-16 09:47:26.171 +00:00 [DBG] Connection id "0HLASONN78D0B" completed keep alive response.
2018-01-16 09:47:26.173 +00:00 [INF] Request finished in 51.1981ms 200 text/html; charset=utf-8
2018-01-16 09:47:27.782 +00:00 [DBG] Connection id "0HLASONN78D0A" received FIN.
2018-01-16 09:47:27.782 +00:00 [DBG] Connection id "0HLASONN78D0B" received FIN.
2018-01-16 09:47:27.783 +00:00 [DBG] Connection id "0HLASONN78D0A" disconnecting.
2018-01-16 09:47:27.784 +00:00 [DBG] Connection id "0HLASONN78D0A" sending FIN.
2018-01-16 09:47:27.784 +00:00 [DBG] Connection id "0HLASONN78D0A" stopped.
2018-01-16 09:47:27.786 +00:00 [DBG] Connection id "0HLASONN78D0B" disconnecting.
2018-01-16 09:47:27.787 +00:00 [DBG] Connection id "0HLASONN78D0B" sending FIN.
2018-01-16 09:47:27.797 +00:00 [DBG] Connection id "0HLASONN78D0B" stopped.
